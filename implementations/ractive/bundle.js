!function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return i(n?n:t)},h,h.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){(function(n){function r(t){setTimeout(function(){t(null,i())},w)}function i(){return JSON.parse(localStorage.getItem("topics"))}function o(t,e){setTimeout(function(){e(null,s(t))},w)}function s(t){return i().find(function(e){return e.id===t})}function a(t){var e={name:t,id:y()},n=i();return n.push(e),d(e.id,[]),p(n),e}function u(t){var e=i(),r=e.findIndex(function(e){return e.id===t});e.splice(r,1),p(e),n.nextTick(function(){localStorage.removeItem(t)})}function c(t,e){"function"==typeof t&&(e=t,t=null),setTimeout(function(){t?e(null,l(t)):e(null,h())},w)}function h(){var t=i();return t.reduce(function(t,e){var n=e.id;return t[n]=l(n),t},{})}function l(t){var e=localStorage.getItem(t);return e?JSON.parse(localStorage.getItem(t)):[]}function f(t,e){var n=l(t),r={name:e,done:!1};return n.push(r),d(t,n),r}function d(t,e){localStorage.setItem(t,JSON.stringify(e)),x.emit("tasks saved",t)}function p(t){localStorage.setItem("topics",JSON.stringify(t)),x.emit("topics saved")}function m(){return{name:localStorage.getItem("currentUserName")}}function v(t){t?localStorage.setItem("currentUserName",t):localStorage.removeItem("currentUserName")}function g(){console.log("Initializing dummy data");var t={name:"Important stuff",id:y()},e={name:"Not as important",id:y()};p([t,e]),d(t.id,[{name:"Put on pants",done:!1},{name:"Visit chat room to see if you still pass the Turing test",done:!1}]),d(e.id,[{name:"Make cupcakes",done:!0},{name:"Eat cupcakes",done:!0},{name:"Write forum post rant about how chocolate cupcakes are the only good kind of cupcake",done:!1}])}var y=t("random-uuid-v4"),b=t("events").EventEmitter,w=50,x=new b;e.exports=x,x.getTopics=r,x.getTopic=o,x.addTopic=a,x.removeTopic=u,x.getTasks=c,x.saveTasks=d,x.saveTopics=p,x.getCurrentUser=m,x.saveCurrentUser=v,x.saveTask=f,function(){localStorage.getItem("topics")||g()}()}).call(this,t("_process"))},{_process:21,events:26,"random-uuid-v4":40}],2:[function(t,e,n){e.exports=function(t){t.addState({name:"app.about",route:"/about",template:'<div class="container">\n\t<div class="row">\n\t\t<div class="col-sm-offset-2 col-sm-8">\n\t\t\t<div class="jumbotron">\n\t\t\t\t<h1>About this example</h1>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="row">\n\t\t<div class="col-sm-offset-3 col-sm-6">\n\t\t\t<p>\n\t\t\t\tPretty sweet, isn\'t it?  Here, let me give some examples or something.\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</div>\n'})}},{}],3:[function(t,e,n){(function(n){t("array.prototype.findindex");var r=t("model.js");e.exports=function(e){e.addState({name:"app",route:"/app",defaultChild:"topics",template:n("PG5hdiBjbGFzcz0ibmF2YmFyIG5hdmJhci1kZWZhdWx0Ij4KCTxkaXYgY2xhc3M9ImNvbnRhaW5lci1mbHVpZCI+CgkJPGRpdiBjbGFzcz0ibmF2YmFyLWhlYWRlciI+CgkJCTx1bCBjbGFzcz0ibmF2IG5hdmJhci1uYXYiPgoJCQkJPGxpIGRlY29yYXRvcj0iYWN0aXZlOmFwcC50b3BpY3MiPgoJCQkJCTxhIGhyZWY9Int7IG1ha2VQYXRoKCdhcHAudG9waWNzJykgfX0iPkJhc2ljIHRvZG8gYXBwITwvYT4KCQkJCTwvbGk+CgkJCQk8bGkgZGVjb3JhdG9yPSJhY3RpdmU6YXBwLmFib3V0Ij4KCQkJCQk8YSBocmVmPSJ7eyBtYWtlUGF0aCgnYXBwLmFib3V0JykgfX0iPkFib3V0IHRoZSBzdGF0ZSByb3V0ZXI8L2E+CgkJCQk8L2xpPgoJCQkJPGxpPgoJCQkJCTxhIGhyZWY9Int7IG1ha2VQYXRoKCdsb2dpbicpIH19IiBvbi1jbGljaz0ibG9nb3V0Ij4iTG9nIG91dCI8L2E+CgkJCQk8L2xpPgoJCQk8L3VsPgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9Im5hdiBuYXZiYXItcmlnaHQiPgoJCQk8cCBjbGFzcz0ibmF2YmFyLXRleHQiPgoJCQkJTG9nZ2VkIGluIGFzIHt7Y3VycmVudFVzZXIubmFtZX19CgkJCTwvcD4KCQk8L2Rpdj4KCTwvZGl2Pgo8L25hdj4KCjx1aS12aWV3PjwvdWktdmlldz4K","base64").toString(),resolve:function(t,e,n){var i=r.getCurrentUser();i.name?n(null,{currentUser:i}):n.redirect("login")},activate:function(t){var n=t.domApi;n.on("logout",function(){r.saveCurrentUser(null),e.go("login")})}}),t("./about/about")(e),t("./topics/topics")(e)}}).call(this,t("buffer").Buffer)},{"./about/about":2,"./topics/topics":5,"array.prototype.findindex":18,buffer:22,"model.js":1}],4:[function(t,e,n){var r=t("model.js"),i=t("async-all"),o="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}";e.exports=function(t){t.addState({name:"app.topics.tasks",route:"/:topicId("+o+")",template:'<h1>{{topic.name}}</h1>\n\n<table class="table table-striped">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>\n\t\t\t\tTask name\n\t\t\t</th>\n\t\t\t<th style="width: 100px">\n\t\t\t\tComplete\n\t\t\t</th>\n\t\t\t<th style="width: 87px">\n\t\t\t\tRemove\n\t\t\t</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n\t\t{{#tasks:i}}\n\t\t\t<tr>\n\t\t\t\t<td class="{{#done}}text-muted{{/}} center-y">\n\t\t\t\t\t<span class="center-y">\n\t\t\t\t\t\t{{name}} &nbsp;{{#done}}<span class="glyphicon glyphicon-ok text-success"></span>{{/}}\n\t\t\t\t\t</span>\n\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t{{#if done}}\n\t\t\t\t\t\t<button class="btn btn-primary full-width" on-click="restore(i)">Restore</button>\n\t\t\t\t\t{{else}}\n\t\t\t\t\t\t<button class="btn btn-success full-width" on-click="complete(i)">Complete</button>\n\t\t\t\t\t{{/if}}\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<button class="btn btn-danger full-width" on-click="remove(i)">\n\t\t\t\t\t\tRemove\n\t\t\t\t\t</button>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t{{/tasks}}\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<input type="text" class="form-control add-new-task" placeholder="New task" value="{{newTaskName}}" on-keyup="newTaskKeyup">\n\t\t\t</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n',resolve:function(t,e,n){i({topic:r.getTopic.bind(null,e.topicId),tasks:r.getTasks.bind(null,e.topicId)},n)},activate:function(t){function e(t,e){i.set("tasks."+t+".done",e),r.saveTasks(o,i.get("tasks"))}function n(t){var e=r.saveTask(o,t);i.push("tasks",e)}var i=t.domApi,o=t.parameters.topicId;i.complete=function(t){e(t,!0)},i.restore=function(t){e(t,!1)},i.remove=function(t){i.get("tasks").splice(t,1),r.saveTasks(o,i.get("tasks"))},i.on("newTaskKeyup",function(t){var e=i.get("newTaskName");13===t.original.keyCode&&e&&(n(e),i.set("newTaskName",""))}),i.find(".add-new-task").focus()}}),t.addState({name:"app.topics.no-task",route:"",template:"<p>\n\tThis is a very basic todo app\tto show off route states.\n</p>\n<p>\n\tClick on one of the topics on the left, and watch both the url and this half of the screen change, without anything else in the dom changing!\n</p>\n"})}},{"async-all":19,"model.js":1}],5:[function(t,e,n){(function(n){var r=t("model.js"),i=t("async-all");e.exports=function(e){e.addState({name:"app.topics",route:"/topics",defaultChild:"no-task",template:'<div class="container">\n\t<div class="row">\n\t\t<div class="col-sm-4">\n\t\t\t<div class="list-group">\n\t\t\t\t{{#topics}}\n\t\t\t\t\t<a href="{{ makePath(\'app.topics.tasks\', { topicId: id }) }}"\n\t\t\t\t\tclass="list-group-item"\n\t\t\t\t\tdecorator="active:\'app.topics.tasks\',\'topicId:{{id}}\'">\n\t\t\t\t\t\t{{name}} <span class="badge">{{ tasksUndone[id] }}</span>\n\t\t\t\t\t</a>\n\t\t\t\t{{/topics}}\n\t\t\t</div>\n\t\t\t<form action="" onsubmit="return false" on-submit="add-topic">\n\t\t\t\t<div class="table">\n\t\t\t\t\t<div class="table-row-group">\n\t\t\t\t\t\t<div class="table-row">\n\t\t\t\t\t\t\t<div class="table-cell">\n\t\t\t\t\t\t\t\t<input type="text" class="new-topic-name form-control {{^addingTopic}}hidden{{/addingTopic}}" placeholder="Topic name" value="{{newTopic}}">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="table-cell" style="width: 60px; vertical-align: top">\n\t\t\t\t\t\t\t\t<button type="submit" class="btn btn-default pull-right">Add</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t\t<div class="col-sm-8">\n\t\t\t<ui-view></ui-view>\n\t\t</div>\n\t</div>\n</div>\n',resolve:function(t,e,n){i({topics:r.getTopics,tasks:r.getTasks},n)},activate:function(t){function i(){n.nextTick(function(){s.find(".new-topic-name").focus()})}function o(t){r.getTasks(t,function(e,n){var r=n.reduce(function(t,e){return t+(e.done?0:1)},0);s.set("tasksUndone."+t,r)})}var s=t.domApi;s.set({tasksUndone:{},addingTopic:!1}),r.on("tasks saved",o),t.content.topics.forEach(function(t){o(t.id)}),s.on("add-topic",function(){var t=s.get("addingTopic"),n=s.get("newTopic");if(t&&n){var a=r.addTopic(n);s.push("topics",a),s.set("newTopic",""),o(a.id),e.go("app.topics.tasks",{topicId:a.id})}else t||i();return s.set("addingTopic",!t),!1}),t.on("destroy",function(){r.removeListener("tasks saved",o)})}}),t("./tasks/tasks")(e)}}).call(this,t("_process"))},{"./tasks/tasks":4,_process:21,"async-all":19,"model.js":1}],6:[function(t,e,n){var r=t("abstract-state-router"),i=t("ractive"),o=t("ractive-state-router"),s=t("domready"),a=r(o(i,{}),"body");a.setMaxListeners(20),t("./login/login")(a),t("./app/app")(a),s(function(){a.evaluateCurrentRoute("login")})},{"./app/app":3,"./login/login":7,"abstract-state-router":9,domready:25,ractive:39,"ractive-state-router":38}],7:[function(t,e,n){(function(n){var r=t("model.js");e.exports=function(t){t.addState({name:"login",route:"/login",template:n("PGRpdiBjbGFzcz0iY29udGFpbmVyLWZsdWlkIj4KCTxkaXYgY2xhc3M9InJvdyI+CgkJPGRpdiBjbGFzcz0iY29sLXNtLW9mZnNldC0zIGNvbC1zbS02Ij4KCQkJPGgxPldlbGNvbWUgdG8gdGhlIGFic3RyYWN0LXN0YXRlLXJvdXRlciBkZW1vITwvaDE+CgkJPC9kaXY+Cgk8L2Rpdj4KCTxkaXYgY2xhc3M9InJvdyBtYXJnaW4tdG9wLTIwIj4KCQk8ZGl2IGNsYXNzPSJjb2wtc20tb2Zmc2V0LTMgY29sLXNtLTYiPgoJCQk8ZGl2IGNsYXNzPSJ3ZWxsIj4KCQkJCTxwIGNsYXNzPSJsZWFkIj4KCQkJCQlUaGlzIGlzIGEgZGVtbyB3ZWJhcHAgc2hvd2luZyBvZmYgYmFzaWMgdXNhZ2Ugb2YgdGhlIDxhIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9UZWhTaHJpa2UvYWJzdHJhY3Qtc3RhdGUtcm91dGVyIj5hYnN0cmFjdC1zdGF0ZS1yb3V0ZXI8L2E+IGxpYnJhcnkgdXNpbmcgYSBmZXcgZGlmZmVyZW50IHRlbXBsYXRpbmcgbGlicmFyaWVzLgoJCQkJPC9wPgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCTwvZGl2PgoJPGRpdiBjbGFzcz0icm93IG1hcmdpbi10b3AtMjAiPgoJCTxkaXYgY2xhc3M9ImNvbC1zbS1vZmZzZXQtNCBjb2wtc20tNCI+CgkJCTxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAgcGFuZWwiPgoJCQkJPGZvcm0gb25zdWJtaXQ9InJldHVybiBmYWxzZSIgb24tc3VibWl0PSJsb2dpbiIgY2xhc3M9InBhbmVsLWJvZHkiIGFjdGlvbj0iIj4KCQkJCQk8bGFiZWw+CgkJCQkJCVB1dCBpbiB3aGF0ZXZlciB1c2VybmFtZSB5b3UgZmVlbCBsaWtlOgoJCQkJCQk8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgdmFsdWU9Int7dXNlcm5hbWV9fSI+CgkJCQkJPC9sYWJlbD4KCQkJCQk8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSI+IkxvZyBpbiI8L2J1dHRvbj4KCQkJCTwvZm9ybT4KCQkJPC9kaXY+CgkJPC9kaXY+Cgk8L2Rpdj4KPC9kaXY+Cg==","base64").toString(),activate:function(e){var n=e.domApi;n.on("login",function(){return n.get("username")&&(r.saveCurrentUser(n.get("username")),t.go("app")),!1})}})}}).call(this,t("buffer").Buffer)},{buffer:22,"model.js":1}],8:[function(t,e,n){e.exports={reverse:!1}},{}],9:[function(t,e,n){(function(n){function r(t,e){var n=p(e);return n.filter(function(e){return t[e]}).reduce(function(e,n){return w(e,t[n])},{})}function i(t,e){return{redirectTo:{name:t,params:e}}}function o(t,e){var n=t.filter(u("resolve")),r=n.map(s("name")),o=Promise.all(n.map(function(t){return new Promise(function(n,r){function o(t,e){t?r(t):n(e)}o.redirect=function(t,e){r(i(t,e))};var s=t.resolve(t.data,e,o);!s||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof s.then||n(s)})}));return o.then(function(t){return E({stateName:r,resolveResult:t}).reduce(function(t,e){return t[e.stateName]=e.resolveResult,t},{})})}function s(t){return function(e){return e[t]}}function a(t){return t.slice().reverse()}function u(t){return function(e){return"function"==typeof e[t]}}function c(){var t=Array.prototype.shift.apply(arguments),e=arguments;return new Promise(function(n){n(t.apply(null,e))})}var h=t("./lib/state-state"),l=t("./lib/state-comparison"),f=t("./lib/current-state"),d=t("./lib/state-change-logic"),p=t("./lib/state-string-parser"),m=t("./lib/state-transition-manager"),v=t("./default-router-options.js"),g=t("./lib/promise-map-series"),y=t("then-denodeify"),b=t("events").EventEmitter,w=t("xtend"),x=t("hash-brown-router"),E=t("combine-arrays"),k=t("page-path-builder");t("native-promise-only/npo");var _=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"];e.exports=function(t,e,s){function u(t,e){n.nextTick(function(){if(U.emit(t,e),console.error(t+" - "+e.message),s.throwOnError)throw e})}function p(t){var e=L.get(t);return U.emit("beforeDestroyState",{state:e,domApi:Y[t]}),z[t].emit("destroy"),z[t].removeAllListeners(),delete z[t],delete W[t],B(Y[t]).then(function(){delete Y[t],U.emit("afterDestroyState",{state:e})})}function E(t,e){var n=Y[e],i=r(W,e),o=L.get(e);return U.emit("beforeResetState",{domApi:n,content:i,state:o,parameters:t}),z[e].emit("destroy"),delete z[e],V({domApi:n,content:i,template:o.template,parameters:t}).then(function(n){n&&(Y[e]=n),U.emit("afterResetState",{domApi:Y[e],content:i,state:o,parameters:t})})}function A(t){return new Promise(function(n){var r=L.getParent(t);if(r){var i=Y[r.name];n(D(i))}else n(e)})}function C(t,e){return A(e).then(function(n){var i=L.get(e),o=r(W,e);return U.emit("beforeCreateState",{state:i,content:o,parameters:t}),M({element:n,template:i.template,content:o,parameters:t}).then(function(n){return Y[e]=n,U.emit("afterCreateState",{state:i,domApi:n,content:o,parameters:t}),n})})}function S(t,e){return g(t,C.bind(null,e))}function T(t,e){try{var n=L.applyDefaultChildStates(t.name);if(n===t.name)R(n,e);else{var r=j(n,e),i=s.router.location.get();r===i?R(n,e):U.go(n,e,{replace:!0})}}catch(t){u("stateError",t)}}function P(t){if("undefined"==typeof t)throw new Error("Expected 'state' to be passed in.");if("undefined"==typeof t.name)throw new Error("Expected the 'name' option to be passed in.");if("undefined"==typeof t.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(t).filter(function(t){return _.indexOf(t)===-1}).forEach(function(t){console.warn("Unexpected property passed to addState:",t)}),L.add(t.name,t);var e=L.buildFullStateRoute(t.name);s.router.add(e,T.bind(null,t))}function I(t){return t.change.concat(t.create).map(L.get)}function R(t,e){U.emit("stateChangeAttempt",function(n){O(t,e,n)})}function O(t,e,s){function h(e){return function(){if(s.cancelled){var n=new Error("The transition to "+t+"was cancelled");throw n.wasCancelledBySomeoneElse=!0,n}return e.apply(null,arguments)}}return c(L.guaranteeAllStatesExist,t).then(function(){var n=L.get(t),r=n.defaultParameters||n.defaultQuerystringParameters||{},o=Object.keys(r).some(function(t){return"undefined"==typeof e[t]});if(o)throw i(t,w(r,e));return n}).then(h(function(t){U.emit("stateChangeStart",t,e),N.set(t.name,e)})).then(function(){var n=l(L)(F.get().name,F.get().parameters,t,e);return d(n)}).then(h(function(t){function i(t){return t.map(L.get).forEach(function(t){var i=new b,o=Object.create(i);o.domApi=Y[t.name],o.data=t.data,o.parameters=e,o.content=r(W,t.name),z[t.name]=i;try{t.activate&&t.activate(o)}catch(t){n.nextTick(function(){throw t})}})}return o(I(t),w(e)).catch(function(t){throw t.stateChangeError=!0,t}).then(h(function(n){function r(){var e=t.change.concat(t.create);return i(e)}return s.cancellable=!1,W=w(W,n),g(a(t.destroy),p).then(function(){return g(a(t.change),E.bind(null,w(e)))}).then(function(){return S(t.create,w(e)).then(r)})}))})).then(function(){F.set(t,e);try{U.emit("stateChangeEnd",L.get(t),e)}catch(t){u("stateError",t)}}).catch(h(function(t){return t&&t.redirectTo?(U.emit("stateChangeCancelled",t),U.go(t.redirectTo.name,t.redirectTo.params,{replace:!0})):void(t&&u("stateChangeError",t))})).catch(function(t){if(!t||!t.wasCancelledBySomeoneElse)throw new Error("This probably shouldn't happen, maybe file an issue or something "+t)})}function j(t,e,n){function r(){if(!N.get().name)throw new Error("makePath required a previous state to exist, and none was found");return N.get()}n&&n.inherit&&(e=w(r().parameters,e));var i=null===t?r().name:t,o=L.get(i)||{},s=o.defaultParameters||o.defaultQuerystringParameters;e=w(s,e),L.guaranteeAllStatesExist(i);var a=L.buildFullStateRoute(i);return k(a,e||{})}var L=h(),F=f(),N=f(),U=new b;m(U),s=w({throwOnError:!0,pathPrefix:"#"},s),s.router||(s.router=x(v)),s.router.setDefault(function(t,e){U.emit("routeNotFound",t,e)});var B=null,D=null,M=null,V=null,Y={},W={},z={},G={replace:!1};U.addState=P,U.go=function(t,e,n){n=w(G,n);var r=n.replace?s.router.replace:s.router.go;return c(j,t,e,n).then(r,u.bind(null,"stateChangeError"))},U.evaluateCurrentRoute=function(t,e){return c(j,t,e).then(function(t){s.router.evaluateCurrent(t)}).catch(function(t){u("stateError",t)})},U.makePath=function(t,e,n){return s.pathPrefix+j(t,e,n)},U.stateIsActive=function(t,e){var n=F.get();return(n.name===t||0===n.name.indexOf(t+"."))&&("undefined"==typeof e||Object.keys(e).every(function(t){return e[t]===n.parameters[t]}))};var J=t(U);return B=y(J.destroy),D=y(J.getChildElement),M=y(J.render),V=y(J.reset),U}}).call(this,t("_process"))},{"./default-router-options.js":8,"./lib/current-state":10,"./lib/promise-map-series":11,"./lib/state-change-logic":12,"./lib/state-comparison":13,"./lib/state-state":14,"./lib/state-string-parser":15,"./lib/state-transition-manager":16,_process:21,"combine-arrays":24,events:26,"hash-brown-router":28,"native-promise-only/npo":31,"page-path-builder":32,"then-denodeify":41,xtend:42}],10:[function(t,e,n){e.exports=function(){var t={name:"",parameters:{}};return{get:function(){return t},set:function(e,n){t={name:e,parameters:n}}}}},{}],11:[function(t,e,n){var r=t("native-promise-only/npo");e.exports=function(t,e,n){var i=r.resolve(),o=arguments.length>2?e.bind(n):e,s=t.map(function(e,n){return i=i.then(function(n){return o(e,n,t)}.bind(null,n))});return r.all(s)}},{"native-promise-only/npo":31}],12:[function(t,e,n){e.exports=function(t){var e=!1,n=!1,r={destroy:[],change:[],create:[]};return t.forEach(function(t){e=e||t.stateParametersChanged,n=n||t.stateNameChanged,t.nameBefore&&(n?r.destroy.push(t.nameBefore):e&&r.change.push(t.nameBefore)),t.nameAfter&&n&&r.create.push(t.nameAfter)}),r}},{}],13:[function(t,e,n){function r(){var t={};return function(e){return e?(t[e]||(t[e]=u(e).keys.map(function(t){return t.name})),t[e]):[]}}function i(t,e,n,r,i){var o=t.get(n),s=o.querystringParameters||[],a=e(o.route).concat(s);return Array.isArray(a)&&a.some(function(t){return r[t]!==i[t]})}function o(t,e,n,r,i){var o=a({start:s(e),end:s(r)});return o.map(function(e){return{nameBefore:e.start,nameAfter:e.end,stateNameChanged:e.start!==e.end,stateParametersChanged:e.start===e.end&&t(e.start,n,i)}})}var s=t("./state-string-parser"),a=t("combine-arrays"),u=t("path-to-regexp-with-reversible-keys");e.exports=function(t){var e=r(),n=i.bind(null,t,e);return o.bind(null,n)}},{"./state-string-parser":15,"combine-arrays":24,"path-to-regexp-with-reversible-keys":34}],14:[function(t,e,n){var r=t("./state-string-parser"),i=t("./state-string-parser");e.exports=function(){function t(t){var e=r(t);return e.map(function(t){if(!u[t])throw new Error("State "+t+" not found");return u[t]})}function e(t){var e=n(t);return e&&u[e]}function n(t){var e=r(t);if(e.length>1){var n=e.length-2;return e[n]}return null}function o(t){var e=i(t),n=e.filter(function(t){return!u[t]});if(n.length>0)throw new Error("State "+n[n.length-1]+" does not exist")}function s(e){return t(e).map(function(t){return"/"+(t.route||"")}).join("").replace(/\/{2,}/g,"/")}function a(t){function e(){return n&&("function"==typeof n.defaultChild?n.defaultChild():n.defaultChild)}var n=u[t],r=e();if(!r)return t;var i=t+"."+r;return a(i)}var u={};return{add:function(t,e){u[t]=e},get:function(t){return t&&u[t]},getHierarchy:t,getParent:e,getParentName:n,guaranteeAllStatesExist:o,buildFullStateRoute:s,applyDefaultChildStates:a}}},{"./state-string-parser":15}],15:[function(t,e,n){e.exports=function(t){return t.split(".").reduce(function(t,e){return t.length&&(e=t[t.length-1]+"."+e),t.push(e),t},[])}},{}],16:[function(t,e,n){e.exports=function(t){function e(){s=null,a&&r()}function n(){return!!s}function r(){s=a,a=null,s.beginStateChange()}function i(){s.transition.cancelled=!0;var e=new Error("State transition cancelled by the state transition manager");e.wasCancelledBySomeoneElse=!0,t.emit("stateChangeCancelled",e)}function o(t){var e={cancelled:!1,cancellable:!0};return{transition:e,beginStateChange:t.bind(null,e)}}var s=null,a=null;t.on("stateChangeAttempt",function(t){a=o(t),n()&&s.transition.cancellable?i():n()||r()}),t.on("stateChangeError",e),t.on("stateChangeCancelled",e),t.on("stateChangeEnd",e)}},{}],17:[function(t,e,n){!function(t){if(!Array.prototype.find){var e=function(t){var e=Object(this),n=e.length<0?0:e.length>>>0;if(0!==n){if("function"!=typeof t||"[object Function]"!==Object.prototype.toString.call(t))throw new TypeError("Array#find: predicate must be a function");for(var r,i=arguments[1],o=0;o<n;o++)if(r=e[o],t.call(i,r,o,e))return r}};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"find",{value:e,configurable:!0,enumerable:!1,writable:!0})}catch(t){}Array.prototype.find||(Array.prototype.find=e)}}(this)},{}],18:[function(t,e,n){!function(t){if(!Array.prototype.findIndex){var e=function(t){var e=Object(this),n=Math.max(0,e.length)>>>0;if(0===n)return-1;if("function"!=typeof t||"[object Function]"!==Object.prototype.toString.call(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:void 0,i=0;i<n;i++)if(t.call(r,e[i],i,e))return i;return-1};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"findIndex",{value:e,configurable:!0,writable:!0})}catch(t){}Array.prototype.findIndex||(Array.prototype.findIndex=e)}}(this)},{}],19:[function(t,e,n){(function(t){e.exports=function(e,n){function r(){function e(){"function"==typeof n&&(c?n(c):n(null,u))}s?t.nextTick(e):e()}function i(){0!==a||o||(r(),o=!0)}var o=!1,s=!0,a=0,u={},c=null;if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("async-all requires you to pass in an object!");Object.keys(e).forEach(function(t){var n=!1;"function"==typeof e[t]?(a++,e[t](function(e,r){n||(n=!0,a--,c||(e?c=e:u[t]=r),i())})):u[t]=e[t]}),i(),s=!1}}).call(this,t("_process"))},{_process:21}],20:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s||e===l?62:e===a||e===f?63:e<u?-1:e<u+10?e-u+26+26:e<h+26?e-h:e<c+26?e-c+26:void 0}function n(t){function n(t){c[l++]=t}var r,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=t.length;u="="===t.charAt(h-2)?2:"="===t.charAt(h-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var l=0;for(r=0,i=0;r<s;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;i<s;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),h="A".charCodeAt(0),l="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],21:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(f===clearTimeout)return clearTimeout(t);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?m=p.concat(m):g=-1,m.length&&u())}function u(){if(!v){var t=o(a);v=!0;for(var e=m.length;e;){for(p=m,m=[];++g<e;)p&&p[g].run();g=-1,e=m.length}p=null,v=!1,s(t)}}function c(t,e){this.fun=t,this.array=e}function h(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(t){f=i}}();var p,m=[],v=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new c(t,e)),1!==m.length||v||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=h,d.addListener=h,d.once=h,d.off=h,d.removeListener=h,d.removeAllListeners=h,d.emit=h,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],22:[function(t,e,n){(function(e){"use strict";function r(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function i(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?s(this,t):"string"==typeof t?a(this,t,arguments.length>1?arguments[1]:"utf8"):u(this,t)):arguments.length>1?new o(t,arguments[1]):new o(t)}function s(t,e){if(t=m(t,e<0?0:0|v(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;n++)t[n]=0;return t}function a(t,e,n){"string"==typeof n&&""!==n||(n="utf8");var r=0|y(e,n);return t=m(t,r),t.write(e,n),t}function u(t,e){if(o.isBuffer(e))return c(t,e);if($(e))return h(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return l(t,e);if(e instanceof ArrayBuffer)return f(t,e)}return e.length?d(t,e):p(t,e)}function c(t,e){var n=0|v(e.length);return t=m(t,n),e.copy(t,0,0,n),t}function h(t,e){var n=0|v(e.length);t=m(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function l(t,e){var n=0|v(e.length);t=m(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t,e){return o.TYPED_ARRAY_SUPPORT?(e.byteLength,t=o._augment(new Uint8Array(e))):t=l(t,new Uint8Array(e)),t}function d(t,e){var n=0|v(e.length);t=m(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t,e){var n,r=0;"Buffer"===e.type&&$(e.data)&&(n=e.data,r=0|v(n.length)),t=m(t,r);for(var i=0;i<r;i+=1)t[i]=255&n[i];return t}function m(t,e){o.TYPED_ARRAY_SUPPORT?(t=o._augment(new Uint8Array(e)),t.__proto__=o.prototype):(t.length=e,t._isBuffer=!0);var n=0!==e&&e<=o.poolSize>>>1;return n&&(t.parent=K),t}function v(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function g(t,e){if(!(this instanceof g))return new g(t,e);var n=new o(t,e);return delete n.parent,n}function y(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(t).length;default:if(r)return W(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if(e|=0,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),e<0&&(e=0),n>this.length&&(n=this.length),n<=e)return"";for(;;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return P(this,e,n);case"binary":return I(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function x(t,e,n,r){return Z(W(e,t.length-n),t,n,r)}function E(t,e,n,r){return Z(z(e),t,n,r)}function k(t,e,n,r){return E(t,e,n,r)}function _(t,e,n,r){return Z(J(e),t,n,r)}function A(t,e,n,r){return Z(G(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,c,h,l;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[i+1],128===(192&u)&&(l=(31&o)<<6|63&u,l>127&&(s=l));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(l=(15&o)<<12|(63&u)<<6|63&c,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:u=t[i+1],c=t[i+2],h=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&h)&&(l=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&h,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return T(r)}function T(t){var e=t.length;if(e<=X)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=X));return n}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;o++)i+=Y(t[o]);return i}function O(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function j(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,n,r,i,s){if(!o.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>i||e<s)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range")}function F(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function U(t,e,n,r,i,o){if(e>i||e<o)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function B(t,e,n,r,i){return i||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),q.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,i){return i||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),q.write(t,e,n,r,52,8),n+8}function M(t){if(t=V(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function V(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function W(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;s++){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");
if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function G(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function J(t){return Q.toByteArray(M(t))}function Z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}var Q=t("base64-js"),q=t("ieee754"),$=t("isarray");n.Buffer=o,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,o.poolSize=8192;var K={};o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:r(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s&&t[i]===e[i];)++i;return i!==s&&(n=t[i],r=e[i]),n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!$(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new o(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=new o(e),i=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(r,i),i+=s.length}return r},o.byteLength=y,o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):b.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:o.compare(this,t)},o.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[r===-1?0:i-r]){if(r===-1&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(o.isBuffer(t))return n(this,t,e);if("number"==typeof t)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},o.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return x(this,t,e,n);case"ascii":return E(this,t,e,n);case"binary":return k(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=o._augment(this.subarray(t,e));else{var i=e-t;r=new o(i,void 0);for(var s=0;s<i;s++)r[s]=this[s+t]}return r.length&&(r.parent=this.parent||this),r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||j(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},o.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||L(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||L(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=0,s=1,a=t<0?1:0;for(this[e]=255&t;++o<n&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);L(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=t<0?1:0;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=(t/s>>0)-a&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;i--)t[i+e]=this[i+n];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<s;i++)t[i+e]=this[i+n];else t._set(this.subarray(n,n+s),e);return s},o.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),n<e)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;r<n;r++)this[r]=t;else{var i=W(t.toString()),o=i.length;for(r=e;r<n;r++)this[r]=i[r%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var H=o.prototype;o._augment=function(t){return t.constructor=o,t._isBuffer=!0,t._set=t.set,t.get=H.get,t.set=H.set,t.write=H.write,t.toString=H.toString,t.toLocaleString=H.toString,t.toJSON=H.toJSON,t.equals=H.equals,t.compare=H.compare,t.indexOf=H.indexOf,t.copy=H.copy,t.slice=H.slice,t.readUIntLE=H.readUIntLE,t.readUIntBE=H.readUIntBE,t.readUInt8=H.readUInt8,t.readUInt16LE=H.readUInt16LE,t.readUInt16BE=H.readUInt16BE,t.readUInt32LE=H.readUInt32LE,t.readUInt32BE=H.readUInt32BE,t.readIntLE=H.readIntLE,t.readIntBE=H.readIntBE,t.readInt8=H.readInt8,t.readInt16LE=H.readInt16LE,t.readInt16BE=H.readInt16BE,t.readInt32LE=H.readInt32LE,t.readInt32BE=H.readInt32BE,t.readFloatLE=H.readFloatLE,t.readFloatBE=H.readFloatBE,t.readDoubleLE=H.readDoubleLE,t.readDoubleBE=H.readDoubleBE,t.writeUInt8=H.writeUInt8,t.writeUIntLE=H.writeUIntLE,t.writeUIntBE=H.writeUIntBE,t.writeUInt16LE=H.writeUInt16LE,t.writeUInt16BE=H.writeUInt16BE,t.writeUInt32LE=H.writeUInt32LE,t.writeUInt32BE=H.writeUInt32BE,t.writeIntLE=H.writeIntLE,t.writeIntBE=H.writeIntBE,t.writeInt8=H.writeInt8,t.writeInt16LE=H.writeInt16LE,t.writeInt16BE=H.writeInt16BE,t.writeInt32LE=H.writeInt32LE,t.writeInt32BE=H.writeInt32BE,t.writeFloatLE=H.writeFloatLE,t.writeFloatBE=H.writeFloatBE,t.writeDoubleLE=H.writeDoubleLE,t.writeDoubleBE=H.writeDoubleBE,t.fill=H.fill,t.inspect=H.inspect,t.toArrayBuffer=H.toArrayBuffer,t};var tt=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":20,ieee754:29,isarray:23}],23:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],24:[function(t,e,n){e.exports=function(t){function e(e){var r={};return n.forEach(function(n){r[n]=t[n][e]}),r}var n=Object.keys(t);n.forEach(function(e){if(!Array.isArray(t[e]))throw new Error(e+" is not an array")});for(var r=n.reduce(function(e,n){var r=t[n].length;return e>r?e:r},0),i=[],o=0;o<r;++o)i.push(e(o));return i}},{}],25:[function(t,e,n){!function(t,n){"undefined"!=typeof e?e.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[t]=n()}("domready",function(){var t,e=[],n=document,r=n.documentElement.doScroll,i="DOMContentLoaded",o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener(i,t=function(){for(n.removeEventListener(i,t),o=1;t=e.shift();)t()}),function(t){o?setTimeout(t,0):e.push(t)}})},{}],26:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;u<r;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;u<r;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],27:[function(t,e,n){function r(t,e){t.location.replace(i(t.location.href)+"#"+e)}function i(t){var e=t.indexOf("#");return e===-1?t:t.substring(0,e)}function o(t,e){t.location.hash=e}function s(t,e){var n=a(t.location.hash);return e?decodeURI(n):n}function a(t){return t&&"#"===t[0]?t.substr(1):t}function u(){var t=document.createElement("a");return t.href="#x x",!/x x/.test(t.hash)}var c=t("events").EventEmitter;e.exports=function(t){var e=new c,n="",i=u();return t.addEventListener("hashchange",function(){n!==e.get()&&(n=e.get(),e.emit("hashchange"))}),e.go=o.bind(null,t),e.replace=r.bind(null,t),e.get=s.bind(null,t,i),e}},{events:26}],28:[function(t,e,n){function r(t,e,n){o(t,e.get(),n)}function i(t){var e=t.split("?");return{path:e.shift(),queryString:d.parse(e.join(""))}}function o(t,e,n){var r=i(e);e=r.path;var o=r.queryString,u=(n?s(t):t).find("".match,e);if(u){var c=u.exec(e),h=a(u.keys,c),l=p(o,h);u.fn(l)}else t.defaultFn&&t.defaultFn(e,o)}function s(t){return t.slice().reverse()}function a(t,e){return t.reduce(function(t,n,r){return t[n.name]=e[r+1],t},{})}function u(t,e,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var r=f(e);r.fn=n,t.push(r)}function c(t,e,n,i){if(e.get()){var o=t.slice();o.defaultFn=function(){e.go(i)},r(o,e,n)}else e.go(i)}function h(t,e){t.defaultFn=e}function l(t){return t&&t.go&&t.replace&&t.on}var f=t("path-to-regexp-with-reversible-keys"),d=t("querystring"),p=t("xtend"),m=t("./hash-location.js");t("array.prototype.find"),e.exports=function(t,e){function n(){e.removeListener("hashchange",o)}l(t)&&(e=t,t=null),t=t||{},e||(e=m(window));var i=[],o=r.bind(null,i,e,!!t.reverse);return e.on("hashchange",o),{add:u.bind(null,i),stop:n,evaluateCurrent:c.bind(null,i,e,!!t.reverse),setDefault:h.bind(null,i),replace:e.replace,go:e.go,location:e}}},{"./hash-location.js":27,"array.prototype.find":17,"path-to-regexp-with-reversible-keys":34,querystring:37,xtend:42}],29:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,h=-7,l=n?i-1:0,f=n?-1:1,d=t[e+l];for(l+=f,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=256*o+t[e+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+l],l+=f,h-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,h=(1<<c)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+l>=1?f/u:f*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*m}},{}],30:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],31:[function(t,e,n){(function(t){!function(t,n,r){n[t]=n[t]||r(),"undefined"!=typeof e&&e.exports?e.exports=n[t]:"function"==typeof define&&define.amd&&define(function(){return n[t]})}("Promise","undefined"!=typeof t?t:this,function(){"use strict";function t(t,e){f.add(t,e),l||(l=p(f.drain))}function e(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function n(){for(var t=0;t<this.chain.length;t++)r(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function r(t,n,r){var i,o;try{n===!1?r.reject(t.msg):(i=n===!0?t.msg:n.call(void 0,t.msg),i===r.promise?r.reject(TypeError("Promise-chain cycle")):(o=e(i))?o.call(i,r.resolve,r.reject):r.resolve(i))}catch(t){r.reject(t)}}function i(r){var s,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(s=e(r))?t(function(){var t=new a(u);try{s.call(r,function(){i.apply(t,arguments)},function(){o.apply(t,arguments)})}catch(e){o.call(t,e)}}):(u.msg=r,u.state=1,u.chain.length>0&&t(n,u))}catch(t){o.call(new a(u),t)}}}function o(e){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=e,r.state=2,r.chain.length>0&&t(n,r))}function s(t,e,n,r){for(var i=0;i<e.length;i++)!function(i){t.resolve(e[i]).then(function(t){n(i,t)},r)}(i)}function a(t){this.def=t,this.triggered=!1}function u(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function c(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new u(this);this.then=function(e,i){var o={success:"function"!=typeof e||e,failure:"function"==typeof i&&i};return o.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");o.resolve=t,o.reject=e}),r.chain.push(o),0!==r.state&&t(n,r),o.promise},this.catch=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){i.call(r,t)},function(t){o.call(r,t)})}catch(t){o.call(r,t)}}var h,l,f,d=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),h=function(t,e,n,r){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:r!==!1})}}catch(t){h=function(t,e,n){return t[e]=n,t}}f=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,r;return{add:function(i,o){r=new t(i,o),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var t=e;for(e=n=l=void 0;t;)t.fn.call(t.self),t=t.next}}}();var m=h({},"constructor",c,!1);return c.prototype=m,h(m,"__NPO__",0,!1),h(c,"resolve",function(t){var e=this;return t&&"object"==typeof t&&1===t.__NPO__?t:new e(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),h(c,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),h(c,"all",function(t){var e=this;return"[object Array]"!=d.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=t.length,o=Array(i),a=0;s(e,t,function(t,e){o[t]=e,++a===i&&n(o)},r)})}),h(c,"race",function(t){var e=this;return"[object Array]"!=d.call(t)?e.reject(TypeError("Not an array")):new e(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");s(e,t,function(t,e){n(e)},r)})}),c})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(t,e,n){function r(t,e,n){var r=i(e,n);return 0===Object.keys(r).length?t:t+"?"+s(r)}function i(t,e){var n=e.reduce(function(t,e){return e.string||(t[e.name]=e),t},{});return Object.keys(t).filter(function(t){return!n[t]}).reduce(function(e,n){return e[n]=t[n],e},{})}var o=t("./path-parser"),s=t("querystring").stringify;e.exports=function(t,e){var n="string"==typeof t?o(t):t,i=n.allTokens,s=n.regex;if(e){var a=i.map(function(n){if(n.string)return n.string;var r="undefined"!=typeof e[n.name];if(!n.optional&&!r)throw new Error("Must supply argument "+n.name+" for path "+t);return r?n.delimiter+encodeURIComponent(e[n.name]):""}).join("");if(!s.test(a))throw new Error("Provided arguments do not match the original arguments");return r(a,e,i)}return n}},{"./path-parser":33,querystring:37}],33:[function(t,e,n){var r=t("path-to-regexp-with-reversible-keys");e.exports=function(t){var e=r(t);return{regex:e,allTokens:e.allTokens}}},{"path-to-regexp-with-reversible-keys":34}],34:[function(t,e,n){function r(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function i(t,e,n){return t.keys=e,t.allTokens=n,t}function o(t){return t.sensitive?"":"i"}function s(t,e,n){var r=t.source.match(/\((?!\?)/g);if(r)for(var o=0;o<r.length;o++)e.push({name:o,delimiter:null,optional:!1,repeat:!1});return i(t,e,n)}function a(t,e,n,r){for(var s=[],a=0;a<t.length;a++)s.push(c(t[a],e,n,r).source);var u=new RegExp("(?:"+s.join("|")+")",o(n));return i(u,e,r)}function u(t,e,n){function i(t){0===a&&"/"!==t[0]&&(t="/"+t),n.push({string:t})}function o(o,u,c,h,l,f,d,p,m){if(u)return u;if(p)return"\\"+p;var v="+"===d||"*"===d,g="?"===d||"*"===d;m>a&&i(t.substring(a,m)),a=m+o.length;var y={name:h||s++,delimiter:c||"/",optional:g,repeat:v};return e.push(y),n.push(y),c=c?"\\"+c:"",l=r(l||f||"[^"+(c||"\\/")+"]+?"),v&&(l=l+"(?:"+c+l+")*"),g?"(?:"+c+"("+l+"))?":c+"("+l+")"}var s=0,a=0,u=t.replace(l,o);return a<t.length&&i(t.substring(a)),u}function c(t,e,n,r){if(e=e||[],r=r||[],h(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp)return s(t,e,n,r);if(h(t))return a(t,e,n,r);var c=n.strict,l=n.end!==!1,f=u(t,e,r),d="/"===t.charAt(t.length-1);return c||(f=(d?f.slice(0,-2):f)+"(?:\\/(?=$))?"),f+=l?"$":c&&d?"":"(?=\\/|$)",i(new RegExp("^"+f,o(n)),e,r)}var h=t("isarray");e.exports=c;var l=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:30}],35:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var h=0;h<c;++h){var l,f,d,p,m=t[h].replace(a,"%20"),v=m.indexOf(n);v>=0?(l=m.substr(0,v),f=m.substr(v+1)):(l=m,f=""),d=decodeURIComponent(l),p=decodeURIComponent(f),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],36:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(s(t),function(s){var a=encodeURIComponent(i(s))+n;return o(t[s])?r(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],37:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":35,"./encode":36}],38:[function(t,e,n){function r(t,e){t.then(function(){e()},function(t){e(t)})}function i(t,e,n){function r(t,r){var i=t.name,o=0===i.indexOf(n)&&s(a,r);o?e.classList.add("active"):e.classList.remove("active")}function i(){t.removeListener("stateChangeEnd",r)}var a=o(arguments);return t.on("stateChangeEnd",r),{teardown:i}}function o(t){return t=Array.prototype.slice.call(t,2),t.reduce(function(t,e){var n=e.split(":");return n.length>1&&(t[n[0]]=n[1]),t},{})}function s(t,e){return Object.keys(t).every(function(n){return t[n]==e[n]})}function a(t){return"string"==typeof t||u(t)}function u(t){return t&&"number"==typeof t.v}var c=t("xtend");e.exports=function(t,e){return function(n){var o=t.extend(e||{}),s=o.defaults.data,u=t.defaults.data;return s.makePath=u.makePath=n.makePath,s.active=u.active=function(t){return n.stateIsActive(t)?"active":""},{render:function(t,e){function r(){return a(l)?t.content:c(l.data,t.content)}function s(){return a(l)?f:c(f,l.decorators)}function u(){var t=a(l)?{template:l}:l;return c(t,{decorators:s(),data:r(),el:h})}var h=t.element,l=t.template,f={active:i.bind(null,n)};try{var d=new o(u());e(null,d)}catch(t){e(t)}},reset:function(t,e){var n=t.domApi;n.off(),r(n.reset(t.content),e)},destroy:function(t,e){r(t.teardown(),e)},getChildElement:function(t,e){try{var n=t.find("ui-view");e(null,n)}catch(t){e(t)}}}}}},{xtend:42}],39:[function(t,e,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r():"function"==typeof define&&define.amd?define(r):t.Ractive=r()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i,o;o=n.shift();)for(i in o)Ca.call(o,i)&&(t[i]=o[i]);return t}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function o(t){return"[object Array]"===Sa.call(t)}function s(t){return Ta.test(Sa.call(t))}function a(t,e){return null===t&&null===e||"object"!=typeof t&&"object"!=typeof e&&t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t){return t&&"[object Object]"===Sa.call(t)}function h(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw t=h(t,n),new Error(t)}function f(){zb.DEBUG&&ka.apply(null,arguments)}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t=h(t,n),_a(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t=h(t,n),Ia[t]||(Ia[t]=!0,_a(t,n))}function m(){zb.DEBUG&&d.apply(null,arguments)}function v(){zb.DEBUG&&p.apply(null,arguments)}function g(t,e,n){var r=y(t,e,n);return r?r[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function b(t){return function(){return t}}function w(t){var e,n,r,i,o,s;for(e=t.split("."),(n=Da[e.length])||(n=x(e.length)),o=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)s=n[i].map(r).join("."),o.hasOwnProperty(s)||(o.push(s),o[s]=!0);return o}function x(t){var e,n,r,i,o,s,a,u,c="";if(!Da[t]){for(r=[];c.length<t;)c+=1;for(e=parseInt(c,2),i=function(t){return"1"===t},o=0;o<=e;o+=1){for(n=o.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,s=0;s<a;s++)u.push(i(n[s]));r[o]=u}Da[t]=r}return Da[t]}function E(t,e,n,r){var i=t[e];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(n))return t[e]=i?i.replace(n,r):r,!0}function k(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function _(t){return null==t?t:(Ya.hasOwnProperty(t)||(Ya[t]=new Wa(t)),Ya[t])}function A(t,e){function n(e,n){var r,i,s;return n.isRoot?s=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(r=t.viewmodel.wrapped[n.str],i=r?r.get():t.viewmodel.get(n),s=i?Object.keys(i):null),s&&s.forEach(function(t){"_ractive"===t&&o(i)||e.push(n.join(t))}),e}var r,i,s;for(r=e.str.split("."),s=[Ga];i=r.shift();)"*"===i?s=s.reduce(n,[]):s[0]===Ga?s[0]=_(i):s=s.map(C(i));return s}function C(t){return function(e){return e.join(t)}}function S(t){return t?t.replace(Ma,".$1"):""}function T(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var r=void 0,i=void 0;if(/\*/.test(e))return i={},A(t,_(S(e))).forEach(function(e){var r=t.viewmodel.get(e);if(!u(r))throw new Error(Za);i[e.str]=r+n}),t.set(i);if(r=t.get(e),!u(r))throw new Error(Za);
return t.set(e,+r+n)}function P(t,e){return Ja(this,t,void 0===e?1:+e)}function I(t){this.event=t,this.method="on"+t,this.deprecate=Xa[t]}function R(t,e){var n=t.indexOf(e);n===-1&&t.push(e)}function O(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]==e)return!0;return!1}function j(t,e){var n;if(!o(t)||!o(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function L(t){return"string"==typeof t?[t]:void 0===t?[]:t}function F(t){return t[t.length-1]}function N(t,e){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}function U(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function B(t){setTimeout(t,0)}function D(t,e){return function(){for(var n;n=t.shift();)n(e)}}function M(t,e,n,r){var i;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof Ha)e.then(n,r);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{i=e.then}catch(t){return void r(t)}if("function"==typeof i){var o,s,a;s=function(e){o||(o=!0,M(t,e,n,r))},a=function(t){o||(o=!0,r(t))};try{i.call(e,s,a)}catch(t){if(!o)return r(t),void(o=!0)}}else n(e)}}function V(t,e,n){var r;return e=S(e),"~/"===e.substr(0,2)?(r=_(e.substring(2)),z(t,r.firstKey,n)):"."===e[0]?(r=Y(ou(n),e),r&&z(t,r.firstKey,n)):r=W(t,_(e),n),r}function Y(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return _(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),_(n.join("."))}return _(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function W(t,e,n,r){var i,o,s,a,u;if(e.isRoot)return e;for(o=e.firstKey;n;)if(i=n.context,n=n.parent,i&&(a=!0,s=t.viewmodel.get(i),s&&("object"==typeof s||"function"==typeof s)&&o in s))return i.join(e.str);return G(t.viewmodel,o)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,o=_(o),u=W(t.parent,o,n,!0))?(t.viewmodel.map(o,{origin:t.parent.viewmodel,keypath:u}),e):r||a?void 0:(t.viewmodel.set(e,void 0),e)}function z(t,e){var n;!t.parent||t.isolated||G(t.viewmodel,e)||(e=_(e),(n=W(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function G(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function J(t){t.teardown()}function Z(t){t.unbind()}function Q(t){t.unrender()}function q(t){t.cancel()}function $(t){t.detach()}function K(t){t.detachNodes()}function X(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function H(){for(var t,e,n;uu.ractives.length;)e=uu.ractives.pop(),n=e.viewmodel.applyChanges(),n&&fu.fire(e,n);for(tt(),t=0;t<uu.views.length;t+=1)uu.views[t].update();for(uu.views.length=0,t=0;t<uu.tasks.length;t+=1)uu.tasks[t]();if(uu.tasks.length=0,uu.ractives.length)return H()}function tt(){var t,e,n,r;for(t=lu.length;t--;)e=lu[t],e.keypath?lu.splice(t,1):(n=su(e.root,e.ref,e.parentFragment))&&((r||(r=[])).push({item:e,keypath:n}),lu.splice(t,1));r&&r.forEach(et)}function et(t){t.item.resolve(t.keypath)}function nt(t,e,n){var r,i,o,s,a,u,c,h,l,f,d,p,m,v;if(r=new iu(function(t){return i=t}),"object"==typeof t){n=e||{},u=n.easing,c=n.duration,a=[],h=n.step,l=n.complete,(h||l)&&(d={},n.step=null,n.complete=null,f=function(t){return function(e,n){d[t]=n}});for(o in t)t.hasOwnProperty(o)&&((h||l)&&(p=f(o),n={easing:u,duration:c},h&&(n.step=p)),n.complete=l?p:Pa,a.push(rt(this,o,t[o],n)));return v={easing:u,duration:c},h&&(v.step=function(t){return h(t,d)}),l&&r.then(function(t){return l(t,d)}),v.complete=i,m=rt(this,null,null,v),a.push(m),r.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,s=rt(this,t,e,n),r.stop=function(){return s.stop()},r}function rt(t,e,n,r){var i,o,s,u;return e&&(e=_(S(e))),null!==e&&(u=t.viewmodel.get(e)),vu.abort(e,t),a(u,n)?(r.complete&&r.complete(r.to),wu):(r.easing&&(i="function"==typeof r.easing?r.easing:t.easing[r.easing],"function"!=typeof i&&(i=null)),o=void 0===r.duration?400:r.duration,s=new yu({keypath:e,from:u,to:n,root:t,duration:o,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),vu.add(s),t._animations.push(s),s)}function it(){return this.detached?this.detached:(this.el&&N(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Eu.fire(this),this.detached)}function ot(t){return this.el?this.fragment.find(t):null}function st(t,e){var n;if(n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?la(t.node,this.selector):null)return this.push(t.node||t.instance),e||this._makeDirty(),!0}function at(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function ut(t){var e,n;for(e=[t],n=at(t);n;)e.push(n),n=at(n);return e}function ct(t,e,n,r){var i=[];return xa(i,{selector:{value:e},live:{value:n},_isComponentQuery:{value:r},_test:{value:_u}}),n?(xa(i,{cancel:{value:Au},_root:{value:t},_sort:{value:Tu},_makeDirty:{value:Pu},_remove:{value:Iu},_dirty:{value:!1,writable:!0}}),i):i}function ht(t,e){var n,r;return this.el?(e=e||{},n=this._liveQueries,(r=n[t])?e&&e.live?r:r.slice():(r=Ru(this,t,!!e.live,!1),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAll(t,r),r)):[]}function lt(t,e){var n,r;return e=e||{},n=this._liveComponentQueries,(r=n[t])?e&&e.live?r:r.slice():(r=Ru(this,t,!!e.live,!0),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAllComponents(t,r),r)}function ft(t){return this.fragment.findComponent(t)}function dt(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function mt(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var r=_(e).wildcardMatches();vt(t,r,n.event,n.args,!0)}}function vt(t,e,n,r){var i,o,s=void 0!==arguments[4]&&arguments[4],a=!0;for(Bu.enqueue(t,n),o=e.length;o>=0;o--)i=t._subs[e[o]],i&&(a=gt(t,i,n,r)&&a);if(Bu.dequeue(t),t.parent&&a){if(s&&t.component){var u=t.component.name+"."+e[e.length-1];e=_(u).wildcardMatches(),n&&(n.component=t)}vt(t.parent,e,n,r)}}function gt(t,e,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r)),e=e.slice();for(var s=0,a=e.length;s<a;s+=1)e[s].apply(t,r)===!1&&(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function yt(t){var e={args:Array.prototype.slice.call(arguments,1)};Du(this,t,e)}function bt(t){var e;return t=_(S(t)),e=this.viewmodel.get(t,Yu),void 0===e&&this.parent&&!this.isolated&&su(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function wt(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(t){zu.fire(t),t.findAllComponents("*").forEach(function(t){xt(t.instance)})}function Et(t,e,n){var r,i;return t=_(S(t)),r=this.viewmodel.get(t),o(r)&&o(e)?(i=du.start(this,!0),this.viewmodel.merge(t,r,e,n),du.end(),i):this.set(t,e,n&&n.complete)}function kt(t,e){var n,r;return n=A(t,e),r={},n.forEach(function(e){r[e.str]=t.get(e.str)}),r}function _t(t,e,n,r){var i,o,s;e=_(S(e)),r=r||oc,e.isPattern?(i=new rc(t,e,n,r),t.viewmodel.patternObservers.push(i),o=!0):i=new Qu(t,e,n,r),i.init(r.init),t.viewmodel.register(e,i,o?"patternObservers":"observers"),i.ready=!0;var a={cancel:function(){var n;s||(o?(n=t.viewmodel.patternObservers.indexOf(i),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,i,"patternObservers")):t.viewmodel.unregister(e,i,"observers"),s=!0)}};return t._observers.push(a),a}function At(t,e,n){var r,i,o,s;if(c(t)){n=e,i=t,r=[];for(t in i)i.hasOwnProperty(t)&&(e=i[t],r.push(this.observe(t,e,n)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",ic(this,t,e,n);if(o=t.split(" "),1===o.length)return ic(this,t,e,n);for(r=[],s=o.length;s--;)t=o[s],t&&r.push(ic(this,t,e,n));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}function Ct(t,e,n){var r=this.observe(t,function(){e.apply(this,arguments),r.cancel()},{init:!1,defer:n&&n.defer});return r}function St(t,e){var n,r=this;if(t)n=t.split(" ").map(uc).filter(cc),n.forEach(function(t){var n,i;(n=r._subs[t])&&(e?(i=n.indexOf(e),i!==-1&&n.splice(i,1)):r._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Tt(t,e){var n,r,i,o=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&n.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return i=t.split(" ").map(uc).filter(cc),i.forEach(function(t){(o._subs[t]||(o._subs[t]=[])).push(e)}),{cancel:function(){return o.off(t,e)}}}function Pt(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function It(t,e,n){var r,i,o,s,a,u,c=[];if(r=Rt(t,e,n),!r)return null;for(i=t.length,a=r.length-2-r[1],o=Math.min(i,r[0]),s=o+r[1],u=0;u<o;u+=1)c.push(u);for(;u<s;u+=1)c.push(-1);for(;u<i;u+=1)c.push(u+a);return 0!==a?c.touchedFrom=r[0]:c.touchedFrom=t.length,c}function Rt(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function Ot(e,n){var r,i,o,s=this;if(o=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=du.start(this,!0),du.scheduleTask(function(){return Ac.fire(s)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&jt(a),e.innerHTML=""}return this.cssId&&kc.apply(),e&&((i=e.__ractive_instances__)?i.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),du.end(),this.transitionsEnabled=o,r.then(function(){return Cc.fire(s)})}function jt(t){t.splice(0,t.length).forEach(J)}function Lt(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function Ft(t,e){var n,r,i;return r='[data-ractive-css~="{'+e+'}"]',i=function(t){var e,n,i,o,s,a,u,c=[];for(e=[];n=Oc.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(o=e.map(Ut),u=e.length;u--;)a=o.slice(),i=e[u],a[u]=i.base+r+i.modifiers||"",s=o.slice(),s[u]=r+" "+s[u],c.push(a.join(" "),s.join(" "));return c.join(", ")},n=Lc.test(t)?t.replace(Lc,r):t.replace(Rc,"").replace(Ic,function(t,e){var n,r;return jc.test(e)?t:(n=e.split(",").map(Nt),r=n.map(i).join(", ")+" ",t.replace(e,r))})}function Nt(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Ut(t){return t.str}function Bt(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?l("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Dt(t,e){Bt(e);var n="function"==typeof t,r="function"==typeof e;return e||n||(e={}),n||r?function(){var i=r?Mt(e,this):e,o=n?Mt(t,this):t;return Vt(i,o)}:Vt(e,t)}function Mt(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&l("Data function must return an object"),n.constructor!==Object&&v("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Vt(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function Yt(t){var e,n,r;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Rh))?t.matchPattern(Oh)?(r=t.matchPattern(Rh))?(t.allowWhitespace(),t.matchString("=")?[n,r]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function Wt(t){var e;return(e=t.matchPattern(Lh))?{t:fh,v:e}:null}function zt(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=Gt(t,t.tags[n]))return e}function Gt(t,e){var n,r,i,o;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(r=Ih(t))return t.matchString(e.close)?(e.open=r[0],e.close=r[1],t.sortMustacheTags(),Nh):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var s=t.pos;jh(t)?t.pos=s:(t.pos=s-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(o=0;o<e.readers.length;o+=1)if(i=e.readers[o],r=i(t,e))return e.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(n)),r;return t.pos=n,null}function Jt(t){var e;return(e=t.matchPattern(Mh))?{t:ah,v:e}:null}function Zt(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:lh,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:lh,v:"false"}):null}function Qt(t){var e;return(e=Zh(t))?$h.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=Dh(t))?e.v:(e=t.matchPattern(Qh))?e:void 0}function qt(t){var e,n,r;return e=t.pos,t.allowWhitespace(),n=qh(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),r=Cl(t),null===r?(t.pos=e,null):{t:ph,k:n,v:r}):(t.pos=e,null))}function $t(t){var e,n,r,i;return e=t.pos,r=Kh(t),null===r?null:(n=[r],t.matchString(",")?(i=$t(t),i?n.concat(i):(t.pos=e,null)):n)}function Kt(t){function e(t){r.push(t)}var n,r,i,o;return n=t.pos,t.allowWhitespace(),i=Cl(t),null===i?null:(r=[i],t.allowWhitespace(),t.matchString(",")&&(o=Kt(t),null===o&&t.error(Uh),o.forEach(e)),r)}function Xt(t){return Dh(t)||Vh(t)||Zh(t)||Hh(t)||el(t)||jh(t)}function Ht(t){var e,n,r,i,o,s;return e=t.pos,r=t.matchPattern(/^@(?:keypath|index|key)/),r||(n=t.matchPattern(il)||"",r=!n&&t.relaxedNames&&t.matchPattern(ul)||t.matchPattern(al),r||"."!==n||(n="",r=".")),r?n||t.relaxedNames||!Wh.test(r)?!n&&Yh.test(r)?(i=Yh.exec(r)[0],t.pos=e+i.length,{t:dh,v:i}):(o=(n||"")+S(r),t.matchString("(")&&(s=o.lastIndexOf("."),s!==-1?(o=o.substr(0,s),t.pos=e+o.length):t.pos-=1),{t:mh,n:o.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function te(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Cl(t),n||t.error(Uh),t.allowWhitespace(),t.matchString(")")||t.error(Bh),{t:bh,x:n}):null}function ee(t){var e,n,r;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Qh))return{t:vh,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),r=Cl(t),r||t.error(Uh),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:vh,x:r}):null}function ne(t){var e,n,r,i;return(n=_l(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),r=Cl(t),r||t.error(Uh),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),i=Cl(t),i||t.error(Uh),{t:wh,o:[n,r,i]}):(t.pos=e,n)):null}function re(t){return Al(t)}function ie(t){function e(t){switch(t.t){case lh:case dh:case ah:case fh:return t.v;case uh:return JSON.stringify(String(t.v));case ch:return"["+(t.m?t.m.map(e).join(","):"")+"]";case hh:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case ph:return t.k+":"+e(t.v);case yh:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case xh:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case Eh:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case bh:return"("+e(t.x)+")";case gh:return e(t.x)+e(t.r);case vh:return t.n?"."+t.n:"["+e(t.x)+"]";case wh:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case mh:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return oe(t,n=[]),{r:n,s:e(t)}}function oe(t,e){var n,r;if(t.t===mh&&e.indexOf(t.n)===-1&&e.unshift(t.n),r=t.o||t.m)if(c(r))oe(r,e);else for(n=r.length;n--;)oe(r[n],e);t.x&&oe(t.x,e),t.r&&oe(t.r,e),t.v&&oe(t.v,e)}function se(t,e){var n;if(t){for(;t.t===bh&&t.x;)t=t.x;return t.t===mh?e.r=t.n:t.t===ah&&Pl.test(t.v)?e.r=t.v:(n=ae(t))?e.rx=n:e.x=Sl(t),e}}function ae(t){for(var e,n=[];t.t===gh&&t.r.t===vh;)e=t.r,e.x?e.x.t===mh?n.unshift(e.x):n.unshift(Sl(e.x)):n.unshift(e.n),t=t.x;return t.t!==mh?null:{r:t.n,m:n}}function ue(t,e){var n,r=Cl(t);return r?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Zc},Tl(r,n),n):null}function ce(t,e){var n,r;return t.matchString("&")?(t.allowWhitespace(),(n=Cl(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r={t:Zc},Tl(n,r),r):null):null}function he(t,e){var n,r,i,o,s;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),r=t.pos,t.relaxedNames=!0,i=Cl(t),t.relaxedNames=!1,t.allowWhitespace(),o=Cl(t),t.allowWhitespace(),i?(s={t:Xc},Tl(i,s),t.allowWhitespace(),o&&(s={t:Qc,n:Ch,f:[s]},Tl(o,s)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):null):null}function le(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),n!==-1?(t.pos+=n+e.close.length,{t:Hc}):void 0):null}function fe(t,e){var n,r,i;if(n=t.pos,r=Cl(t),!r)return null;for(i=0;i<e.length;i+=1)if(t.remaining().substr(0,e[i].length)===e[i])return r;return t.pos=n,rl(t)}function de(t,e){var n,r,i,o;n=t.pos;try{r=Ll(t,[e.close])}catch(t){o=t}if(!r){if("!"===t.str.charAt(n))return t.pos=n,null;if(o)throw o}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return i={t:Jc},Tl(r,i),i}function pe(t,e){var n,r,i;return t.matchPattern(Ul)?(n=t.pos,r=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),i={t:ih},r&&(i.n=r),i):null}function me(t,e){var n,r,i,o;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),r=t.remaining(),i=r.indexOf(e.close),i!==-1?(o={t:$c,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):(t.pos=n,null)):(t.pos=n,null)):null}function ve(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(Ml)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Th}):(t.pos=n,null):null}function ge(t,e){var n,r=t.pos;return t.matchString(e.open)?t.matchPattern(Yl)?(n=Cl(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Ph,x:n}):(t.pos=r,null):null}function ye(t,e){var n,r,i,o,s,a,u,c,h,l,f,d;if(n=t.pos,t.matchString("^"))i={t:Qc,f:[],n:_h};else{if(!t.matchString("#"))return null;i={t:Qc,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Zl))&&(d=u,i.n=Wl[u])}if(t.allowWhitespace(),r=Cl(t),r||t.error("Expected expression"),f=t.matchPattern(Gl)){var p=void 0;(p=t.matchPattern(Jl))?i.i=f+","+p:i.i=f}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,s=i.f,h=[];do if(o=Bl(t,e))d&&o.r!==d&&t.error("Expected "+e.open+"/"+d+e.close),t.sectionDepth-=1,l=!0;else if(o=Vl(t,e))i.n===_h&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=be(r,i.n)),c.f.push({t:Qc,n:kh,x:Sl(xe(h.concat(o.x))),f:s=[]}),h.push(we(o.x));else if(o=Dl(t,e))i.n===_h&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,c?c.f.push({t:Qc,n:kh,x:Sl(xe(h)),f:s=[]}):(c=be(r,i.n),s=c.f);else{if(o=t.read(Xf),!o)break;s.push(o)}while(!l);return c&&(i.n===Ch&&(i.n=Sh),i.l=c),Tl(r,i),i.f.length||delete i.f,i}function be(t,e){var n;return e===Ch?(n={t:Qc,n:kh,f:[]},Tl(we(t),n)):(n={t:Qc,n:_h,f:[]},Tl(t,n)),n}function we(t){return t.t===yh&&"!"===t.s?t.o:{t:yh,s:"!",o:Ee(t)}}function xe(t){return 1===t.length?t[0]:{t:xh,s:"&&",o:[Ee(t[0]),Ee(xe(t.slice(1)))]}}function Ee(t){return{t:bh,x:t}}function ke(t){var e,n,r,i,o;return e=t.pos,t.matchString(ql)?(r=t.remaining(),i=r.indexOf($l),i===-1&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=r.substr(0,i),t.pos+=i+3,o={t:Hc,c:n},t.includeLinePositions&&(o.p=t.getLinePos(e)),o):null}function _e(t){return t.replace(wl,function(t,e){var n;return n="#"!==e[0]?yl[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Ae(n)):t})}function Ae(t){return t?10===t?32:t<128?t:t<=159?bl[t-128]:t<55296?t:t<=57343?65533:t<=65535?t:65533:65533}function Ce(t){return t.replace(kl,"&amp;").replace(xl,"&lt;").replace(El,"&gt;")}function Se(t){return"string"==typeof t}function Te(t){return t.t===Hc||t.t===th}function Pe(t){return(t.t===Qc||t.t===qc)&&t.f}function Ie(t,e,n,r,i){var s,a,u,c,h,l,f,d;for(af(t),s=t.length;s--;)a=t[s],a.exclude?t.splice(s,1):e&&a.t===Hc&&t.splice(s,1);for(uf(t,r?ff:null,i?df:null),s=t.length;s--;){if(a=t[s],a.f){var p=a.t===Kc&&lf.test(a.e);h=n||p,!n&&p&&uf(a.f,pf,mf),h||(u=t[s-1],c=t[s+1],(!u||"string"==typeof u&&df.test(u))&&(l=!0),(!c||"string"==typeof c&&ff.test(c))&&(f=!0)),Ie(a.f,e,h,l,f)}if(a.l&&(Ie(a.l.f,e,n,l,f),t.splice(s+1,0,a.l),delete a.l),a.a)for(d in a.a)a.a.hasOwnProperty(d)&&"string"!=typeof a.a[d]&&Ie(a.a[d],e,n,l,f);if(a.m&&Ie(a.m,e,n,l,f),a.v)for(d in a.v)a.v.hasOwnProperty(d)&&(o(a.v[d].n)&&Ie(a.v[d].n,e,n,l,f),o(a.v[d].d)&&Ie(a.v[d].d,e,n,l,f))}for(s=t.length;s--;)"string"==typeof t[s]&&("string"==typeof t[s+1]&&(t[s]=t[s]+t[s+1],t.splice(s+1,1)),n||(t[s]=t[s].replace(hf," ")),""===t[s]&&t.splice(s,1))}function Re(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(gf))?t.inside&&n!==t.inside?(t.pos=e,null):{t:nh,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Oe(t){var e,n,r;return t.allowWhitespace(),(n=t.matchPattern(wf))?(e={name:n},r=je(t),null!=r&&(e.value=r),e):null}function je(t){var e,n,r,i;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,r=t.sectionDepth,i=Ne(t,"'")||Ne(t,'"')||Fe(t),null===i&&t.error("Expected valid attribute value"),t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?1===i.length&&"string"==typeof i[0]?_e(i[0]):i:""):(t.pos=e,null)}function Le(t){var e,n,r,i,o;return e=t.pos,(n=t.matchPattern(xf))?(r=n,i=t.tags.map(function(t){return t.open}),(o=yf(r,i))!==-1&&(n=n.substr(0,o),t.pos=e+n.length),n):null}function Fe(t){var e,n;for(t.inAttribute=!0,e=[],n=Fh(t)||Le(t);null!==n;)e.push(n),n=Fh(t)||Le(t);return e.length?(t.inAttribute=!1,e):null}function Ne(t,e){var n,r,i;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,r=[],i=Fh(t)||Ue(t,e);null!==i;)r.push(i),i=Fh(t)||Ue(t,e);return t.matchString(e)?(t.inAttribute=!1,r):(t.pos=n,null)}function Ue(t,e){var n,r,i,o;return n=t.pos,i=t.remaining(),o=t.tags.map(function(t){return t.open}),o.push(e),r=yf(i,o),r===-1&&t.error("Quoted attribute value must have a closing quote"),r?(t.pos+=r,i.substr(0,r)):null}function Be(t){var e,n,r;return t.allowWhitespace(),(e=qh(t))?(r={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(r.value=n.v,r):null):null):null}function De(t,e){var n,r,i,o,s,a,u,c,h;if("string"==typeof t){if(r=Af.exec(t)){var l=t.lastIndexOf(")");return Cf.test(t)||e.error("Invalid input after method call expression '"+t.slice(l+1)+"'"),n={m:r[1]},o="["+t.slice(n.m.length+1,l)+"]",i=new Ef(o),n.a=Sl(i.result[0]),n}if(t.indexOf(":")===-1)return t.trim();t=[t]}if(n={},u=[],c=[],t){for(;t.length;)if(s=t.shift(),"string"==typeof s){if(a=s.indexOf(":"),a!==-1){a&&u.push(s.substr(0,a)),s.length>a+1&&(c[0]=s.substring(a+1));break}u.push(s)}else u.push(s);c=c.concat(t)}return u.length?c.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===c.length&&"string"==typeof c[0]?(h=kf("["+c[0]+"]"),n.a=h?h.value:c[0].trim()):n.d=c):n=u:n="",n}function Me(t){var e,n,r,i,o,s,a,u,c,h,l,f,d,p,m,v;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=sh,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Kc,n.e=t.matchPattern(Tf),!n.e)return null;for(Pf.test(t.nextChar())||t.error("Illegal tag name"),o=function(e,r){var i=r.n||r;Of.test(i)&&(t.pos-=i.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=r},t.allowWhitespace();s=Fh(t)||bf(t);)s.name?(r=jf[s.name])?n[r]=_f(s.value,t):(i=Rf.exec(s.name))?(n.v||(n.v={}),a=_f(s.value,t),o(i[1],a)):t.sanitizeEventAttributes&&If.test(s.name)||(n.a||(n.a={}),n.a[s.name]=s.value||(""===s.value?"":0)):(n.m||(n.m=[]),n.m.push(s)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var g=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!gl.test(n.e)){t.elementStack.push(g),"script"!==g&&"style"!==g||(t.inside=g),c=[],h=ba(null);do if(p=t.pos,m=t.remaining(),Ve(g,m))if(v=vf(t)){d=!0;var b=v.e.toLowerCase();if(b!==g&&(t.pos=p,!~t.elementStack.indexOf(b))){var w="Unexpected closing tag";gl.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),t.error(w)}}else(f=Bl(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(d=!0,t.pos=p):(f=t.read(Hf))?(h[f.n]&&(t.pos=p,t.error("Duplicate partial definition")),cf(f.f,t.stripComments,y,!y,!y),h[f.n]=f.f,l=!0):(f=t.read(Xf))?c.push(f):d=!0;else d=!0;while(!d);c.length&&(n.f=c),l&&(n.p=h),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&t.sanitizeElements.indexOf(g)!==-1?Lf:n}function Ve(t,e){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),r=Sf[t],!n||!r||!~r.indexOf(n[1].toLowerCase())}function Ye(t){var e,n,r,i;return n=t.remaining(),i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(i):(r=t.tags.map(function(t){return t.open}),r=r.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?r.push('"',"'","=","<",">","`"):t.inAttribute?r.push(t.inAttribute):r.push(i),e=yf(n,r)),e?(e===-1&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):_e(n.substr(0,e))):null}function We(t){return t.replace(Df,"\\$&")}function ze(t){var e=t.pos,n=t.standardDelimiters[0],r=t.standardDelimiters[1],i=void 0,o=void 0;if(!t.matchPattern(Vf)||!t.matchString(n))return t.pos=e,null;var s=t.matchPattern(Yf);if(v("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+s+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+s+"}} --> ... <!-- {{/"+s+"}} -->'"),!t.matchString(r)||!t.matchPattern(Wf))return t.pos=e,null;i=[];var a=new RegExp("^<!--\\s*"+Bf(n)+"\\s*\\/\\s*"+s+"\\s*"+Bf(r)+"\\s*-->");do t.matchPattern(a)?o=!0:(Ff=t.read(Xf),Ff||t.error("expected closing comment ('<!-- "+n+"/"+s+r+" -->')"),i.push(Ff));while(!o);return{t:oh,f:i,n:s}}function Ge(t){var e,n,r,i,o;e=t.pos;var s=t.standardDelimiters;if(!t.matchString(s[0]))return null;if(!t.matchPattern(Gf))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(s[1])||t.error("Expected closing delimiter '"+s[1]+"'"),r=[];do(i=Bl(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+s[0]+"/partial"+s[1]),o=!0):(i=t.read(Xf),i||t.error("Expected "+s[0]+"/partial"+s[1]),r.push(i));while(!o);return{t:oh,n:n,f:r}}function Je(t){for(var e=[],n=ba(null),r=!1,i=t.preserveWhitespace;t.pos<t.str.length;){var o=t.pos,s=void 0,a=void 0;(a=t.read(Hf))?(n[a.n]&&(t.pos=o,t.error("Duplicated partial definition")),cf(a.f,t.stripComments,i,!i,!i),n[a.n]=a.f,r=!0):(s=t.read(Xf))?e.push(s):t.error("Unexpected template content")}var u={v:sa,t:e};return r&&(u.p=n),u}function Ze(t,e){return new Kf(t,e||{}).result}function Qe(t){var e=ba(id);return e.parse=function(e,n){return qe(e,n||t)},e}function qe(t,e){if(!Zf)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Zf(t,e||this.options)}function $e(t,e){var n;if(!Hs){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Ke(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function Ke(t){return t&&"#"===t[0]}function Xe(t){return!("string"==typeof t)}function He(t){return t.defaults&&(t=t.defaults),rd.reduce(function(e,n){return e[n]=t[n],e},{})}function tn(t){var e,n=t._config.template;if(n&&n.fn)return e=en(t,n.fn),e!==n.result?(n.result=e,e=rn(e,t)):void 0}function en(t,e){var n=nn(od.getParseOptions(t));return e.call(t,n)}function nn(t){var e=ba(od);return e.parse=function(e,n){return od.parse(e,n||t)},e}function rn(t,e){if("string"==typeof t)"#"===t[0]&&(t=od.fromId(t)),t=Zf(t,od.getParseOptions(e));else{if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==sa)throw new Error("Mismatched template version (expected "+sa+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function on(t,e,n){if(e)for(var r in e)!n&&t.hasOwnProperty(r)||(t[r]=e[r])}function sn(t,e,n){if(!/_super/.test(n))return n;var r=function(){var t,i=an(r._parent,e),o="_super"in this,s=this._super;return this._super=i,t=n.apply(this,arguments),o?this._super=s:delete this._super,t};return r._parent=t,r._method=n,r}function an(t,e){var n,r;return e in t?(n=t[e],r="function"==typeof n?n:function(){return n}):r=Pa,r}function un(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function cn(t,e,n){if(e in t){if(n in t)throw new Error(un(e,n,!0));m(un(e,n)),t[n]=t[e]}}function hn(t){cn(t,"beforeInit","onconstruct"),cn(t,"init","onrender"),cn(t,"complete","oncomplete"),cn(t,"eventDefinitions","events"),o(t.adaptors)&&cn(t,"adaptors","adapt")}function ln(t,e,n,r){vd(r);for(var i in r)if(dd.hasOwnProperty(i)){var o=r[i];"el"!==i&&"function"==typeof o?m(""+i+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[i]=o}pd.forEach(function(i){i[t](e,n,r)}),Tc[t](e,n,r),ad[t](e,n,r),Uc[t](e,n,r),fn(e.prototype,n,r)}function fn(t,e,n){for(var r in n)if(!fd[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=md(t,r,i)),e[r]=i}}function dn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mn(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();
n&&t.appendChild(n)}),t)}function vn(t){var e,n,r,i;if(this.items){for(n=this.items.length,e=0;e<n;e+=1)if(r=this.items[e],r.find&&(i=r.find(t)))return i;return null}}function gn(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;n<r;n+=1)i=this.items[n],i.findAll&&i.findAll(t,e);return e}function yn(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;n<r;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e}function bn(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;n<e;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}}function wn(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function En(t,e,n,r){return r=r||0,t.map(function(t){var i,o,s;return t.text?t.text:t.fragments?t.fragments.map(function(t){return En(t.items,e,n,r)}).join(""):(i=n+"-"+r++,s=t.keypath&&(o=t.root.viewmodel.wrapped[t.keypath.str])?o.value:t.getValue(),e[i]=s,"${"+i+"}")}).join("")}function kn(){var t,e,n,r;return this.dirtyArgs&&(e=Cd(this.items,t={},this.root._guid),n=kf("["+e+"]",t),r=n?n.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function _n(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function An(){var t,e,n,r;return this.dirtyValue&&(e=Cd(this.items,t={},this.root._guid),n=kf(e,t),r=n?n.value:this.toString(),this.value=r,this.dirtyValue=!1),this.value}function Cn(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Sn(){return this.value}function Tn(t,e){for(var n,r=0;r<e.prop.length;r++)if(void 0!==(n=t[e.prop[r]]))return n}function Pn(t,e){var n,r,i,o,s,a={},u=!1;for(e||(a.refs=n={});t;){if((s=t.owner)&&(r=s.indexRefs)){if(e&&(i=s.getIndexRef(e)))return a.ref={fragment:t,ref:i},a;if(!e)for(o in r)i=r[o],n[i.n]||(u=!0,n[i.n]={fragment:t,ref:i})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function In(t,e,n){var r;return"@"===e.charAt(0)?new Dd(t,e,n):(r=Yd(t.parentFragment,e))?new Vd(t,r,n):new Nd(t,e,n)}function Rn(t,e){var n,r;if(Jd[t])return Jd[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),Jd[t]=n,n}function On(t){return t.call()}function jn(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var r,i;return+n>=e.length?"_"+n:(r=e[n],void 0===r?"undefined":r.isSpecial?(i=r.value,"number"==typeof i?i:'"'+i+'"'):r.str)})}function Ln(t){return _("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Fn(t){return void 0!==t&&"@"!==t[0]}function Nn(t,e){var n,r,i;if(t.__ractive_nowrap)return t;if(r="__ractive_"+e._guid,n=t[r])return n;if(/this/.test(t.toString())){wa(t,r,{value:Zd.call(t,e),configurable:!0});for(i in t)t.hasOwnProperty(i)&&(t[r][i]=t[i]);return e._boundFunctions.push({fn:t,prop:r}),t[r]}return wa(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Un(t){return t.value}function Bn(t){return void 0!=t}function Dn(t){t.forceResolution()}function Mn(t,e){function n(e){t.resolve(e)}function r(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var i,o,s;o=e.parentFragment,s=e.template,t.root=o.root,t.parentFragment=o,t.pElement=o.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(i=s.r)&&(t.resolver=zd(t,i,n)),e.template.x&&(t.resolver=new Qd(t,o,e.template.x,r)),e.template.rx&&(t.resolver=new Xd(t,e.template.rx,r)),t.template.n!==_h||t.hasOwnProperty("value")||t.setValue(void 0)}function Vn(t){var e,n,r;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(r=this.twowayBinding)&&r.rebound()))}function Yn(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Wn(){this.parentFragment.bubble()}function zn(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function Gn(t){var e,n,r;for(n=this.fragments.length,e=0;e<n;e+=1)if(r=this.fragments[e].find(t))return r;return null}function Jn(t,e){var n,r;for(r=this.fragments.length,n=0;n<r;n+=1)this.fragments[n].findAll(t,e)}function Zn(t,e){var n,r;for(r=this.fragments.length,n=0;n<r;n+=1)this.fragments[n].findAllComponents(t,e)}function Qn(t){var e,n,r;for(n=this.fragments.length,e=0;e<n;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null}function qn(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function $n(){var t,e,n;if(t=this.fragments.length)for(e=0;e<t;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Kn(t){var e,n,r,i,o,s,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Ah){if(this.shuffling=!0,du.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,o=[],t.forEach(function(t,e){var r,i,s,a,c;return t===e?void(o[t]=u.fragments[e]):(r=u.fragments[e],void 0===n&&(n=e),t===-1?(u.fragmentsToUnrender.push(r),void r.unbind()):(i=t-e,s=u.keypath.join(e),a=u.keypath.join(t),r.index=t,(c=r.registeredIndexRefs)&&c.forEach(Xn),r.rebind(s,a),void(o[t]=r)))}),i=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===i)return;n=this.length}for(this.length=this.fragments.length=i,this.rendered&&du.addView(this),s={template:this.template.f,root:this.root,owner:this},r=n;r<i;r+=1)a=o[r],a||this.fragmentsToCreate.push(r),this.fragments[r]=a}}function Xn(t){t.rebind("","")}function Hn(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function tr(t){var e,n,r=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=r.keypath.join(t),n.index=t,e=new vb(n),r.fragmentsToRender.push(r.fragments[t]=e)}),this.fragmentsToCreate.length=0):nr(this,t)&&(this.bubble(),this.rendered&&du.addView(this)),this.value=t,this.updating=!1)}function er(t,e,n){if(e===Ah&&t.indexRefs&&t.indexRefs[0]){var r=t.indexRefs[0];(n&&"i"===r.t||!n&&"k"===r.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),r.t=n?"k":"i"}t.currentSubtype=e}function nr(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case kh:return t.hasContext=!1,ar(t,e,!1,n);case _h:return t.hasContext=!1,ar(t,e,!0,n);case Ch:return sr(t,n);case Sh:return or(t,e,n);case Ah:if(c(e))return er(t,t.subtype,!0),ir(t,e,n)}return t.ordered=!!s(e),t.ordered?(er(t,Ah,!1),rr(t,e,n)):c(e)||"function"==typeof e?t.template.i?(er(t,Ah,!0),ir(t,e,n)):(er(t,Ch,!1),sr(t,n)):(er(t,kh,!1),t.hasContext=!1,ar(t,e,!1,n))}function rr(t,e,n){var r,i,o;if(i=e.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(Z);else if(i>t.length)for(r=t.length;r<i;r+=1)n.context=t.keypath.join(r),n.index=r,o=new vb(n),t.fragmentsToRender.push(t.fragments[r]=o);return t.length=i,!0}function ir(t,e,n){var r,i,o,s,a,u;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)s=t.fragments[i],s.key in e||(a=!0,s.unbind(),t.fragmentsToUnrender.push(s),t.fragments.splice(i,1),o[s.key]=!1);for(i=t.fragments.length;i--;)s=t.fragments[i],s.index!==i&&(s.index=i,(u=s.registeredIndexRefs)&&u.forEach(hr));i=t.fragments.length;for(r in e)o[r]||(a=!0,n.context=t.keypath.join(r),n.key=r,n.index=i++,s=new vb(n),t.fragmentsToRender.push(s),t.fragments.push(s),o[r]=!0);return t.length=t.fragments.length,a}function or(t,e,n){return e?sr(t,n):ur(t)}function sr(t,e){var n;if(!t.length)return e.context=t.keypath,e.index=0,n=new vb(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0}function ar(t,e,n,r){var i,o,a,u,h;if(o=s(e)&&0===e.length,a=!1,!s(e)&&c(e)){a=!0;for(h in e){a=!1;break}}return i=n?o||a||!e:e&&!o&&!a,i?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(Z),!0):void 0:(r.index=0,u=new vb(r),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):ur(t)}function ur(t){if(t.length)return t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(cr),t.fragmentsToUnrender.forEach(Z),t.length=t.fragmentsToRender.length=0,!0}function cr(t){return t.rendered}function hr(t){t.rebind("","")}function lr(t){var e,n,r;for(e="",n=0,r=this.length,n=0;n<r;n+=1)e+=this.fragments[n].toString(t);return e}function fr(){var t=this;this.fragments.forEach(Z),this.fragmentsToRender.forEach(function(e){return N(t.fragments,e)}),this.fragmentsToRender=[],jd.call(this),this.length=0,this.unbound=!0}function dr(t){this.fragments.forEach(t?pr:mr),this.renderedFragments=[],this.rendered=!1}function pr(t){t.unrender(!0)}function mr(t){t.unrender(!1)}function vr(){var t,e,n,r,i,o,s;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(i=this.parentFragment.getNode()),s=this.fragments.length,o=0;o<s;o+=1)t=this.fragments[o],e=n.indexOf(t,o),e!==o?(this.docFrag.appendChild(t.detach()),e!==-1&&n.splice(e,1),n.splice(o,0,t)):this.docFrag.childNodes.length&&(r=t.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function gr(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;e<t;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function yr(t){var e,n,r,i;for(n=this.nodes.length,e=0;e<n;e+=1)if(r=this.nodes[e],1===r.nodeType){if(la(r,t))return r;if(i=r.querySelector(t))return i}return null}function br(t,e){var n,r,i,o,s,a;for(r=this.nodes.length,n=0;n<r;n+=1)if(i=this.nodes[n],1===i.nodeType&&(la(i,t)&&e.push(i),o=i.querySelectorAll(t)))for(s=o.length,a=0;a<s;a+=1)e.push(o[a])}function wr(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xr(t){return Pp[t]||(Pp[t]=ha(t))}function Er(t){var e,n,r;t&&"select"===t.name&&t.binding&&(e=U(t.node.options).filter(kr),t.getAttribute("multiple")?r=e.map(function(t){return t.value}):(n=e[0])&&(r=n.value),void 0!==r&&t.binding.setValue(r),t.bubble())}function kr(t){return t.selected}function _r(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Ip(this.value,this.parentFragment.getNode(),this.docFrag),Rp(this.pElement),this.rendered=!0,this.docFrag}function Ar(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&du.addView(this))}function Cr(){return void 0!=this.value?_e(""+this.value):""}function Sr(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Tr(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Ip(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Rp(this.pElement)}}function Pr(){var t,e=this.node;if(e)return(t=e.parentNode)&&t.removeChild(e),e}function Ir(){return null}function Rr(){return this.node}function Or(t){if(this.attributes&&this.attributes[t])return this.attributes[t].value}function jr(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&du.addView(this))}function Lr(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Jc?e[0]:void 0}function Fr(t){return this.type=eh,this.element=t.element,this.root=t.root,rm(this,t.name),this.isBoolean=vl.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new vb({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=im(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=!!this.isBoolean||(t.value||""))}function Nr(t,e){this.fragment&&this.fragment.rebind(t,e)}function Ur(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==ra.html||(e=um[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Br(){var t=this,e=t.name,n=t.namespacePrefix,r=t.value,i=t.interpolator,o=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?e:"";if(o){if(1===o.items.length&&null==o.items[0].value)return"";r=o.toString()}return n&&(e=n+":"+e),r?e+'="'+Dr(r)+'"':e}}function Dr(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Mr(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Vr(){var t,e,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i){e.selected=!0;break}}function Yr(){var t,e,n,r,i=this.value;for(o(i)||(i=[i]),t=this.node.options,e=t.length;e--;)n=t[e],r=n._ractive?n._ractive.value:n.value,n.selected=O(i,r)}function Wr(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function zr(){var t,e,n,r,i=this.node;if(t=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!i.checked&&this.element.binding&&(n=this.element.binding.siblings,r=n.length)){for(;r--;){if(e=n[r],!e.element.node)return;if(e.element.node.checked)return du.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function Gr(){var t,e,n=this,r=n.element,i=n.node,s=n.value,a=r.binding;if(t=r.getAttribute("value"),o(s)){for(e=s.length;e--;)if(t==s[e])return void(a.isChecked=i.checked=!0);a.isChecked=i.checked=!1}else a.isChecked=i.checked=s==t}function Jr(){this.node.className=n(this.value)}function Zr(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Qr(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function qr(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function $r(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Kr(){this.locked||(this.node[this.propertyName]=this.value)}function Xr(){var t=this,e=t.node,n=t.namespace,r=t.name,i=t.value,o=t.fragment;n?e.setAttributeNS(n,r,(o||i).toString()):this.isBoolean?i?e.setAttribute(r,""):e.removeAttribute(r):null==i?e.removeAttribute(r):e.setAttribute(r,(o||i).toString())}function Hr(){var t,e,n=this,r=n.name,i=n.element,o=n.node;"id"===r?e=gm:"value"===r?"select"===i.name&&"value"===r?e=i.getAttribute("multiple")?fm:lm:"textarea"===i.name?e=wm:null!=i.getAttribute("contenteditable")?e=bm:"input"===i.name&&(t=i.getAttribute("type"),e="file"===t?Pa:"radio"===t&&i.binding&&"name"===i.binding.name?pm:wm):this.isTwoway&&"name"===r?"radio"===o.type?e=dm:"checkbox"===o.type&&(e=mm):"style"===r&&o.style.setAttribute?e=ym:"class"!==r||o.namespaceURI&&o.namespaceURI!==ra.html?this.useProperty&&(e=xm):e=vm,e||(e=Em),this.update=e,this.update()}function ti(t,e){var n=e?"svg":"div";return Am.innerHTML="<"+n+" "+t+"></"+n+">",U(Am.childNodes[0].attributes)}function ei(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function ni(t){for(;t=t.parent;)if("form"===t.name)return t}function ri(){this._ractive.binding.handleChange()}function ii(){var t;Lm.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function oi(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Lm.call(e),t._timeout=void 0},t.element.lazy)}function si(t,e,n){var r=t+e+n;return Dm[r]||(Dm[r]=[])}function ai(t){return t.isChecked}function ui(t){return t.element.getAttribute("value")}function ci(t){var e,n,r,i,o,s=t.attributes;if(t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||s.contenteditable&&hi(s.contenteditable))&&hi(s.value)?n=Um:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(r=hi(s.name),i=hi(s.checked),r&&i&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),r?n="radio"===e?Wm:Gm:i&&(n="radio"===e?Vm:Zm)):"file"===e&&hi(s.value)?n=Hm:hi(s.value)&&(n="number"===e||"range"===e?tv:Fm)):"select"===t.name&&hi(s.value)?n=t.getAttribute("multiple")?Km:qm:"textarea"===t.name&&hi(s.value)&&(n=Fm),n&&(o=new n(t))&&o.keypath)return o}function hi(t){return t&&t.isBindable}function li(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function fi(t){Du(this.root,this.getAction(),{event:t})}function di(){return this.action.toString().trim()}function pi(t,e,n){var r,i,o,s=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,e.indexOf("*")!==-1&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(i=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Gd(n.a.s,i.length),this.parentFragment=t.parentFragment,o=this.root,this.refResolvers=[],i.forEach(function(t,e){var n=void 0;(n=sv.exec(t))?s.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:s.refResolvers.push(zd(s,t,function(t){return s.resolve(e,t)}))}),this.fire=mi):(r=n.n||n,"string"!=typeof r&&(r=new vb({template:r,root:this.root,owner:this})),this.action=r,n.d?(this.dynamicParams=new vb({template:n.d,root:this.root,owner:this.element}),this.fire=gi):n.a&&(this.params=n.a,this.fire=vi))}function mi(t){var e,n,r;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,o;if(void 0!==n){if(n.eventObject){if(r=t,i=n.refinements.length)for(o=0;o<i;o+=1)r=r[n.refinements[o]]}else r=e.viewmodel.get(n);return r}}),Bu.enqueue(e,t),r=this.fn.apply(null,n),e[this.method].apply(e,r),Bu.dequeue(e)}function vi(t){Du(this.root,this.getAction(),{event:t,args:this.params})}function gi(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),Du(this.root,this.getAction(),{event:t,args:e})}function yi(t){var e,n,r,i={};e=this._ractive,n=e.events[t.type],(r=Yd(n.element.parentFragment))&&(i=Yd.resolve(r)),n.fire({node:this,original:t,index:i,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function bi(){var t,e=this.name;if(!this.invalid){if(t=g("events",this.root,e))this.custom=t(this.node,wi(e));else{if(!("on"+e in this.node||window&&"on"+e in window||ta))return void(hv[e]||v(ja(e,"event"),{node:this.node}));this.node.addEventListener(e,av,!1)}this.hasListener=!0}}function wi(t){return cv[t]||(cv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),cv[t]}function xi(t,e){function n(n){n&&n.rebind(t,e)}var r;return this.method?(r=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function Ei(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function ki(t,e){this.keypaths[t]=e}function _i(){return this.method?void this.refResolvers.forEach(Z):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ai(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,av,!1),this.hasListener=!1}function Ci(){var t=this;this.dirty||(this.dirty=!0,du.scheduleTask(function(){Si(t),t.dirty=!1})),this.parentFragment.bubble()}function Si(t){var e,n,r,i,o;e=t.node,e&&(i=U(e.options),n=t.getAttribute("value"),r=t.getAttribute("multiple"),void 0!==n?(i.forEach(function(t){var e,i;e=t._ractive?t._ractive.value:t.value,i=r?Ti(n,e):n==e,i&&(o=!0),t.selected=i}),o||(i[0]&&(i[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Ti(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Pi(t,e){t.select=Ri(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Ii(t){t.select&&N(t.select.options,t)}function Ri(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Oi(t){var e,n,r,i,o,s,a;this.type=Kc,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=r=e.root,this.index=t.index,this.key=t.key,this.name=nm(n.e),"option"===this.name&&Pi(this,n),"select"===this.name&&(this.options=[],this.bubble=Ci),"form"===this.name&&(this.formBindings=[]),a=tm(this,n),this.attributes=Sm(this,n.a),this.conditionalAttributes=Im(this,n.m),n.f&&(this.fragment=new vb({template:n.f,root:r,owner:this,pElement:this,cssIds:null})),s=r.twoway,a.twoway===!1?s=!1:a.twoway===!0&&(s=!0),this.twoway=s,this.lazy=a.lazy,s&&(i=ev(this,n.a))&&(this.binding=i,o=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),o.push(i)),n.v&&(this.eventHandlers=yv(this,n.v)),n.o&&(this.decorator=new kv(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function ji(t,e){function n(n){n.rebind(t,e)}var r,i,o,s;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),o=this.liveQueries)for(s=this.root,r=o.length;r--;)o[r]._makeDirty();this.node&&(i=this.node._ractive)&&E(i,"keypath",t,e)}function Li(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),r=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==r&&t.node.setAttribute("height",r),t.node.removeEventListener("load",e,!1)},!1)}function Fi(t){t.node.addEventListener("reset",Ui,!1)}function Ni(t){t.node.removeEventListener("reset",Ui,!1)}function Ui(){var t=this._ractive.proxy;du.start(),t.formBindings.forEach(Bi),du.end()}function Bi(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Di(t,e,n){var r,i,o;this.element=t,this.root=r=t.root,this.isIntro=n,i=e.n||e,"string"!=typeof i&&(o=new vb({template:i,root:r,owner:t}),i=o.toString(),o.unbind(),""===i)||(this.name=i,e.a?this.params=e.a:e.d&&(o=new vb({template:e.d,root:r,owner:t}),this.params=o.getArgsList(),o.unbind()),this._fn=g("transitions",r,i),this._fn||v(ja(i,"transition"),{ractive:this.root}))}function Mi(t){return t}function Vi(){Hv.hidden=document[qv]}function Yi(){Hv.hidden=!0}function Wi(){Hv.hidden=!1}function zi(){var t,e,n,r=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(i){n||(!i&&r.isIntro&&Gi(t,e),t._ractive.transition=null,r._manager.remove(r),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Gi(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function Ji(){var t,e,n,r=this,i=this.root;return t=Zi(this),e=this.node=ha(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),wa(this.node,"_ractive",{value:{proxy:this,keypath:ou(this.parentFragment),events:ba(null),root:i}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=hg,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Pa):"style"===this.name?(this.bubble=cg,this.bubble(),this.fragment.unrender=Pa):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Pa:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Qi(this),"img"===this.name?Li(this):"form"===this.name?Fi(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&du.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0),i.transitionsEnabled&&this.intro&&(n=new lg(this,this.intro,!0),du.registerTransition(n),du.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&du.scheduleTask(function(){return r.node.focus()},!0),qi(this),this.node}function Zi(t){var e,n,r;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?ra.svg:(r=t.parent)?"foreignObject"===r.name?ra.html:r.node.namespaceURI:t.root.el.namespaceURI}function Qi(t){var e,n,r;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&o(n)){for(r=n.length;r--;)if(e==n[r]){t.node.selected=!0;break}}else t.node.selected=e==n}function qi(t){var e,n,r,i,o;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(e=e.parent)}function $i(t){var e,n,r;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&o(n))for(r=n.length;r--;)if(n[r]==e)return!0}function Ki(t){var e,n,r,i;if(e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator)return r.value===i.interpolator.value||void 0}function Xi(t){var e=t.toString();return e?" "+e:""}function Hi(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Z),"option"===this.name&&Ii(this),this.attributes.forEach(Z),this.conditionalAttributes.forEach(Z)}function to(t){var e,n,r;(r=this.transition)&&r.complete(),"option"===this.name?this.detach():t&&du.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(Q),this.decorator&&du.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new lg(this,this.outro,!1),du.registerTransition(r),du.scheduleTask(function(){return r.start()})),this.liveQueries&&eo(this),"form"===this.name&&Ni(this)}function eo(t){var e,n,r;for(r=t.liveQueries.length;r--;)e=t.liveQueries[r],n=e.selector,e._remove(t.node)}function no(t,e){var n=bg.exec(e)[0];return null===t||n.length<t.length?n:t}function ro(t,e,n){var r;if(r=io(t,e,n||{}))return r;if(r=od.fromId(e,{noThrow:!0})){r=wg(r);var i=od.parse(r,od.getParseOptions(t));return t.partials[e]=i.t}}function io(t,e,n){var r=void 0,i=ao(e,n.owner);if(i)return i;var o=y("partials",t,e);if(o){if(i=o.partials[e],"function"==typeof i&&(r=i.bind(o),r.isOwner=o.partials.hasOwnProperty(e),i=r.call(t,od)),!i&&""!==i)return void m(Oa,e,"partial","partial",{ractive:t});if(!od.isParsed(i)){var s=od.parse(i,od.getParseOptions(o));s.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=r?o:oo(o,e);a.partials[e]=i=s.t}return r&&(i._fn=r),i.v?i.t:i}}function oo(t,e){return t.partials.hasOwnProperty(e)?t:so(t.constructor,e)}function so(t,e){if(t)return t.partials.hasOwnProperty(e)?t:so(t._Parent,e)}function ao(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return ao(t,e.parentFragment.owner)}}function uo(t,e){var n,r=y("components",t,e);if(r&&(n=r.components[e],!n._Parent)){var i=n.bind(r);if(i.isOwner=r.components.hasOwnProperty(e),n=i(),!n)return void m(Oa,e,"component","component",{ractive:t});"string"==typeof n&&(n=uo(t,n)),n._fn=i,r.components[e]=n}return n}function co(){var t=this.instance.fragment.detach();return Rg.fire(this.instance),t}function ho(t){return this.instance.fragment.find(t)}function lo(t,e){return this.instance.fragment.findAll(t,e)}function fo(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function po(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function mo(){return this.parentFragment.findNextNode(this)}function vo(){return this.rendered?this.instance.fragment.firstNode():null}function go(t,e,n){function r(t){var n,r;t.value=e,t.updating||(r=t.ractive,n=t.keypath,t.updating=!0,du.start(r),r.viewmodel.mark(n),du.end(),t.updating=!1)}var i,o,s,a,u,c;if(i=t.obj,o=t.prop,n&&!n.configurable){if("length"===o)return;throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}n&&(s=n.get,a=n.set),u=s||function(){return e},c=function(t){a&&a(t),e=s?s():t,c._ractiveWrappers.forEach(r)},c._ractiveWrappers=[t],Object.defineProperty(i,o,{get:u,set:c,enumerable:!0,configurable:!0})}function yo(t,e){var n,r,i,o;if(this.adaptors)for(n=this.adaptors.length,r=0;r<n;r+=1)if(i=this.adaptors[r],i.filter(e,t,this.ractive))return o=this.wrapped[t]=i.wrap(this.ractive,e,t,wo(t)),void(o.value=e)}function bo(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function wo(t){var e;return ey[t]||(e=t?t+".":"",ey[t]=function(n,r){var i;return"string"==typeof n?(i={},i[e+n]=r,i):"object"==typeof n?e?bo(n,t):n:void 0}),ey[t]}function xo(t){var e,n,r=[Ga];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)t.indexOf(n)===-1&&R(r,n),n=n.parent;return r}function Eo(t,e,n){var r;_o(t,e),n||(r=e.wildcardMatches(),r.forEach(function(n){ko(t,n,e)}))}function ko(t,e,n){var r,i,o;e=e.str||e,r=t.depsMap.patternObservers,i=r&&r[e],i&&i.forEach(function(e){o=n.join(e.lastKey),_o(t,o),ko(t,e,o)})}function _o(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function Ao(){function t(t){var r=t.key;t.viewmodel===s?(s.clearCache(r.str),t.invalidate(),n.push(r),e(r)):t.viewmodel.mark(r)}function e(n){var r,i;s.noCascade.hasOwnProperty(n.str)||((i=s.deps.computed[n.str])&&i.forEach(t),(r=s.depsMap.computed[n.str])&&r.forEach(e))}var n,r,i,o=this,s=this,a={};if(n=this.changes,n.length)return n.slice().forEach(e),r=ny(n),r.forEach(function(e){
var r;n.indexOf(e)===-1&&(r=s.deps.computed[e.str])&&r.forEach(t)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(t){return ry(o,t,!0)}),n.forEach(function(t){return ry(o,t)})),this.deps.observers&&(r.forEach(function(t){return Co(o,null,t,"observers")}),To(this,n,"observers")),this.deps.default&&(i=[],r.forEach(function(t){return Co(o,i,t,"default")}),i.length&&So(this,i,n),To(this,n,"default")),n.forEach(function(t){a[t.str]=o.get(t)}),this.implicitChanges={},this.noCascade={},a}function Co(t,e,n,r){var i,o;(i=Po(t,n,r))&&(o=t.get(n),i.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(o)}))}function So(t,e,n){e.forEach(function(e){for(var r=!1,i=0,o=n.length,s=[];i<o;){var a=n[i];if(a===e.keypath){r=!0;break}a.slice(0,e.keypath.length)===e.keypath&&s.push(a),i++}r&&e.setValue(t.get(e.keypath)),s.length&&e.refineValue(s)})}function To(t,e,n){function r(t){t.forEach(i),t.forEach(o)}function i(e){var r=Po(t,e,n);r&&a.push({keypath:e,deps:r})}function o(e){var i;(i=t.depsMap[n][e.str])&&r(i)}function s(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];r(e),a.forEach(s)}function Po(t,e,n){var r=t.deps[n];return r?r[e.str]:null}function Io(){this.captureGroups.push([])}function Ro(t,e){var n,r;if(e||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Oo(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function jo(t,e){var n=new hy(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function Lo(t,e){var n,r,i,o,s,a=this.cache,u=t.str;if(e=e||py,e.capture&&(o=F(this.captureGroups))&&(~o.indexOf(t)||o.push(t)),Ca.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[u]?((r=this.computations[u])&&!r.bypass?(n=r.get(),this.adapt(u,n)):(i=this.wrapped[u])?n=i.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Fo(this,t),a[u]=n):n=a[u],!e.noUnwrap&&(i=this.wrapped[u])&&(n=i.get()),t.isRoot&&e.fullRootGet)for(s in this.mappings)n[s]=this.mappings[s].getValue();return n===fy?void 0:n}function Fo(t,e){var n,r,i,o;if(n=t.get(e.parent),(o=t.wrapped[e.parent.str])&&(n=o.get()),null!==n&&void 0!==n)return(r=t.cacheMap[e.parent.str])?r.indexOf(e.str)===-1&&r.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(i=n[e.lastKey],t.adapt(e.str,i,!1),t.cache[e.str]=i,i):t.cache[e.str]=fy}function No(){var t;for(t in this.computations)this.computations[t].init(this)}function Uo(t,e){var n=this.mappings[t.str]=new gy(t,e);return n.initViewmodel(this),n}function Bo(t,e){var n,r=t.str;e&&(e.implicit&&(this.implicitChanges[r]=!0),e.noCascade&&(this.noCascade[r]=!0)),(n=this.computations[r])&&n.invalidate(),this.changes.indexOf(t)===-1&&this.changes.push(t);var i=!!e&&e.keepExistingWrapper;this.clearCache(r,i),this.ready&&this.onchange()}function Do(t,e,n,r){var i,o,s,a;if(this.mark(t),r&&r.compare){s=Vo(r.compare);try{i=e.map(s),o=n.map(s)}catch(r){m('merge(): "%s" comparison failed. Falling back to identity checking',t),i=e,o=n}}else i=e,o=n;a=by(i,o),this.smartUpdate(t,n,a,e.length!==n.length)}function Mo(t){return JSON.stringify(t)}function Vo(t){if(t===!0)return Mo;if("string"==typeof t)return xy[t]||(xy[t]=function(e){return e[t]}),xy[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Yo(t,e){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,o):(r=this.deps[o]||(this.deps[o]={}),i=r[t.str]||(r[t.str]=[]),i.push(e),this.depsMap[o]||(this.depsMap[o]={}),t.isRoot||Wo(this,t,o)))}function Wo(t,e,n){for(var r,i,o;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str]||(r[e.parent.str]=[]),o=e.str,void 0===i["_"+o]&&(i["_"+o]=0,i.push(e)),i["_"+o]+=1,e=e.parent}function zo(){return this.captureGroups.pop()}function Go(t){this.data=t,this.clearCache("")}function Jo(t,e){var n,r,i,o,s=void 0===arguments[2]?{}:arguments[2];if(!s.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(r=this.computations[t.str]){if(r.setting)return;r.set(e),e=r.get()}a(this.cache[t.str],e)||(i=this.wrapped[t.str],i&&i.reset&&(o=i.reset(e)!==!1,o&&(e=i.get())),r||o||Zo(this,t,e),s.silent?this.clearCache(t.str):this.mark(t))}function Zo(t,e,n){var r,i,o,s;o=function(){r.set?r.set(e.lastKey,n):(i=r.get(),s())},s=function(){i||(i=qg(e.lastKey),t.set(e.parent,i,{silent:!0})),i[e.lastKey]=n},r=t.wrapped[e.parent.str],r?o():(i=t.get(e.parent),(r=t.wrapped[e.parent.str])?o():s())}function Qo(t,e,n){var r,i,o,s=this;if(i=n.length,n.forEach(function(e,n){e===-1&&s.mark(t.join(n),Ty)}),this.set(t,e,{silent:!0}),(r=this.deps.default[t.str])&&r.filter(qo).forEach(function(t){return t.shuffle(n,e)}),i!==e.length){for(this.mark(t.join("length"),Sy),o=n.touchedFrom;o<e.length;o+=1)this.mark(t.join(o));for(o=e.length;o<i;o+=1)this.mark(t.join(o),Ty)}}function qo(t){return"function"==typeof t.shuffle}function $o(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Ko(t,e){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,o);if(r=this.deps[o][t.str],i=r.indexOf(e),i===-1)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");r.splice(i,1),t.isRoot||Xo(this,t,o)}}function Xo(t,e,n){for(var r,i;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str],i["_"+e.str]-=1,i["_"+e.str]||(N(i,e),i["_"+e.str]=void 0),e=e.parent}function Ho(t){this.hook=new tu(t),this.inProcess={},this.queue={}}function ts(t,e){return t[e._guid]||(t[e._guid]=[])}function es(t,e){var n=ts(t.queue,e);for(t.hook.fire(e);n.length;)es(t,n.shift());delete t.queue[e._guid]}function ns(t,e){var n,r={};for(n in e)r[n]=rs(t,n,e[n]);return r}function rs(t,e,n){var r,i;return"function"==typeof n&&(r=os(n,t)),"string"==typeof n&&(r=is(t,n)),"object"==typeof n&&("string"==typeof n.get?r=is(t,n.get):"function"==typeof n.get?r=os(n.get,t):l("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(i=os(n.set,t))),{getter:r,setter:i}}function is(t,e){var n,r,i;return n="return ("+e.replace(Fy,function(t,e){return r=!0,'__ractive.get("'+e+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(t):i}function os(t,e){return/this/.test(t.toString())?t.bind(e):t}function ss(e){var n,i,o=void 0===arguments[1]?{}:arguments[1],s=void 0===arguments[2]?{}:arguments[2];if(zb.DEBUG&&Aa(),cs(e,s),wa(e,"data",{get:hs}),Ny.fire(e,o),My.forEach(function(t){e[t]=r(ba(e.constructor[t]||null),o[t])}),i=new Oy({adapt:as(e,e.adapt,o),data:Dc.init(e.constructor,e,o),computed:Ly(e,r(ba(e.constructor.prototype.computed),o.computed)),mappings:s.mappings,ractive:e,onchange:function(){return du.addRactive(e)}}),e.viewmodel=i,i.init(),gd.init(e.constructor,e,o),Uy.fire(e),By.begin(e),e.template){var a=void 0;(s.cssIds||e.cssId)&&(a=s.cssIds?s.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new vb({template:e.template,root:e,owner:e,cssIds:a})}if(By.end(e),n=t(e.el)){var u=e.render(n,e.append);zb.DEBUG_PROMISES&&u.catch(function(t){throw v("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&f(t.stack),t})}}function as(t,e,n){function r(e){return"string"==typeof e&&(e=g("adaptors",t,e),e||l(ja(e,"adaptor"))),e}var i,o,s;if(e=e.map(r),i=L(n.adapt).map(r),i=us(e,i),o="magic"in n?n.magic:t.magic,s="modifyArrays"in n?n.modifyArrays:t.modifyArrays,o){if(!na)throw new Error("Getters and setters (magic mode) are not supported in this browser");s&&i.push(Hg),i.push(Xg)}return s&&i.push(Zg),i}function us(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function cs(t,e){t._guid="r-"+Dy++,t._subs=ba(null),t._config={},t._twowayBindings=ba(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function hs(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ls(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new vb({template:e,root:t.root,owner:this}),this.update()}function fs(t,e,n){var r;return e.r?r=zd(t,e.r,n):e.x?r=new Qd(t,t.parentFragment,e.x,n):e.rx&&(r=new Xd(t,e.rx,n)),r}function ds(t){return 1===t.length&&t[0].t===Jc}function ps(t,e){var n;for(n in e)e.hasOwnProperty(n)&&ms(t.instance,t.root,n,e[n])}function ms(t,e,n,r){"string"!=typeof r&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Du(e,r,{event:t,args:n}),!1})}function vs(t,e){var n,r;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,r=n.root,this.root=r,this.type=rh,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Wy(this,e,t.template.a,t.template.f,t.template.p),zy(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Gy(this)}function gs(t,e){function n(n){n.rebind(t,e)}var r;this.resolvers.forEach(n);for(var i in this.yielders)this.yielders[i][0]&&n(this.yielders[i][0]);(r=this.root._liveComponentQueries["_"+this.name])&&r._makeDirty()}function ys(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function bs(){return this.instance.fragment.toString()}function ws(){var t=this.instance;this.resolvers.forEach(Z),xs(this),t._observers.forEach(q),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&N(t.el.__ractive_instances__,t),Ky.fire(t)}function xs(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function Es(t){this.shouldDestroy=t,this.instance.unrender()}function ks(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,r){return _s({parentFragment:e,pElement:t.pElement,template:n,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function _s(t){if("string"==typeof t.template)return new Od(t);switch(t.template.t){case ih:return new ib(t);case Jc:return new ip(t);case Qc:return new _p(t);case Zc:return new Yp(t);case Kc:var e=void 0;return(e=Pg(t.parentFragment.root,t.template.e))?new tb(t,e):new gg(t);case Xc:return new Tg(t);case Hc:return new nb(t);case sh:return new sb(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function As(t,e){this.owner&&!this.owner.hasContext||E(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function Cs(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function Ss(t){return this.items?this.items.map(t?Ps:Ts).join(""):""}function Ts(t){return t.toString()}function Ps(t){return t.toString(!0)}function Is(){this.bound&&(this.items.forEach(Rs),this.bound=!1)}function Rs(t){t.unbind&&t.unbind()}function Os(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function js(t){var e,n,r,i,o;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),r=gd.reset(this),i=r.length;i--;)if(yb.indexOf(r[i])>-1){o=!0;break}if(o){var s=void 0;this.viewmodel.mark(Ga),(s=this.component)&&(s.shouldDestroy=!0),this.unrender(),s&&(s.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new vb({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=du.start(this,!0),this.viewmodel.mark(Ga),du.end();return bb.fire(this,t),e}function Ls(t){var e,n;ad.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new vb({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Fs(t,e){var n,r;if(r=du.start(this,!0),c(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Ns(this,t,e))}else Ns(this,t,e);return du.end(),r}function Ns(t,e,n){e=_(S(e)),e.isPattern?A(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Us(t,e){return Ja(this,t,void 0===e?-1:-e)}function Bs(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(q),this.fragment.rendered&&this.el.__ractive_instances__&&N(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():iu.resolve(),Pb.fire(this),this._boundFunctions.forEach(Ds),t}function Ds(t){delete t.fn[t.prop]}function Ms(t){var e=this;if("string"!=typeof t)throw new TypeError(Ra);var n=void 0;return/\*/.test(t)?(n={},A(this,_(S(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Vs(){return this.fragment.toString(!0)}function Ys(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),iu.resolve();for(t=du.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),N(this.el.__ractive_instances__,this),jb.fire(this),du.end(),t}function Ws(t){var e;return t=_(t)||Ga,e=du.start(this,!0),this.viewmodel.mark(t),du.end(),Nb.fire(this,t),e}function zs(t,e){var n,r,i;if("string"!=typeof t||e){i=[];for(r in this._twowayBindings)t&&!_(r).equalsOrStartsWith(t)||i.push.apply(i,this._twowayBindings[r])}else i=this._twowayBindings[t];return n=Gs(this,i),this.set(n)}function Gs(t,e){var n={},r=[];return e.forEach(function(t){var e,i;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(r[t.keypath.str]||t.changed()||(r.push(t.keypath),r[t.keypath.str]=t));e=t.attribute.value,i=t.getValue(),j(e,i)||a(e,i)||(n[t.keypath.str]=i)}}),r.length&&r.forEach(function(t){var e,i,o;e=r[t.str],i=e.attribute.value,o=e.getValue(),j(i,o)||(n[t.str]=o)}),n}function Js(t,e){return"function"==typeof e&&/_super/.test(t)}function Zs(t){for(var e={};t;)Qs(t,e),$s(t,e),t=t._Parent!==zb&&t._Parent;return e}function Qs(t,e){pd.forEach(function(n){qs(n.useDefaults?t.prototype:t,e,n.name)})}function qs(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}function $s(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var r=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof r&&e[n]._method){var i=void 0,o=r._method;o&&(r=r._method),i=Db(e[n]._method,r),o&&(i._method=i),e[n]=i}}else e[n]=r._method?r._method:r}})}function Ks(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length?e.reduce(Xs,this):Xs(this)}function Xs(t){var e,n,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof zb&&(i=Mb(i)),e=function(t){return this instanceof e?void Vy(this,t):new e(t)},n=ba(t.prototype),n.constructor=e,xa(e,{defaults:{value:n},extend:{value:Ks,writable:!0,configurable:!0},_Parent:{value:t}}),gd.extend(t,n,i),Dc.extend(t,n,i),i.computed&&(n.computed=r(ba(t.prototype.computed),i.computed)),e.prototype=n,e}var Hs,ta,ea,na,ra,ia,oa,sa=3,aa={el:void 0,append:!1,template:{v:sa,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},ua=aa,ca={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Hs="object"==typeof document,ta="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ea="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),na=!0}catch(t){na=!1}ra={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ia="undefined"!=typeof document&&(document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),oa=["o","ms","moz","webkit"];var ha,la,fa,da,pa,ma,va,ga,ya;if(ha=ia?function(t,e){return e&&e!==ra.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==ra.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Hs){for(fa=ha("div"),da=["matches","matchesSelector"],ya=function(t){return function(e,n){return e[t](n)}},va=da.length;va--&&!la;)if(pa=da[va],fa[pa])la=ya(pa);else for(ga=oa.length;ga--;)if(ma=oa[va]+pa.substr(0,1).toUpperCase()+pa.substring(1),fa[ma]){la=ya(ma);break}la||(la=function(t,e){var n,r,i;for(r=t.parentNode,r||(fa.innerHTML="",r=fa,t=t.cloneNode(),fa.appendChild(t)),n=r.querySelectorAll(e),i=n.length;i--;)if(n[i]===t)return!0;return!1})}else la=null;var ba,wa,xa,Ea=null;try{Object.defineProperty({},"test",{value:0}),Hs&&Object.defineProperty(document.createElement("div"),"test",{value:0}),wa=Object.defineProperty}catch(t){wa=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(t){throw t}Hs&&Object.defineProperties(ha("div"),{test:{value:0}}),xa=Object.defineProperties}catch(t){xa=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&wa(t,n,e[n])}}try{Object.create(null),ba=Object.create}catch(t){ba=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}var ka,_a,Aa,Ca=Object.prototype.hasOwnProperty,Sa=Object.prototype.toString,Ta=/^\[object (?:Array|FileList)\]$/,Pa=function(){},Ia={};ea?!function(){var t=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Aa=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),Aa=Pa},_a=function(t,e){if(Aa(),"object"==typeof e[e.length-1]){var n=e.pop(),r=n?n.ractive:null;if(r){var i=void 0;r.component&&(i=r.component.name)&&(t="<"+i+"> "+t);var o=void 0;(o=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&e.push(o)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},ka=function(){console.log.apply(console,arguments)}}():_a=ka=Aa=Pa;var Ra="Bad arguments",Oa='A function was specified for "%s" %s, but no %s was returned',ja=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},La=function(t,e,n,r){if(t===e)return b(e);if(r){var i=g("interpolators",n,r);if(i)return i(t,e)||b(e);l(ja(r,"interpolator"))}return Ua.number(t,e)||Ua.array(t,e)||Ua.object(t,e)||b(e)},Fa=La,Na={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,r,i,s;if(!o(t)||!o(e))return null;for(n=[],r=[],s=i=Math.min(t.length,e.length);s--;)r[s]=Fa(t[s],e[s]);for(s=i;s<t.length;s+=1)n[s]=t[s];for(s=i;s<e.length;s+=1)n[s]=e[s];return function(t){for(var e=i;e--;)n[e]=r[e](t);return n}},object:function(t,e){var n,r,i,o,s;if(!c(t)||!c(e))return null;n=[],o={},i={};for(s in t)Ca.call(t,s)&&(Ca.call(e,s)?(n.push(s),i[s]=Fa(t[s],e[s])):o[s]=t[s]);for(s in e)Ca.call(e,s)&&!Ca.call(t,s)&&(o[s]=e[s]);return r=n.length,function(t){for(var e,s=r;s--;)e=n[s],o[e]=i[e](t);return o}}},Ua=Na,Ba=w,Da={},Ma=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Va=/\*/,Ya={},Wa=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=k(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Va.test(t),this.parent=""===t?null:_(e.join(".")),this.isRoot=!t};Wa.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return _(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:_(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return!!t&&(t&&this.str.substr(0,t.str.length+1)===t.str+".")},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Ba(this.str))}};var za,Ga=_(""),Ja=T,Za="Cannot add to a non-numeric value",Qa=P;"undefined"==typeof window?za=null:(!function(t,e,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-e)),o=i(function(){t(n+r)},r),e=n+r,o})}}(oa,0,window),za=window.requestAnimationFrame);var qa,$a=za;qa="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Ka=qa,Xa={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};I.prototype.fire=function(t,e){function n(n){if(t[n])return e?t[n](e):t[n](),!0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var Ha,tu=I,eu={},nu={},ru={};"function"==typeof Promise?Ha=Promise:(Ha=function(t){var e,n,r,i,o,s,a=[],u=[],c=eu;r=function(t){return function(r){c===eu&&(e=r,c=t,n=D(c===nu?a:u,e),B(n))}},i=r(nu),o=r(ru);try{t(i,o)}catch(t){o(t)}return s={then:function(t,e){var r=new Ha(function(i,o){var s=function(t,e,n){"function"==typeof t?e.push(function(e){var n;try{n=t(e),M(r,n,i,o)}catch(t){o(t)}}):e.push(n)};s(t,a,i),s(e,u,o),c!==eu&&B(n)});return r}},s.catch=function(t){return this.then(null,t)},s},Ha.all=function(t){return new Ha(function(e,n){var r,i,o,s=[];if(!t.length)return void e(s);for(o=function(t,i){t&&"function"==typeof t.then?t.then(function(t){s[i]=t,--r||e(s)},n):(s[i]=t,--r||e(s))},r=i=t.length;i--;)o(t[i],i)})},Ha.resolve=function(t){return new Ha(function(e){e(t)})},Ha.reject=function(t){return new Ha(function(e,n){n(t)})});var iu=Ha,ou=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Ga},su=V,au=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};au.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,X(this)},decrementTotal:function(){this.totalChildren-=1,X(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;N(e,t),X(this)},init:function(){this.ready=!0,X(this)},detachNodes:function(){this.decoratorQueue.forEach(J),this.detachQueue.forEach($),this.children.forEach(K)}};var uu,cu,hu=au,lu=[],fu=new tu("change");cu={start:function(t,e){var n,r;return e&&(n=new iu(function(t){return r=t})),uu={previousBatch:uu,transitionManager:new hu(r,uu&&uu.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&uu.ractives.push(t),n},end:function(){H(),uu.transitionManager.init(),!uu.previousBatch&&uu.instance&&(uu.instance.viewmodel.changes=[]),uu=uu.previousBatch},addRactive:function(t){uu&&R(uu.ractives,t)},registerTransition:function(t){t._manager=uu.transitionManager,uu.transitionManager.add(t)},registerDecorator:function(t){uu.transitionManager.addDecorator(t)},addView:function(t){uu.views.push(t)},addUnresolved:function(t){lu.push(t)},removeUnresolved:function(t){N(lu,t)},detachWhenReady:function(t){uu.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(uu){for(n=uu;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var du=cu,pu=[],mu={tick:function(){var t,e,n;for(n=Ka(),du.start(),t=0;t<pu.length;t+=1)e=pu[t],e.tick(n)||pu.splice(t--,1);du.end(),pu.length?$a(mu.tick):mu.running=!1},add:function(t){pu.push(t),mu.running||(mu.running=!0,$a(mu.tick))},abort:function(t,e){for(var n,r=pu.length;r--;)n=pu[r],n.root===e&&n.keypath===t&&n.stop()}},vu=mu,gu=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Fa(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};gu.prototype={tick:function(){var t,e,n,r,i,o;return o=this.keypath,!!this.running&&(r=Date.now(),t=r-this.startTime,t>=this.duration?(null!==o&&(du.start(this.root),this.root.viewmodel.set(o,this.to),du.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),i===-1&&m("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==o&&(n=this.interpolator(e),du.start(this.root),this.root.viewmodel.set(o,n),du.end()),this.step&&this.step(e,n),!0))},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),t===-1&&m("Animation was not found"),this.root._animations.splice(t,1)}};var yu=gu,bu=nt,wu={stop:Pa},xu=it,Eu=new tu("detach"),ku=ot,_u=st,Au=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),n!==-1&&(t.splice(n,1),t[e]=null)},Cu=function(t,e){var n,r,i,o,s,a,u,c,h,l;for(n=ut(t.component||t._ractive.proxy),r=ut(e.component||e._ractive.proxy),i=F(n),o=F(r);i&&i===o;)n.pop(),r.pop(),s=i,i=F(n),o=F(r);if(i=i.component||i,o=o.component||o,h=i.parentFragment,l=o.parentFragment,h===l)return a=h.items.indexOf(i),u=l.items.indexOf(o),a-u||n.length-r.length;if(c=s.fragments)return a=c.indexOf(h),u=c.indexOf(l),a-u||n.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Su=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Cu(t,e)},Tu=function(){this.sort(this._isComponentQuery?Cu:Su),this._dirty=!1},Pu=function(){var t=this;this._dirty||(this._dirty=!0,du.scheduleTask(function(){t._sort()}))},Iu=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);e!==-1&&this.splice(e,1)},Ru=ct,Ou=ht,ju=lt,Lu=ft,Fu=dt,Nu=pt,Uu={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Bu=Uu,Du=mt,Mu=yt,Vu=bt,Yu={capture:!0,noUnwrap:!0,fullRootGet:!0},Wu=wt,zu=new tu("insert"),Gu=Et,Ju=function(t,e,n,r){this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:t};Ju.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?du.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Zu,Qu=Ju,qu=kt,$u=Array.prototype.slice;Zu=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:t},Zu.prototype={init:function(t){var e,n;if(e=qu(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(_(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=qu(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(_(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void du.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,r,i;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(r=$u.call(this.regex.exec(e),1),i=[n,this.values[e],e].concat(r),this.values[e]=n,this.callback.apply(this.context,i)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){
return e.reallyUpdate(t)}}),this.proxies[t.str]}};var Ku,Xu,Hu,tc,ec,nc,rc=Zu,ic=_t,oc={},sc=At,ac=Ct,uc=function(t){return t.trim()},cc=function(t){return""!==t},hc=St,lc=Tt,fc=Pt,dc=It,pc=Array.prototype,mc=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s,a,u,c,h=[];if(e=_(S(e)),s=this.viewmodel.get(e),a=s.length,!o(s))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return h=dc(s,t,r),c=pc[t].apply(s,r),u=du.start(this,!0).then(function(){return c}),h?this.viewmodel.smartUpdate(e,s,h):this.viewmodel.mark(e),du.end(),u}},vc=mc("pop"),gc=mc("push"),yc="/* Ractive.js component styles */\n",bc=[],wc=!1;Hs?(Hu=document.createElement("style"),Hu.type="text/css",tc=document.getElementsByTagName("head")[0],nc=!1,ec=Hu.styleSheet,Xu=function(){var t=yc+bc.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");ec?ec.cssText=t:Hu.innerHTML=t,nc||(tc.appendChild(Hu),nc=!0)},Ku={add:function(t){bc.push(t),wc=!0},apply:function(){wc&&(Xu(),wc=!1)}}):Ku={add:Pa,apply:Pa};var xc,Ec,kc=Ku,_c=Ot,Ac=new tu("render"),Cc=new tu("complete"),Sc={extend:function(t,e,n){e.adapt=Lt(e.adapt,L(n.adapt))},init:function(){}},Tc=Sc,Pc=Ft,Ic=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Rc=/\/\*.*?\*\//g,Oc=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,jc=/^@media/,Lc=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Fc=1,Nc={name:"css",extend:function(t,e,n){if(n.css){var r=Fc++,i=n.noCssTransform?n.css:Pc(n.css,r);e.cssId=r,kc.add({id:r,styles:i})}},init:function(){}},Uc=Nc,Bc={name:"data",extend:function(t,e,n){var r=void 0,i=void 0;if(n.data&&c(n.data))for(r in n.data)i=n.data[r],i&&"object"==typeof i&&(c(i)||o(i))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Dt(e.data,n.data)},init:function(t,e,n){var r=Dt(t.prototype.data,n.data);return"function"==typeof r&&(r=r.call(e)),r||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},Dc=Bc,Mc=/^\s+/;Ec=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(t){this.stack=t.stack}},Ec.prototype=Error.prototype,xc=function(t,e){var n,r,i=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=i+t.length+1;return i=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},xc.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;n<r;n+=1)if(this.pos=e,i=t[n](this))return i;return null},getLinePos:function(t){for(var e,n=0,r=0;t>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return e=t-r,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],r=e[1],i=this.lines[e[0]-1],o=0,s=i.replace(/\t/g,function(t,n){return n<e[1]&&(o+=1),"  "})+"\n"+new Array(e[1]+o).join(" ")+"^----",a=new Ec(""+t+" at line "+n+" character "+r+":\n"+s);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){if(this.str.substr(this.pos,t.length)===t)return this.pos+=t.length,t},matchPattern:function(t){var e;if(e=t.exec(this.remaining()))return this.pos+=e[0].length,e[1]||e[0]},allowWhitespace:function(){this.matchPattern(Mc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},xc.extend=function(t){var e,n,r=this;e=function(t,e){xc.call(this,t,e)},e.prototype=ba(r.prototype);for(n in t)Ca.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=xc.extend,e};var Vc,Yc,Wc,zc=xc,Gc=1,Jc=2,Zc=3,Qc=4,qc=5,$c=6,Kc=7,Xc=8,Hc=9,th=10,eh=13,nh=14,rh=15,ih=16,oh=17,sh=18,ah=20,uh=21,ch=22,hh=23,lh=24,fh=25,dh=26,ph=27,mh=30,vh=31,gh=32,yh=33,bh=34,wh=35,xh=36,Eh=40,kh=50,_h=51,Ah=52,Ch=53,Sh=54,Th=60,Ph=61,Ih=Yt,Rh=/^[^\s=]+/,Oh=/^\s+/,jh=Wt,Lh=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Fh=zt,Nh={t:th,exclude:!0},Uh="Expected a JavaScript expression",Bh="Expected closing paren",Dh=Jt,Mh=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Vh=Zt;Vc=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Yc=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Wc=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Yh,Wh,zh=function(t){return function(e){var n,r,i,o;for(n=e.pos,r='"',i=!1;!i;)o=e.matchPattern(Vc)||e.matchPattern(Yc)||e.matchString(t),o?r+='"'===o?'\\"':"\\'"===o?"'":o:(o=e.matchPattern(Wc),o?r+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Gh=zh('"'),Jh=zh("'"),Zh=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Jh(t),t.matchString('"')?{t:uh,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Gh(t),t.matchString("'")?{t:uh,v:n}:(t.pos=e,null)):null},Qh=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,qh=Qt,$h=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Kh=qt,Xh=$t,Hh=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=Xh(t),t.allowWhitespace(),t.matchString("}")?{t:hh,m:n}:(t.pos=e,null)):(t.pos=e,null)},tl=Kt,el=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=tl(t),t.matchString("]")?{t:ch,m:n}:(t.pos=e,null)):(t.pos=e,null)},nl=Xt,rl=Ht,il=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Yh=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Wh=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var ol,sl,al=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,ul=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,cl=te,hl=function(t){return nl(t)||rl(t)||cl(t)},ll=ee,fl=function(t){var e,n,r,i;if(n=hl(t),!n)return null;for(;n;)if(e=t.pos,r=ll(t))n={t:gh,x:n,r:r};else{if(!t.matchString("("))break;t.allowWhitespace(),i=tl(t),t.allowWhitespace(),t.matchString(")")||t.error(Bh),n={t:Eh,x:n},i&&(n.o=i)}return n};sl=function(t,e){return function(n){var r;return(r=e(n))?r:n.matchString(t)?(n.allowWhitespace(),r=Cl(n),r||n.error(Uh),{s:t,o:r,t:yh}):null}},function(){var t,e,n,r,i;for(r="! ~ + - typeof".split(" "),i=fl,t=0,e=r.length;t<e;t+=1)n=sl(r[t],i),i=n;ol=i}();var dl,pl,ml=ol;pl=function(t,e){return function(n){var r,i,o;if(i=e(n),!i)return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=r,i;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),o=e(n),!o)return n.pos=r,i;i={t:xh,s:t,o:[i,o]}}}},function(){var t,e,n,r,i;for(r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=ml,t=0,e=r.length;t<e;t+=1)n=pl(r[t],i),i=n;dl=i}();var vl,gl,yl,bl,wl,xl,El,kl,_l=dl,Al=ne,Cl=re,Sl=ie,Tl=se,Pl=/^[0-9][1-9]*$/,Il=ue,Rl=ce,Ol=he,jl=le,Ll=fe,Fl=de,Nl=pe,Ul=/^yield\s*/,Bl=me,Dl=ve,Ml=/^\s*else\s*/,Vl=ge,Yl=/^\s*elseif\s+/,Wl={each:Ah,if:kh,"if-with":Sh,with:Ch,unless:_h},zl=ye,Gl=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Jl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Zl=new RegExp("^("+Object.keys(Wl).join("|")+")\\b"),Ql=ke,ql="<!--",$l="-->";vl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,gl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,yl={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},bl=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],wl=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(yl).join("|")+"));?","g"),xl=/</g,El=/>/g,kl=/&/g;var Kl,Xl,Hl,tf,ef,nf,rf,of=/^\s*\r?\n/,sf=/\r?\n\s*$/,af=function(t){var e,n,r,i,o;for(e=1;e<t.length;e+=1)n=t[e],r=t[e-1],i=t[e-2],Se(n)&&Te(r)&&Se(i)&&sf.test(i)&&of.test(n)&&(t[e-2]=i.replace(sf,"\n"),t[e]=n.replace(of,"")),Pe(n)&&Se(r)&&sf.test(r)&&Se(n.f[0])&&of.test(n.f[0])&&(t[e-1]=r.replace(sf,"\n"),n.f[0]=n.f[0].replace(of,"")),Se(n)&&Pe(r)&&(o=F(r.f),Se(o)&&sf.test(o)&&of.test(n)&&(r.f[r.f.length-1]=o.replace(sf,"\n"),t[e]=n.replace(of,"")));return t},uf=function(t,e,n){var r;e&&(r=t[0],"string"==typeof r&&(r=r.replace(e,""),r?t[0]=r:t.shift())),n&&(r=F(t),"string"==typeof r&&(r=r.replace(n,""),r?t[t.length-1]=r:t.pop()))},cf=Ie,hf=/[ \t\f\r\n]+/g,lf=/^(?:pre|script|style|textarea)$/i,ff=/^[ \t\f\r\n]+/,df=/[ \t\f\r\n]+$/,pf=/^(?:\r\n|\r|\n)/,mf=/(?:\r\n|\r|\n)$/,vf=Re,gf=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,yf=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;r!==-1&&(!i||r<i)&&(i=r)}return i||-1},bf=Oe,wf=/^[^\s"'>\/=]+/,xf=/^[^\s"'=<>`]+/;Xl={true:!0,false:!1,undefined:void 0,null:null},Hl=new RegExp("^(?:"+Object.keys(Xl).join("|")+")"),tf=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,ef=/\$\{([^\}]+)\}/g,nf=/^\$\{([^\}]+)\}/,rf=/^\s*$/,Kl=zc.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&rf.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(nf),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;if(e=t.matchPattern(Hl))return{v:Xl[e]}},function(t){var e;if(e=t.matchPattern(tf))return{v:+e}},function(t){var e,n=Zh(t);return n&&(e=t.values)?{v:n.v.replace(ef,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Be(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var Ef,kf=function(t,e){var n=new Kl(t,{values:e});return n.result},_f=De,Af=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Cf=/\)\s*$/;Ef=zc.extend({converters:[Cl]});var Sf,Tf=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Pf=/^[\s\n\/>]/,If=/^on/,Rf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Of=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,jf={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Lf={exclude:!0};Sf={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Ff,Nf=Me,Uf=Ye,Bf=We,Df=/[-\/\\^$*+?.()|[\]{}]/g,Mf=ze,Vf=/^<!--\s*/,Yf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Wf=/\s*-->/,zf=Ge,Gf=/^#\s*partial\s+/,Jf=Je,Zf=Ze,Qf=[Ol,Rl,zl,Nl,Fl,jl],qf=[Il],$f=[Rl,zl,Fl],Kf=void 0,Xf=[Fh,Ql,Nf,Uf],Hf=[Mf,zf];Kf=zc.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],r=e.staticDelimiters||["[[","]]"],i=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Qf},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:qf},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:$f},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:qf}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),cf(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:sa}},converters:[Jf],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var td,ed,nd,rd=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],id={fromId:$e,isHashedId:Ke,isParsed:Xe,getParseOptions:He,createHelper:Qe,parse:qe},od=id,sd={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,"function"==typeof r?e.template=r:e.template=rn(r,e))},init:function(t,e,n){var r,i;r="template"in n?n.template:t.prototype.template,"function"==typeof r&&(i=r,r=en(e,i),e._config.template={fn:i,result:r}),r=rn(r,e),e.template=r.t,r.p&&on(e.partials,r.p)},reset:function(t){var e,n=tn(t);if(n)return e=rn(n,t),t.template=e.t,on(t.partials,e.p,!0),!0}},ad=sd;td=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],ed=function(t,e){this.name=t,this.useDefaults=e},ed.prototype={constructor:ed,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var r,i=this.name,o=n[i];r=ba(t[i]);for(var s in o)r[s]=o[s];e[i]=r},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n}},nd=td.map(function(t){return new ed(t,"computed"===t)});var ud,cd,hd,ld,fd,dd,pd=nd,md=sn,vd=hn;ld={adapt:Tc,css:Uc,data:Dc,template:ad},hd=Object.keys(ua),dd=dn(hd.filter(function(t){return!ld[t]})),fd=dn(hd.concat(pd.map(function(t){return t.name}))),cd=[].concat(hd.filter(function(t){return!pd[t]&&!ld[t]}),pd,ld.data,ld.template,ld.css),ud={extend:function(t,e,n){return ln("extend",t,e,n)},init:function(t,e,n){return ln("init",t,e,n)},reset:function(t){return cd.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:cd};var gd=ud,yd=pn,bd=mn,wd=vn,xd=gn,Ed=yn,kd=bn,_d=wn,Ad=xn,Cd=En,Sd=kn,Td=_n,Pd=An,Id=function(){return e(this.node)},Rd=function(t){this.type=Gc,this.text=t.template};Rd.prototype={detach:Id,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Ce(this.text):this.text},unrender:function(t){if(t)return this.detach()}};var Od=Rd,jd=Cn,Ld=Sn,Fd=function(t,e,n){var r;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,r=su(t.root,e,t.parentFragment),void 0!=r?this.resolve(r):du.addUnresolved(this)};Fd.prototype={resolve:function(t){this.keypath&&!t&&du.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(_(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||du.removeUnresolved(this)}};var Nd=Fd,Ud=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Bd={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Ud.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,r=Bd[e];if(!r)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(_("@"+r.prefix+Tn(this.cached,r)));if(r.prop.indexOf("index")!==-1||r.prop.indexOf("key")!==-1)for(;n;){if(n.owner.currentSubtype===Ah&&void 0!==(t=Tn(n,r)))return this.cached=n,n.registerIndexRef(this),this.callback(_("@"+r.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=Tn(n,r)))return this.callback(_("@"+r.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Dd=Ud,Md=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};Md.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(_("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Vd=Md,Yd=Pn;Pn.resolve=function(t){var e,n,r={};for(e in t.refs)n=t.refs[e],r[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return r};var Wd,zd=In,Gd=Rn,Jd={},Zd=Function.prototype.bind;Wd=function(t,e,n,r){var i,o=this;i=t.root,this.root=i,this.parentFragment=e,this.callback=r,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return zd(o,t,function(t){o.resolve(e,t)})}),this.ready=!0,this.bubble()},Wd.prototype={bubble:function(){this.ready&&(this.uniqueString=jn(this.str,this.keypaths),this.keypath=Ln(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,r,i,o=this;r=this.keypath,t=this.root.viewmodel.computations[r.str],t?this.root.viewmodel.mark(r):(i=Gd(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=o.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=Nn(e,o.root)),e}}),n={deps:this.keypaths.filter(Fn),getter:function(){var t=e.map(On);return i.apply(null,t)}},t=this.root.viewmodel.compute(r,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Qd=Wd,qd=function(t,e,n){var r=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===mh?this.refResolver=zd(this,t.n,function(t){r.resolve(t)}):new Qd(e,n,t,function(t){r.resolve(t)})};qd.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var $d=qd,Kd=function(t,e,n){var r,i,o,s,a=this;this.parentFragment=s=t.parentFragment,this.root=r=t.root,this.mustache=t,this.ref=i=e.r,this.callback=n,this.unresolved=[],(o=su(r,i,s))?this.base=o:this.baseResolver=new Nd(this,i,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new $d(t,a,s)}),this.ready=!0,this.bubble()};Kd.prototype={getKeypath:function(){var t=this.members.map(Un);return!t.every(Bn)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Z)},rebind:function(t,e){var n;if(this.base){var r=this.base.replace(t,e);r&&r!==this.base&&(this.base=r,n=!0)}this.members.forEach(function(r){r.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=_(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Dn),this.bubble()}};var Xd=Kd,Hd=Mn,tp=Vn,ep=Yn,np={getValue:Ld,init:Hd,resolve:tp,rebind:ep},rp=function(t){this.type=Jc,np.init(this,t)};rp.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:np.resolve,rebind:np.rebind,detach:Id,unbind:jd,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:np.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&du.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?Ce(e):e}};var ip=rp,op=Wn,sp=zn,ap=Gn,up=Jn,cp=Zn,hp=Qn,lp=qn,fp=$n,dp=Kn,pp=function(t,e){np.rebind.call(this,t,e)},mp=Hn,vp=tr,gp=lr,yp=fr,bp=dr,wp=vr,xp=function(t){this.type=Qc,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===_h,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,np.init(this,t)};xp.prototype={bubble:op,detach:sp,find:ap,findAll:up,findAllComponents:cp,findComponent:hp,findNextNode:lp,firstNode:fp,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:np.getValue,shuffle:dp,rebind:pp,render:mp,resolve:np.resolve,setValue:vp,toString:gp,unbind:yp,unrender:bp,update:wp};var Ep,kp,_p=xp,Ap=gr,Cp=yr,Sp=br,Tp=wr,Pp={};try{ha("table").innerHTML="foo"}catch(t){Ep=!0,kp={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Ip=function(t,e,n){var r,i,o,s,a,u=[];if(null!=t&&""!==t){for(Ep&&(i=kp[e.tagName])?(r=xr("DIV"),r.innerHTML=i[0]+t+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(o=r.options[r.selectedIndex])):e.namespaceURI===ra.svg?(r=xr("DIV"),r.innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):(r=xr(e.tagName),r.innerHTML=t,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));s=r.firstChild;)u.push(s),n.appendChild(s);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==o&&(u[a].selected=!1)}return u},Rp=Er,Op=_r,jp=Ar,Lp=Cr,Fp=Sr,Np=Tr,Up=function(t){this.type=Zc,np.init(this,t)};Up.prototype={detach:Ap,find:Cp,findAll:Sp,firstNode:Tp,getValue:np.getValue,rebind:np.rebind,render:Op,resolve:np.resolve,setValue:jp,toString:Lp,unbind:jd,unrender:Fp,update:Np};var Bp,Dp,Mp,Vp,Yp=Up,Wp=function(){this.parentFragment.bubble()},zp=Pr,Gp=function(t){return this.node?la(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Jp=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Zp=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Qp=function(t){if(this.fragment)return this.fragment.findComponent(t)},qp=Ir,$p=Rr,Kp=Or,Xp=/^true|on|yes|1$/i,Hp=/^[0-9]+$/,tm=function(t,e){var n,r,i;return i=e.a||{},r={},n=i.twoway,void 0!==n&&(r.twoway=0===n||Xp.test(n)),n=i.lazy,void 0!==n&&(0!==n&&Hp.test(n)?r.lazy=parseInt(n):r.lazy=0===n||Xp.test(n)),r},em=jr;Bp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Dp="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Mp=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Vp=Mp(Bp.concat(Dp));var nm=function(t){var e=t.toLowerCase();return Vp[e]||e},rm=function(t,e){var n,r;if(n=e.indexOf(":"),n===-1||(r=e.substr(0,n),"xmlns"===r))t.name=t.element.namespace!==ra.html?nm(e):e;else if(e=e.substring(n+1),t.name=nm(e),t.namespace=ra[r.toLowerCase()],t.namespacePrefix=r,!t.namespace)throw'Unknown namespace ("'+r+'")'},im=Lr,om=Fr,sm=Nr,am=Ur,um={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor",class:"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName",for:"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},cm=Br,hm=Mr,lm=Vr,fm=Yr,dm=Wr,pm=zr,mm=Gr,vm=Jr,gm=Zr,ym=Qr,bm=qr,wm=$r,xm=Kr,Em=Xr,km=Hr,_m=function(t){this.init(t)};_m.prototype={bubble:em,init:om,rebind:sm,render:am,toString:cm,unbind:hm,update:km};var Am,Cm=_m,Sm=function(t,e){var n,r,i=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(r=new Cm({element:t,name:n,value:e[n],root:t.root}),i[n]=r,"value"!==n&&i.push(r));return(r=i.value)&&i.push(r),i};"undefined"!=typeof document&&(Am=ha("div"));var Tm=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new vb({root:t.root,owner:this,template:[e]})};Tm.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===ra.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=ti(t,this.isSvg),this.attributes.filter(function(t){return ei(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var Pm=Tm,Im=function(t,e){return e?e.map(function(e){return new Pm(t,e)}):[]},Rm=function(t){var e,n,r,i;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return v("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return v("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var o=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",o,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,r=this.root.viewmodel.get(n),void 0===r&&this.getInitialValue&&(r=this.getInitialValue(),void 0!==r&&this.root.viewmodel.set(n,r)),(i=ni(t))&&(this.resetValue=r,i.formBindings.push(this))};Rm.prototype={handleChange:function(){var t=this;du.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),du.scheduleTask(function(){return t.attribute.locked=!1}),du.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(N(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},Rm.extend=function(t){var e,n=this;return e=function(t){Rm.call(this,t),this.init&&this.init()},e.prototype=ba(n.prototype),r(e.prototype,t),e.extend=Rm.extend,e};var Om,jm=Rm,Lm=ri;Om=jm.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?oi:Lm,e.addEventListener("change",Lm,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",ii,!1)},unrender:function(){var t=this.element.node;
this.rendered=!1,t.removeEventListener("change",Lm,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",ii,!1)}});var Fm=Om,Nm=Fm.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Um=Nm,Bm=si,Dm={},Mm=jm.extend({name:"checked",init:function(){this.siblings=Bm(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Lm,!1),t.attachEvent&&t.addEventListener("click",Lm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Lm,!1),t.removeEventListener("click",Lm,!1)},handleChange:function(){du.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),du.end()},getValue:function(){return this.element.node.checked},unbind:function(){N(this.siblings,this)}}),Vm=Mm,Ym=jm.extend({name:"name",init:function(){this.siblings=Bm(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value")},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Lm,!1),t.attachEvent&&t.addEventListener("click",Lm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Lm,!1),t.removeEventListener("click",Lm,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&jm.prototype.handleChange.call(this)},rebound:function(t,e){var n;jm.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){N(this.siblings,this)}}),Wm=Ym,zm=jm.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Bm(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){N(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),o(t)?this.isChecked=O(t,e):this.isChecked=t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Lm,!1),n.attachEvent&&n.addEventListener("click",Lm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Lm,!1),t.removeEventListener("click",Lm,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,jm.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ai).map(ui)}}),Gm=zm,Jm=jm.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Lm,!1),t.attachEvent&&t.addEventListener("click",Lm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Lm,!1),t.removeEventListener("click",Lm,!1)},getValue:function(){return this.element.node.checked}}),Zm=Jm,Qm=jm.extend({getInitialValue:function(){var t,e,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=i.length,t)){for(;e--;)if(i[e].getAttribute("selected")){n=i[e].getAttribute("value"),r=!0;break}if(!r)for(;++e<t;)if(!i[e].getAttribute("disabled")){n=i[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Lm,!1)},unrender:function(){this.element.node.removeEventListener("change",Lm,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,r,i;for(t=this.element.node.options,n=t.length,e=0;e<n;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,du.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),qm=Qm,$m=qm.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Lm,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Lm,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,r,i,o;for(t=[],e=this.element.node.options,r=e.length,n=0;n<r;n+=1)i=e[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&j(n,e)||qm.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,du.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Km=$m,Xm=jm.extend({render:function(){this.element.node.addEventListener("change",Lm,!1)},unrender:function(){this.element.node.removeEventListener("change",Lm,!1)},getValue:function(){return this.element.node.files}}),Hm=Xm,tv=Fm.extend({getInitialValue:function(){},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),ev=ci,nv=li,rv=fi,iv=di,ov=pi,sv=/^event(?:\.(.+))?/,av=yi,uv=bi,cv={},hv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},lv=xi,fv=Ei,dv=ki,pv=_i,mv=Ai,vv=function(t,e,n){this.init(t,e,n)};vv.prototype={bubble:nv,fire:rv,getAction:iv,init:ov,listen:uv,rebind:lv,render:fv,resolve:dv,unbind:pv,unrender:mv};var gv=vv,yv=function(t,e){var n,r,i,o,s=[];for(r in e)if(e.hasOwnProperty(r))for(i=r.split("-"),n=i.length;n--;)o=new gv(t,i[n],e[r]),s.push(o);return s},bv=function(t,e){var n,r,i,o=this;this.element=t,this.root=n=t.root,r=e.n||e,"string"!=typeof r&&(i=new vb({template:r,root:n,owner:t}),r=i.toString(),i.unbind(),""===r)||(e.a?this.params=e.a:e.d&&(this.fragment=new vb({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=g("decorators",n,r),this.fn||l(ja(r,"decorator")))};bv.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var wv,xv,Ev,kv=bv,_v=Oi,Av=ji,Cv=Di,Sv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Hs?(xv={},Ev=ha("div").style,wv=function(t){var e,n,r;if(t=Sv(t),!xv[t])if(void 0!==Ev[t])xv[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),e=oa.length;e--;)if(n=oa[e],void 0!==Ev[n+r]){xv[t]=n+r;break}return xv[t]}):wv=null;var Tv,Pv,Iv=wv;Hs?(Pv=window.getComputedStyle||Ea.getComputedStyle,Tv=function(t){var e,n,r,i,s;if(e=Pv(this.node),"string"==typeof t)return s=e[Iv(t)],"0px"===s&&(s=0),s;if(!o(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=t.length;r--;)i=t[r],s=e[Iv(i)],"0px"===s&&(s=0),n[i]=s;return n}):Tv=null;var Rv=Tv,Ov=function(t,e){var n;if("string"==typeof t)this.node.style[Iv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Iv(n)]=t[n]);return this},jv=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(v(ja(t.easing,"easing")),e=Mi)):e="function"==typeof t.easing?t.easing:Mi,this.easing=e,this.start=Ka(),this.end=this.start+this.duration,this.running=!0,vu.add(this)};jv.prototype={tick:function(t){var e,n;return!!this.running&&(t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0))},stop:function(){this.abort&&this.abort(),this.running=!1}};var Lv,Fv,Nv,Uv,Bv,Dv,Mv,Vv,Yv=jv,Wv=new RegExp("^-(?:"+oa.join("|")+")-"),zv=function(t){return t.replace(Wv,"")},Gv=new RegExp("^(?:"+oa.join("|")+")([A-Z])"),Jv=function(t){var e;return t?(Gv.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Zv={},Qv={};Hs?(Fv=ha("div").style,function(){void 0!==Fv.transition?(Nv="transition",Uv="transitionend",Bv=!0):void 0!==Fv.webkitTransition?(Nv="webkitTransition",Uv="webkitTransitionEnd",Bv=!0):Bv=!1}(),Nv&&(Dv=Nv+"Duration",Mv=Nv+"Property",Vv=Nv+"TimingFunction"),Lv=function(t,e,n,r,i){setTimeout(function(){var o,s,a,u,c;u=function(){s&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),i())},o=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[Mv]=r.map(Iv).map(Jv).join(","),t.node.style[Vv]=Jv(n.easing||"linear"),t.node.style[Dv]=n.duration/1e3+"s",c=function(e){var n;n=r.indexOf(Sv(zv(e.propertyName))),n!==-1&&r.splice(n,1),r.length||(t.node.removeEventListener(Uv,c,!1),a=!0,u())},t.node.addEventListener(Uv,c,!1),setTimeout(function(){for(var i,h,l,f,d,p=r.length,v=[];p--;)f=r[p],i=o+f,Bv&&!Qv[i]&&(t.node.style[Iv(f)]=e[f],Zv[i]||(h=t.getStyle(f),Zv[i]=t.getStyle(f)!=e[f],Qv[i]=!Zv[i],Qv[i]&&(t.node.style[Iv(f)]=h))),Bv&&!Qv[i]||(void 0===h&&(h=t.getStyle(f)),l=r.indexOf(f),l===-1?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(l,1),d=/[^\d]*$/.exec(e[f])[0],v.push({name:Iv(f),interpolator:Fa(parseFloat(h),parseFloat(e[f])),suffix:d}));v.length?new Yv({root:t.root,duration:n.duration,easing:Sv(n.easing||""),step:function(e){var n,r;for(r=v.length;r--;)n=v[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){s=!0,u()}}):s=!0,r.length||(t.node.removeEventListener(Uv,c,!1),a=!0,u())},0)},n.delay||0)}):Lv=null;var qv,$v,Kv,Xv,Hv,tg=Lv;if("undefined"!=typeof document){if(qv="hidden",Hv={},qv in document)Kv="";else for(Xv=oa.length;Xv--;)$v=oa[Xv],qv=$v+"Hidden",qv in document&&(Kv=$v);void 0!==Kv?(document.addEventListener(Kv+"visibilitychange",Vi),Vi()):("onfocusout"in document?(document.addEventListener("focusout",Yi),document.addEventListener("focusin",Wi)):(window.addEventListener("pagehide",Yi),window.addEventListener("blur",Yi),window.addEventListener("pageshow",Wi),window.addEventListener("focus",Wi)),Hv.hidden=!1)}var eg,ng,rg,ig=Hv;Hs?(ng=window.getComputedStyle||Ea.getComputedStyle,eg=function(t,e,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(ig.hidden)return this.setStyle(t,e),rg||(rg=iu.resolve());"string"==typeof t?(r={},r[t]=e):(r=t,n=e),n||(v('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var o=new iu(function(t){var e,o,s,a,u,c,h;if(!n.duration)return i.setStyle(r),void t();for(e=Object.keys(r),o=[],s=ng(i.node),u={},c=e.length;c--;)h=e[c],a=s[Iv(h)],"0px"===a&&(a=0),a!=r[h]&&(o.push(h),i.node.style[Iv(h)]=a);return o.length?void tg(i,r,n,o,t):void t()});return o}):eg=null;var og=eg,sg=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),i({},t,e)},ag=zi,ug=function(t,e,n){this.init(t,e,n)};ug.prototype={init:Cv,start:ag,getStyle:Rv,setStyle:Ov,animateStyle:og,processParams:sg};var cg,hg,lg=ug,fg=Ji;cg=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},hg=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var dg=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Xi).join("")+this.conditionalAttributes.map(Xi).join(""),"option"===this.name&&$i(this)&&(t+=" selected"),"input"===this.name&&Ki(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Ce(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),gl.test(this.template.e)||(t+="</"+this.template.e+">"),t)},pg=Hi,mg=to,vg=function(t){this.init(t)};vg.prototype={bubble:Wp,detach:zp,find:Gp,findAll:Jp,findAllComponents:Zp,findComponent:Qp,findNextNode:qp,firstNode:$p,getAttribute:Kp,init:_v,rebind:Av,render:fg,toString:dg,unbind:pg,unrender:mg};var gg=vg,yg=/^\s*$/,bg=/^\s*/,wg=function(t){var e,n,r,i;return e=t.split("\n"),n=e[0],void 0!==n&&yg.test(n)&&e.shift(),r=F(e),void 0!==r&&yg.test(r)&&e.pop(),i=e.reduce(no,null),i&&(t=e.map(function(t){return t.replace(i,"")}).join("\n")),t},xg=ro,Eg=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},kg='Could not find template for partial "%s"',_g=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=Xc,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,np.init(this,t),this.keypath||((n=xg(this.root,this.name,e))?(jd.call(this),this.isNamed=!0,this.setTemplate(n)):v(kg,this.name))};_g.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||ep.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:np.resolve,setValue:function(t){var e;void 0!==t&&t===this.value||(void 0!==t&&(e=xg(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=xg(this.root,this.name,this.parentFragment))&&(jd.call(this),this.isNamed=!0),e||v(kg,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&du.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new vb({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,r,i;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===Gc?(r=n.text.split("\n").pop(),(i=/^\s+$/.exec(r))?Eg(e,i[0]):e):e},unbind:function(){this.isNamed||jd.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Ag,Cg,Sg,Tg=_g,Pg=uo,Ig=co,Rg=new tu("detach"),Og=ho,jg=lo,Lg=fo,Fg=po,Ng=mo,Ug=vo,Bg=function(t,e,n,r){var i=t.root,o=t.keypath;r?i.viewmodel.smartUpdate(o,e,r):i.viewmodel.mark(o)},Dg=[],Mg=["pop","push","reverse","shift","sort","splice","unshift"];Mg.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i,o,s,a;for(i=dc(this,t,n),o=Array.prototype[t].apply(this,arguments),du.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)s=this._ractive.wrappers[a],du.addRactive(s.root),Bg(s,this,t,i);return du.end(),this._ractive.setting=!1,o};wa(Dg,t,{value:e})}),Ag={},Ag.__proto__?(Cg=function(t){t.__proto__=Dg},Sg=function(t){t.__proto__=Array.prototype}):(Cg=function(t){var e,n;for(e=Mg.length;e--;)n=Mg[e],wa(t,n,{value:Dg[n],configurable:!0})},Sg=function(t){var e;for(e=Mg.length;e--;)delete t[Mg[e]]}),Cg.unpatch=Sg;var Vg,Yg,Wg,zg=Cg;Vg={filter:function(t){return o(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Yg(t,e,n)}},Yg=function(t,e,n){this.root=t,this.value=e,this.keypath=_(n),e._ractive||(wa(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),zg(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},Yg.prototype={get:function(){return this.value},teardown:function(){var t,e,n,r,i;if(t=this.value,e=t._ractive,n=e.wrappers,r=e.instances,e.setting)return!1;if(i=n.indexOf(this),i===-1)throw new Error(Wg);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),i===-1)throw new Error(Wg);r.splice(i,1)}}else delete t._ractive,zg.unpatch(this.value)}},Wg="Something went wrong in a rather interesting way";var Gg,Jg,Zg=Vg,Qg=/^\s*[0-9]+\s*$/,qg=function(t){return Qg.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Gg={filter:function(t,e,n){var r,i;return!!e&&(e=_(e),!((r=n.viewmodel.wrapped[e.parent.str])&&!r.magic)&&(i=n.viewmodel.get(e.parent),(!o(i)||!/^[0-9]+$/.test(e.lastKey))&&(i&&("object"==typeof i||"function"==typeof i))))},wrap:function(t,e,n){return new Jg(t,e,n)}},Jg=function(t,e,n){var r,i,o;return n=_(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,r=n.parent,this.obj=r.isRoot?t.viewmodel.data:t.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),i&&i.set&&(o=i.set._ractiveWrappers)?void(o.indexOf(this)===-1&&o.push(this)):void go(this,e,i)},Jg.prototype={get:function(){return this.value},reset:function(t){if(!this.updating)return this.updating=!0,this.obj[this.prop]=t,du.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=qg(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,r,i;return!this.updating&&(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),i!==-1&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(t){Gg=!1}var $g,Kg,Xg=Gg;Xg&&($g={filter:function(t,e,n){return Xg.filter(t,e,n)&&Zg.filter(t)},wrap:function(t,e,n){return new Kg(t,e,n)}},Kg=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=Xg.wrap(t,e,n),this.arrayWrapper=Zg.wrap(t,e,n)},Kg.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var Hg=$g,ty=yo,ey={},ny=xo,ry=Eo,iy=Ao,oy=Io,sy=Ro,ay=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};ay.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var uy=ay,cy=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};cy.prototype={constructor:cy,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(i),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,i,o;if(!r)for(o=t.length;o--;)if(e=t[o],i=n.viewmodel.get(e),!a(i,n.depValues[e.str]))return n.depValues[e.str]=i,void(r=!0)}),r){this.viewmodel.capture();try{this.value=this.getter()}catch(t){m('Failed to compute "%s"',this.key.str),f(t.stack||t),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,r,i,o;for(n=this.softDeps,e=n.length;e--;)r=n[e],t.indexOf(r)===-1&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(e=t.length;e--;)r=t[e],n.indexOf(r)!==-1||this.hardDeps&&this.hardDeps.indexOf(r)!==-1||(i=!0,Oo(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(o=new uy(this,r.str),t.splice(e,1),this.unresolvedDeps[r.str]=o,du.addUnresolved(o)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=t.slice()),i}};var hy=cy,ly=jo,fy={FAILED_LOOKUP:!0},dy=Lo,py={},my=No,vy=Uo,gy=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};gy.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){if(this.resolved)return this.origin.get(this.map(t),e)},getValue:function(){if(this.keypath)return this.origin.get(this.keypath)},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var r,i;if(this.resolved){for(r=this.deps,i=r.length;i--;)if(r[i].dep===e){r.splice(i,1);break}this.origin.unregister(this.map(t),e,n)}}};var yy=Bo,by=function(t,e){var n,r,i,o;return n={},r=0,i=t.map(function(t,i){var s,a,u;a=r,u=e.length;do{if(s=e.indexOf(t,a),s===-1)return o=!0,-1;a=s+1}while(n[s]&&a<u);return s===r&&(r+=1),s!==i&&(o=!0),n[s]=!0,s})},wy=Do,xy={},Ey=Yo,ky=zo,_y=Go,Ay=Jo,Cy=Qo,Sy={implicit:!0},Ty={noCascade:!0},Py=$o,Iy=Ko,Ry=function(t){var e,n,r=t.adapt,i=t.data,o=t.ractive,s=t.computed,a=t.mappings;this.ractive=o,this.adaptors=r,this.onchange=t.onchange,this.cache={},this.cacheMap=ba(null),this.deps={computed:ba(null),default:ba(null)},this.depsMap={computed:ba(null),default:ba(null)},this.patternObservers=[],this.specials=ba(null),this.wrapped=ba(null),this.computations=ba(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=ba(null);for(e in a)this.map(_(e),a[e]);if(i)for(e in i)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(i[e]);for(e in s)a&&e in a&&l("Cannot map to a computed property ('%s')",e),this.compute(_(e),s[e]);this.ready=!0};Ry.prototype={adapt:ty,applyChanges:iy,capture:oy,clearCache:sy,compute:ly,get:dy,init:my,map:vy,mark:yy,merge:wy,register:Ey,release:ky,reset:_y,set:Ay,smartUpdate:Cy,teardown:Py,unregister:Iy};var Oy=Ry;Ho.prototype={constructor:Ho,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?ts(this.queue,e).push(t):es(this,t),delete this.inProcess[t._guid]}};var jy=Ho,Ly=ns,Fy=/\$\{([^\}]+)\}/g,Ny=new tu("construct"),Uy=new tu("config"),By=new jy("init"),Dy=0,My=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Vy=ss,Yy=ls;ls.prototype={bubble:function(){this.dirty||(this.dirty=!0,du.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var Wy=function(t,e,n,i,s){var a,u,c,h,l,f,d={},p={},v={},g=[];for(u=t.parentFragment,c=t.root,s=s||{},r(d,s),s.content=i||[],d[""]=s.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),h=u;h;){if(h.owner.type===ih){l=h.owner.container;break}h=h.parent}return n&&Object.keys(n).forEach(function(e){var r,i,s=n[e];if("string"==typeof s)r=kf(s),p[e]=r?r.value:s;else if(0===s)p[e]=!0;else{if(!o(s))throw new Error("erm wut");ds(s)?(v[e]={origin:t.root.viewmodel,keypath:void 0},i=fs(t,s[0],function(t){t.isSpecial?f?a.set(e,t.value):(p[e]=t.value,delete v[e]):f?a.viewmodel.mappings[e].resolve(t):v[e].keypath=t})):i=new Yy(t,s,function(t){f?a.set(e,t):p[e]=t}),g.push(i)}}),a=ba(e.prototype),Vy(a,{el:null,append:!0,data:p,partials:s,magic:c.magic||e.defaults.magic,modifyArrays:c.modifyArrays,adapt:c.adapt},{parent:c,component:t,container:l,mappings:v,inlinePartials:d,cssIds:u.cssIds}),f=!0,t.resolvers=g,a},zy=ps,Gy=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Jy=vs,Zy=gs,Qy=ys,qy=bs,$y=ws,Ky=new tu("teardown"),Xy=Es,Hy=function(t,e){this.init(t,e)};Hy.prototype={detach:Ig,find:Og,findAll:jg,findAllComponents:Lg,findComponent:Fg,findNextNode:Ng,firstNode:Ug,init:Jy,rebind:Zy,render:Qy,toString:qy,unbind:$y,unrender:Xy};var tb=Hy,eb=function(t){this.type=Hc,this.value=t.template.c};eb.prototype={detach:Id,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var nb=eb,rb=function(t){var e,n;this.type=ih,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var r=this.name=t.template.n||"",i=e._inlinePartials[r];i||(m('Could not find template for partial "'+r+'"',{ractive:t.root}),i=[]),this.fragment=new vb({owner:this,root:e.parent,template:i,pElement:this.containerFragment.pElement}),o(n.yielders[r])?n.yielders[r].push(this):n.yielders[r]=[this],du.scheduleTask(function(){if(n.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};rb.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),N(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var ib=rb,ob=function(t){this.declaration=t.template.a};ob.prototype={init:Pa,render:Pa,unrender:Pa,teardown:Pa,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var sb=ob,ab=ks,ub=As,cb=Cs,hb=Ss,lb=Is,fb=Os,db=function(t){this.init(t)};db.prototype={bubble:yd,detach:bd,find:wd,findAll:xd,findAllComponents:Ed,findComponent:kd,findNextNode:_d,firstNode:Ad,getArgsList:Sd,getNode:Td,getValue:Pd,init:ab,rebind:ub,registerIndexRef:function(t){var e=this.registeredIndexRefs;e.indexOf(t)===-1&&e.push(t)},render:cb,toString:hb,unbind:lb,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:fb};var pb,mb,vb=db,gb=js,yb=["template","partials","components","decorators","events"],bb=new tu("reset"),wb=function(t,e){function n(e,r,i){i&&i.partials[t]||e.forEach(function(e){e.type===Xc&&e.getPartialName()===t&&r.push(e),e.fragment&&n(e.fragment.items,r,i),o(e.fragments)?n(e.fragments,r,i):o(e.items)?n(e.items,r,i):e.type===rh&&e.instance&&n(e.instance.fragment.items,r,e.instance),e.type===Kc&&(o(e.attributes)&&n(e.attributes,r,i),o(e.conditionalAttributes)&&n(e.conditionalAttributes,r,i))})}var r,i=[];return n(this.fragment.items,i),this.partials[t]=e,r=du.start(this,!0),i.forEach(function(e){e.value=void 0,e.setValue(t)}),du.end(),r},xb=Ls,Eb=mc("reverse"),kb=Fs,_b=mc("shift"),Ab=mc("sort"),Cb=mc("splice"),Sb=Us,Tb=Bs,Pb=new tu("teardown"),Ib=Ms,Rb=Vs,Ob=Ys,jb=new tu("unrender"),Lb=mc("unshift"),Fb=Ws,Nb=new tu("update"),Ub=zs,Bb={add:Qa,animate:bu,detach:xu,find:ku,findAll:Ou,findAllComponents:ju,findComponent:Lu,findContainer:Fu,findParent:Nu,fire:Mu,get:Vu,insert:Wu,merge:Gu,observe:sc,observeOnce:ac,off:hc,on:lc,once:fc,pop:vc,push:gc,render:_c,reset:gb,resetPartial:wb,resetTemplate:xb,reverse:Eb,set:kb,shift:_b,sort:Ab,splice:Cb,subtract:Sb,teardown:Tb,toggle:Ib,toHTML:Rb,toHtml:Rb,unrender:Ob,unshift:Lb,update:Fb,updateModel:Ub},Db=function(t,e,n){return n||Js(t,e)?function(){var n,r="_super"in this,i=this._super;
return this._super=e,n=t.apply(this,arguments),r&&(this._super=i),n}:t},Mb=Zs,Vb=Ks,Yb=function(t){var e,n,r={};return t&&(e=t._ractive)?(r.ractive=e.root,r.keypath=e.keypath.str,r.index={},(n=Yd(e.proxy.parentFragment))&&(r.index=Yd.resolve(n)),r):r};pb=function(t){return this instanceof pb?void Vy(this,t):new pb(t)},mb={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Vb},getNodeInfo:{value:Yb},parse:{value:Zf},Promise:{value:iu},svg:{value:ia},magic:{value:na},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ca},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Ua},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},xa(pb,mb),pb.prototype=r(Bb,ua),pb.prototype.constructor=pb,pb.defaults=pb.prototype;var Wb="function";if(typeof Date.now!==Wb||typeof String.prototype.trim!==Wb||typeof Object.keys!==Wb||typeof Array.prototype.indexOf!==Wb||typeof Array.prototype.forEach!==Wb||typeof Array.prototype.map!==Wb||typeof Array.prototype.filter!==Wb||"undefined"!=typeof window&&typeof window.addEventListener!==Wb)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var zb=pb;return zb})},{}],40:[function(t,e,n){e.exports=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}},{}],41:[function(t,e,n){e.exports=function(t){return function(){var e=this,n=Array.prototype.slice.call(arguments);return new Promise(function(r,i){n.push(function(t,e){t?i(t):r(e)});var o=t.apply(e,n),s=o&&("object"==typeof o||"function"==typeof o)&&"function"==typeof o.then;s&&r(o)})}}},{}],42:[function(t,e,n){function r(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)i.call(n,r)&&(t[r]=n[r])}return t}e.exports=r;var i=Object.prototype.hasOwnProperty},{}]},{},[6]);
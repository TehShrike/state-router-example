!function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){(function(n){function r(t){setTimeout(function(){t(null,o())},b)}function o(){return JSON.parse(localStorage.getItem("topics"))}function i(t,e){setTimeout(function(){e(null,s(t))},b)}function s(t){return o().find(function(e){return e.id===t})}function a(t){var e={name:t,id:y()},n=o();return n.push(e),p(e.id,[]),d(n),e}function c(t){var e=o(),r=e.findIndex(function(e){return e.id===t});e.splice(r,1),d(e),n.nextTick(function(){localStorage.removeItem(t)})}function u(t,e){"function"==typeof t&&(e=t,t=null),setTimeout(function(){t?e(null,l(t)):e(null,f())},b)}function f(){var t=o();return t.reduce(function(t,e){var n=e.id;return t[n]=l(n),t},{})}function l(t){var e=localStorage.getItem(t);return e?JSON.parse(localStorage.getItem(t)):[]}function h(t,e){var n=l(t),r={name:e,done:!1};return n.push(r),p(t,n),r}function p(t,e){localStorage.setItem(t,JSON.stringify(e)),w.emit("tasks saved",t)}function d(t){localStorage.setItem("topics",JSON.stringify(t)),w.emit("topics saved")}function m(){return{name:localStorage.getItem("currentUserName")}}function v(t){t?localStorage.setItem("currentUserName",t):localStorage.removeItem("currentUserName")}function _(){console.log("Initializing dummy data");var t={name:"Important stuff",id:y()},e={name:"Not as important",id:y()};d([t,e]),p(t.id,[{name:"Put on pants",done:!1},{name:"Visit chat room to see if you still pass the Turing test",done:!1}]),p(e.id,[{name:"Make cupcakes",done:!0},{name:"Eat cupcakes",done:!0},{name:"Write forum post rant about how chocolate cupcakes are the only good kind of cupcake",done:!1}])}var y=t("random-uuid-v4"),g=t("events").EventEmitter,b=50,w=new g;e.exports=w,w.getTopics=r,w.getTopic=i,w.addTopic=a,w.removeTopic=c,w.getTasks=u,w.saveTasks=p,w.saveTopics=d,w.getCurrentUser=m,w.saveCurrentUser=v,w.saveTask=h,function(){localStorage.getItem("topics")||_()}()}).call(this,t("_process"))},{_process:16,events:21,"random-uuid-v4":31}],2:[function(t,e,n){"use strict";function r(t,e){function n(t){e.fire("logout",t)}var r,o,h,p,d,m,v,_,y,g,b,w,x,k,T,j,S,N,E,O,C,A,L,P,I,U=t.currentUser.name;return{create:function(){r=i("nav"),o=i("div"),h=i("div"),p=i("ul"),d=i("li"),v=i("a"),y=s("Basic todo app!"),g=i("li"),w=i("a"),k=s("About the state router"),T=i("li"),j=i("a"),N=s('"Log out"'),E=s("\n\t\t"),O=i("div"),C=i("p"),A=s("Logged in as "),L=s(U),P=s("\n\n"),I=i("uiView"),this.hydrate()},hydrate:function(e){r.className="navbar navbar-default",o.className="container-fluid",h.className="navbar-header",p.className="nav navbar-nav",d.className=m=t.asr.stateIsActive("app.topics")?"active":"",v.href=_=t.asr.makePath("app.topics"),g.className=b=t.asr.stateIsActive("app.about")?"active":"",w.href=x=t.asr.makePath("app.about"),j.href=S=t.asr.makePath("login"),a(j,"click",n),O.className="nav navbar-right",C.className="navbar-text"},mount:function(t,e){c(r,t,e),u(o,r),u(h,o),u(p,h),u(d,p),u(v,d),u(y,v),u(g,p),u(w,g),u(k,w),u(T,p),u(j,T),u(N,j),u(E,o),u(O,o),u(C,O),u(A,C),u(L,C),c(P,t,e),c(I,t,e)},update:function(t,e){t.asr&&m!==(m=e.asr.stateIsActive("app.topics")?"active":"")&&(d.className=m),t.asr&&_!==(_=e.asr.makePath("app.topics"))&&(v.href=_),t.asr&&b!==(b=e.asr.stateIsActive("app.about")?"active":"")&&(g.className=b),t.asr&&x!==(x=e.asr.makePath("app.about"))&&(w.href=x),t.asr&&S!==(S=e.asr.makePath("login"))&&(j.href=S),t.currentUser&&U!==(U=e.currentUser.name)&&(L.data=U)},unmount:function(){f(r),f(P),f(I)},destroy:function(){l(j,"click",n)}}}function o(t){t=t||{},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._bind=t._bind,this._fragment=r(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function i(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function a(t,e,n){t.addEventListener(e,n,!1)}function c(t,e,n){e.insertBefore(t,n)}function u(t,e){e.appendChild(t)}function f(t){t.parentNode.removeChild(t)}function l(t,e,n){t.removeEventListener(e,n,!1)}function h(t){for(var e,n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function p(t){this.destroy=this.set=this.get=b,this.fire("destroy"),t!==!1&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=this._state=null}function d(t){return t?this._state[t]:this._state}function m(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,e)}function v(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[t]||(r[t]=[])).push(e),n&&n.init===!1||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}}function _(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function y(t){this._set(h({},t)),this._root._lock||(this._root._lock=!0,w(this._root._beforecreate),w(this._root._oncreate),w(this._root._aftercreate),this._root._lock=!1)}function g(t){var e=this._state,n={},r=!1;for(var o in t)x(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=h({},e,t),this._recompute(n,this._state,e,!1),this._bind&&this._bind(n,this._state),k(this,this._observers.pre,n,this._state,e),this._fragment.update(n,this._state),k(this,this._observers.post,n,this._state,e))}function b(){}function w(t){for(;t&&t.length;)t.pop()()}function x(t,e){return t!==e||t&&"object"===("undefined"==typeof t?"undefined":T(t))||"function"==typeof t}function k(t,e,n,r,o){for(var i in e)if(n[i]){var s=r[i],a=o[i],c=e[i];if(c)for(var u=0;u<c.length;u+=1){var f=c[u];f.__calling||(f.__calling=!0,f.call(t,s,a),f.__calling=!1)}}}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};h(o.prototype,{destroy:p,get:d,fire:m,observe:v,on:_,set:y,_set:g,teardown:p}),o.prototype._recompute=b,e.exports=o},{}],3:[function(t,e,n){"use strict";function r(t,e){var n,r,o,l,h,p,d,m,v,_,y;return{create:function(){n=i("div"),r=i("div"),o=i("div"),l=i("div"),h=i("h1"),p=s("About this example"),d=s("\n\t"),m=i("div"),v=i("div"),_=i("p"),y=s("Pretty sweet, isn't it?  Here, let me give some examples or something."),this.hydrate()},hydrate:function(t){n.className="container",r.className="row",o.className="col-sm-offset-2 col-sm-8",l.className="jumbotron",m.className="row",v.className="col-sm-offset-3 col-sm-6"},mount:function(t,e){a(n,t,e),c(r,n),c(o,r),c(l,o),c(h,l),c(p,h),c(d,n),c(m,n),c(v,m),c(_,v),c(y,_)},update:u,unmount:function(){f(n)},destroy:u}}function o(t){t=t||{},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._bind=t._bind,this._fragment=r(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function i(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function a(t,e,n){e.insertBefore(t,n)}function c(t,e){e.appendChild(t)}function u(){}function f(t){t.parentNode.removeChild(t)}function l(t){for(var e,n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function h(t){this.destroy=this.set=this.get=u,this.fire("destroy"),t!==!1&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=this._state=null}function p(t){return t?this._state[t]:this._state}function d(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,e)}function m(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[t]||(r[t]=[])).push(e),n&&n.init===!1||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}}function v(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function _(t){this._set(l({},t)),this._root._lock||(this._root._lock=!0,g(this._root._beforecreate),g(this._root._oncreate),g(this._root._aftercreate),this._root._lock=!1)}function y(t){var e=this._state,n={},r=!1;for(var o in t)b(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=l({},e,t),this._recompute(n,this._state,e,!1),this._bind&&this._bind(n,this._state),w(this,this._observers.pre,n,this._state,e),this._fragment.update(n,this._state),w(this,this._observers.post,n,this._state,e))}function g(t){for(;t&&t.length;)t.pop()()}function b(t,e){return t!==e||t&&"object"===("undefined"==typeof t?"undefined":x(t))||"function"==typeof t}function w(t,e,n,r,o){for(var i in e)if(n[i]){var s=r[i],a=o[i],c=e[i];if(c)for(var u=0;u<c.length;u+=1){var f=c[u];f.__calling||(f.__calling=!0,f.call(t,s,a),f.__calling=!1)}}}var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};l(o.prototype,{destroy:h,get:p,fire:d,observe:m,on:v,set:_,_set:y,teardown:h}),o.prototype._recompute=u,e.exports=o},{}],4:[function(t,e,n){"use strict";var r=t("./About.html");e.exports=function(t){t.addState({name:"app.about",route:"/about",template:r})}},{"./About.html":3}],5:[function(t,e,n){"use strict";var r=t("./App.html"),o=t("model.js");e.exports=function(e){e.addState({name:"app",route:"/app",defaultChild:"topics",template:r,resolve:function(t,e,n){var r=o.getCurrentUser();r.name?n(null,{currentUser:r}):n.redirect("login")},activate:function(t){var n=t.domApi;n.on("logout",function(){o.saveCurrentUser(null),e.go("login")})}}),t("./about/about")(e),t("./topics/topics")(e)}},{"./App.html":2,"./about/about":4,"./topics/topics":10,"model.js":1}],6:[function(t,e,n){"use strict";function r(t,e){function n(t){e.fire("add-topic",t)}function r(){I=!0,e.set({newTopic:T.value}),I=!1}for(var i,m,v,_,y,g,b,w,x,k,T,j,S,N,O,C,A,L,P,I=!1,U=t.topics,R=[],q=0;q<U.length;q+=1)R[q]=o(t,U,U[q],q,e);return{create:function(){i=s("div"),m=s("div"),v=s("div"),_=s("div");for(var t=0;t<R.length;t+=1)R[t].create();y=a("\n\t\t\t"),g=s("form"),b=s("div"),w=s("div"),x=s("div"),k=s("div"),T=s("input"),S=a("\n\t\t\t\t\t\t\t"),N=s("div"),O=s("button"),C=a("Add"),A=a("\n\t\t"),L=s("div"),P=s("uiView"),this.hydrate()},hydrate:function(e){i.className="container",m.className="row",v.className="col-sm-4",_.className="list-group",g.action="",c(g,"onsubmit","return false"),u(g,"submit",n),b.className="table",w.className="table-row-group",x.className="table-row",k.className="table-cell",T.type="text",T.className=j="new-topic-name form-control "+E.helpers.hiddenIfNot(t.addingTopic),T.placeholder="Topic name",u(T,"input",r),N.className="table-cell",N.style.cssText="width: 60px; vertical-align: top",O.type="submit",O.className="btn btn-default pull-right",L.className="col-sm-8"},mount:function(e,n){f(i,e,n),l(m,i),l(v,m),l(_,v);for(var r=0;r<R.length;r+=1)R[r].mount(_,null);l(y,v),l(g,v),l(b,g),l(w,b),l(x,w),l(k,x),l(T,k),T.value=t.newTopic,l(S,x),l(N,x),l(O,N),l(C,O),l(A,m),l(L,m),l(P,L)},update:function(t,n){var r=n.topics;if(t.asr||t.topics||t.tasksUndone){for(var i=0;i<r.length;i+=1)R[i]?R[i].update(t,n,r,r[i],i):(R[i]=o(n,r,r[i],i,e),R[i].create(),R[i].mount(_,null));for(;i<R.length;i+=1)R[i].unmount(),R[i].destroy();R.length=r.length}t.addingTopic&&j!==(j="new-topic-name form-control "+E.helpers.hiddenIfNot(n.addingTopic))&&(T.className=j),I||(T.value=n.newTopic)},unmount:function(){h(i);for(var t=0;t<R.length;t+=1)R[t].unmount()},destroy:function(){p(R,!1,0),d(g,"submit",n),d(T,"input",r)}}}function o(t,e,n,r,o){var i,c,u,p,d,v,_,y=n.name,g=t.tasksUndone[n.id];return{create:function(){i=s("a"),p=a(y),d=a(" "),v=s("span"),_=a(g),this.hydrate()},hydrate:function(e){i.href=c=t.asr.makePath("app.topics.tasks",{topicId:n.id}),i.className=u="list-group-item "+(t.asr.stateIsActive("app.topics.tasks",{topicId:n.id})?"active":""),v.className="badge"},mount:function(t,e){f(i,t,e),l(p,i),l(d,i),l(v,i),l(_,v)},update:function(t,e,n,r,o){(t.asr||t.topics)&&c!==(c=e.asr.makePath("app.topics.tasks",{topicId:r.id}))&&(i.href=c),(t.asr||t.topics)&&u!==(u="list-group-item "+(e.asr.stateIsActive("app.topics.tasks",{topicId:r.id})?"active":""))&&(i.className=u),t.topics&&y!==(y=r.name)&&(p.data=y),(t.tasksUndone||t.topics)&&g!==(g=e.tasksUndone[r.id])&&(_.data=g)},unmount:function(){h(i)},destroy:m}}function i(t){t=t||{},this._state=v(E.data(),t.data),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._bind=t._bind,this._fragment=r(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function s(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function c(t,e,n){t.setAttribute(e,n)}function u(t,e,n){t.addEventListener(e,n,!1)}function f(t,e,n){e.insertBefore(t,n)}function l(t,e){e.appendChild(t)}function h(t){t.parentNode.removeChild(t)}function p(t,e,n){for(var r=n;r<t.length;r+=1)t[r]&&t[r].destroy(e)}function d(t,e,n){t.removeEventListener(e,n,!1)}function m(){}function v(t){for(var e,n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function _(t){this.destroy=this.set=this.get=m,this.fire("destroy"),t!==!1&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=this._state=null}function y(t){return t?this._state[t]:this._state}function g(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,e)}function b(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[t]||(r[t]=[])).push(e),n&&n.init===!1||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}}function w(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function x(t){this._set(v({},t)),this._root._lock||(this._root._lock=!0,T(this._root._beforecreate),T(this._root._oncreate),T(this._root._aftercreate),this._root._lock=!1)}function k(t){var e=this._state,n={},r=!1;for(var o in t)j(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=v({},e,t),this._recompute(n,this._state,e,!1),this._bind&&this._bind(n,this._state),S(this,this._observers.pre,n,this._state,e),this._fragment.update(n,this._state),S(this,this._observers.post,n,this._state,e))}function T(t){for(;t&&t.length;)t.pop()()}function j(t,e){return t!==e||t&&"object"===("undefined"==typeof t?"undefined":N(t))||"function"==typeof t}function S(t,e,n,r,o){for(var i in e)if(n[i]){var s=r[i],a=o[i],c=e[i];if(c)for(var u=0;u<c.length;u+=1){var f=c[u];f.__calling||(f.__calling=!0,f.call(t,s,a),f.__calling=!1)}}}var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E=function(){return{helpers:{hiddenIfNot:function(t){return t?"":"hidden"}},data:function(){return{tasksUndone:{},addingTopic:!1,newTopic:""}}}}();v(i.prototype,{destroy:_,get:y,fire:g,observe:b,on:w,set:x,_set:k,teardown:_}),i.prototype._recompute=m,e.exports=i},{}],7:[function(t,e,n){"use strict";function r(t,e){var n,r,o,l,h;return{create:function(){n=i("p"),r=s("This is a very basic todo app\tto show off route states."),o=s("\n"),l=i("p"),h=s("Click on one of the topics on the left, and watch both the url and this half of the screen change, without anything else in the dom changing!")},mount:function(t,e){a(n,t,e),c(r,n),a(o,t,e),a(l,t,e),c(h,l)},update:u,unmount:function(){f(n),f(o),f(l)},destroy:u}}function o(t){t=t||{},this._state=t.data||{},this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._bind=t._bind,this._fragment=r(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function i(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function a(t,e,n){e.insertBefore(t,n)}function c(t,e){e.appendChild(t)}function u(){}function f(t){t.parentNode.removeChild(t)}function l(t){for(var e,n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function h(t){this.destroy=this.set=this.get=u,this.fire("destroy"),t!==!1&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=this._state=null}function p(t){return t?this._state[t]:this._state}function d(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,e)}function m(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[t]||(r[t]=[])).push(e),n&&n.init===!1||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}}function v(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function _(t){this._set(l({},t)),this._root._lock||(this._root._lock=!0,g(this._root._beforecreate),g(this._root._oncreate),g(this._root._aftercreate),this._root._lock=!1)}function y(t){var e=this._state,n={},r=!1;for(var o in t)b(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=l({},e,t),this._recompute(n,this._state,e,!1),this._bind&&this._bind(n,this._state),w(this,this._observers.pre,n,this._state,e),this._fragment.update(n,this._state),w(this,this._observers.post,n,this._state,e))}function g(t){for(;t&&t.length;)t.pop()()}function b(t,e){return t!==e||t&&"object"===("undefined"==typeof t?"undefined":x(t))||"function"==typeof t}function w(t,e,n,r,o){for(var i in e)if(n[i]){var s=r[i],a=o[i],c=e[i];if(c)for(var u=0;u<c.length;u+=1){var f=c[u];f.__calling||(f.__calling=!0,f.call(t,s,a),f.__calling=!1)}}}var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};l(o.prototype,{destroy:h,get:p,fire:d,observe:m,on:v,set:_,_set:y,teardown:h}),o.prototype._recompute=u,e.exports=o},{}],8:[function(t,e,n){"use strict";function r(t){m(t,"svelte-3314177399","")}function o(){var t=v("style");t.id="svelte-3314177399-style",t.textContent="[svelte-3314177399].done-checkbox::before,[svelte-3314177399] .done-checkbox::before{margin-left:.2em}",_(t,document.head)}function i(t,e){function n(){U=!0,e.set({newTaskName:P.value}),U=!1}function o(t){e.fire("newTaskKeyup",t)}for(var i,a,c,u,f,l,h,p,d,m,T,j,S,N,E,O,C,A,L,P,I=t.topic.name,U=!1,R=t.tasks,q=[],B=0;B<R.length;B+=1)q[B]=s(t,R,R[B],B,e);return{create:function(){i=v("h1"),a=y(I),c=y("\n\n"),u=v("table"),f=v("thead"),l=v("tr"),h=v("th"),p=y("Task name"),d=y("\n\t\t\t"),m=v("th"),T=y("Complete"),j=y("\n\t\t\t"),S=v("th"),N=y("Remove"),E=y("\n\t"),O=v("tbody");for(var t=0;t<q.length;t+=1)q[t].create();C=y("\n\t\t"),A=v("tr"),L=v("td"),P=v("input"),this.hydrate()},hydrate:function(t){r(i),r(u),u.className="table table-striped",m.style.cssText="width: 100px",S.style.cssText="width: 87px",P.type="text",P.className="form-control add-new-task",P.placeholder="New task",g(P,"input",n),g(P,"keyup",o)},mount:function(e,n){b(i,e,n),_(a,i),b(c,e,n),b(u,e,n),_(f,u),_(l,f),_(h,l),_(p,h),_(d,l),_(m,l),_(T,m),_(j,l),_(S,l),_(N,S),_(E,u),_(O,u);for(var r=0;r<q.length;r+=1)q[r].mount(O,null);_(C,O),_(A,O),_(L,A),_(P,L),P.value=t.newTaskName},update:function(t,n){t.topic&&I!==(I=n.topic.name)&&(a.data=I);var r=n.tasks;if(t.tasks){for(var o=0;o<r.length;o+=1)q[o]?q[o].update(t,n,r,r[o],o):(q[o]=s(n,r,r[o],o,e),q[o].create(),q[o].mount(O,C));for(;o<q.length;o+=1)q[o].unmount(),q[o].destroy();q.length=r.length}U||(P.value=n.newTaskName)},unmount:function(){w(i),w(c),w(u);for(var t=0;t<q.length;t+=1)q[t].unmount()},destroy:function(){x(q,!1,0),k(P,"input",n),k(P,"keyup",o)}}}function s(t,e,n,r,o){var i,s,c,u,f,l,d,m,x,T,j,S,N=n.name,E=n.done&&a(t,e,n,r,o),O=h(t,e,n,r),C=O(t,e,n,r,o);return{create:function(){i=v("tr"),s=v("td"),u=v("span"),f=y(N),l=y("\n\t\t\t\t\t\t"),E&&E.create(),d=y("\n\t\t\t\t"),m=v("td"),C.create(),x=y("\n\t\t\t\t"),T=v("td"),j=v("button"),S=y("Remove"),this.hydrate()},hydrate:function(t){s.className=c=""+q.helpers.ifThenStr(n.done,"text-muted")+" center-y",u.className="center-y",j.className="btn btn-danger full-width",g(j,"click",p),j._svelte={component:o,each_block_value:e,i:r}},mount:function(t,e){b(i,t,e),_(s,i),_(u,s),_(f,u),_(l,u),E&&E.mount(u,null),_(d,i),_(m,i),C.mount(m,null),_(x,i),_(T,i),_(j,T),_(S,j)},update:function(t,e,n,r,i){t.tasks&&c!==(c=""+q.helpers.ifThenStr(r.done,"text-muted")+" center-y")&&(s.className=c),t.tasks&&N!==(N=r.name)&&(f.data=N),r.done?E||(E=a(e,n,r,i,o),E.create(),E.mount(u,null)):E&&(E.unmount(),E.destroy(),E=null),O!==(O=h(e,n,r,i))&&(C.unmount(),C.destroy(),C=O(e,n,r,i,o),C.create(),C.mount(m,null)),j._svelte.each_block_value=n,j._svelte.i=i},unmount:function(){w(i),E&&E.unmount(),C.unmount()},destroy:function(){E&&E.destroy(),C.destroy(),k(j,"click",p)}}}function a(t,e,n,r,o){var i;return{create:function(){i=v("span"),this.hydrate()},hydrate:function(t){i.className="glyphicon glyphicon-ok text-success done-checkbox"},mount:function(t,e){b(i,t,e)},unmount:function(){w(i)},destroy:T}}function c(t,e,n,r,o){var i,s;return{create:function(){i=v("button"),s=y("Restore"),this.hydrate()},hydrate:function(t){i.className="btn btn-primary full-width",g(i,"click",f),i._svelte={component:o,each_block_value:e,i:r}},mount:function(t,e){b(i,t,e),_(s,i)},unmount:function(){w(i)},destroy:function(){k(i,"click",f)}}}function u(t,e,n,r,o){var i,s;return{create:function(){i=v("button"),s=y("Complete"),this.hydrate()},hydrate:function(t){i.className="btn btn-success full-width",g(i,"click",l),i._svelte={component:o,each_block_value:e,i:r}},mount:function(t,e){b(i,t,e),_(s,i)},unmount:function(){w(i)},destroy:function(){k(i,"click",l)}}}function f(t){var e=this._svelte.component,n=this._svelte.each_block_value,r=this._svelte.i;n[r];e.restore(r)}function l(t){var e=this._svelte.component,n=this._svelte.each_block_value,r=this._svelte.i;n[r];e.complete(r)}function h(t,e,n,r){return n.done?c:u}function p(t){var e=this._svelte.component,n=this._svelte.each_block_value,r=this._svelte.i;n[r];e.fire("remove",r)}function d(t){t=t||{},this._state=j(q.data(),t.data),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._bind=t._bind,document.getElementById("svelte-3314177399-style")||o(),this._fragment=i(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function m(t,e,n){t.setAttribute(e,n)}function v(t){return document.createElement(t)}function _(t,e){e.appendChild(t)}function y(t){return document.createTextNode(t)}function g(t,e,n){t.addEventListener(e,n,!1)}function b(t,e,n){e.insertBefore(t,n)}function w(t){t.parentNode.removeChild(t)}function x(t,e,n){for(var r=n;r<t.length;r+=1)t[r]&&t[r].destroy(e)}function k(t,e,n){t.removeEventListener(e,n,!1)}function T(){}function j(t){for(var e,n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function S(t){this.destroy=this.set=this.get=T,this.fire("destroy"),t!==!1&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=this._state=null}function N(t){return t?this._state[t]:this._state}function E(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,e)}function O(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[t]||(r[t]=[])).push(e),n&&n.init===!1||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}}function C(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function A(t){this._set(j({},t)),this._root._lock||(this._root._lock=!0,P(this._root._beforecreate),P(this._root._oncreate),P(this._root._aftercreate),this._root._lock=!1)}function L(t){var e=this._state,n={},r=!1;for(var o in t)I(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=j({},e,t),this._recompute(n,this._state,e,!1),this._bind&&this._bind(n,this._state),U(this,this._observers.pre,n,this._state,e),this._fragment.update(n,this._state),U(this,this._observers.post,n,this._state,e))}function P(t){for(;t&&t.length;)t.pop()()}function I(t,e){return t!==e||t&&"object"===("undefined"==typeof t?"undefined":R(t))||"function"==typeof t}function U(t,e,n,r,o){for(var i in e)if(n[i]){var s=r[i],a=o[i],c=e[i];if(c)for(var u=0;u<c.length;u+=1){var f=c[u];f.__calling||(f.__calling=!0,f.call(t,s,a),f.__calling=!1)}}}var R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q=function(){return{data:function(){return{newTaskName:""}},helpers:{ifThenStr:function(t,e){return t?e:""}},methods:{complete:function(t){this.setTaskDone(t,!0)},restore:function(t){this.setTaskDone(t,!1)}}}}();j(d.prototype,q.methods,{destroy:S,get:N,fire:E,observe:O,on:C,set:A,_set:L,teardown:S}),d.prototype._recompute=T,e.exports=d},{}],9:[function(t,e,n){"use strict";var r=t("./Tasks.html"),o=t("model.js"),i=t("async-all"),s="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}";e.exports=function(e){e.addState({name:"app.topics.tasks",route:"/:topicId("+s+")",template:{component:r,options:{methods:{setTaskDone:function(t,e){var n=this.get("topicId"),r=this.get("tasks").slice();r[t].done=e,this.set({tasks:r}),o.saveTasks(n,r)}}}},resolve:function(t,e,n){i({topic:o.getTopic.bind(null,e.topicId),tasks:o.getTasks.bind(null,e.topicId),topicId:e.topicId},n)},activate:function(t){function e(t){var e=o.saveTask(r,t),i=n.get("tasks").concat(e);n.set({tasks:i})}var n=t.domApi,r=t.parameters.topicId;n.on("newTaskKeyup",function(t){var r=n.get("newTaskName");13===t.keyCode&&r&&(e(r),n.set({newTaskName:""}))}),n.on("remove",function(t){var e=this.get("topicId"),n=this.get("tasks").slice();n.splice(t,1),this.set({tasks:n}),o.saveTasks(e,n)}),n.mountedToTarget.querySelector(".add-new-task").focus()}}),e.addState({name:"app.topics.no-task",route:"",template:t("./NoTaskSelected.html")})}},{"./NoTaskSelected.html":7,"./Tasks.html":8,"async-all":15,"model.js":1}],10:[function(t,e,n){(function(n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=t("./Topics.html"),i=t("model.js"),s=t("async-all");e.exports=function(e){e.addState({name:"app.topics",route:"/topics",defaultChild:"no-task",template:o,resolve:function(t,e,n){s({topics:i.getTopics,tasks:i.getTasks},n)},activate:function(t){function o(){n.nextTick(function(){a.mountedToTarget.querySelector(".new-topic-name").focus()})}function s(t){i.getTasks(t,function(e,n){var o=n.reduce(function(t,e){return t+(e.done?0:1)},0);a.set({tasksUndone:Object.assign({},a.get("tasksUndone"),r({},t,o))})})}var a=t.domApi;i.on("tasks saved",s),t.content.topics.forEach(function(t){s(t.id)}),a.on("add-topic",function(){var t=a.get("addingTopic"),n=a.get("newTopic");if(t&&n){var r=i.addTopic(n);a.set({topics:a.get("topics").concat(r),newTopic:""}),s(r.id),e.go("app.topics.tasks",{topicId:r.id})}else t||o();return a.set({addingTopic:!t}),!1}),t.on("destroy",function(){i.removeListener("tasks saved",s)})}}),t("./tasks/tasks")(e)}}).call(this,t("_process"))},{"./Topics.html":6,"./tasks/tasks":9,_process:16,"async-all":15,"model.js":1}],11:[function(t,e,n){"use strict";var r=t("abstract-state-router"),o=t("svelte-state-renderer"),i=t("domready");i(function(){var e=r(o(),document.querySelector("body"));e.setMaxListeners(20),t("./login/login")(e),t("./app/app")(e),e.evaluateCurrentRoute("login")})},{"./app/app":5,"./login/login":13,"abstract-state-router":14,domready:19,"svelte-state-renderer":33}],12:[function(t,e,n){"use strict";function r(t,e){function n(t){e.fire("login",t)}function r(){q=!0,e.set({username:P.value}),q=!1}var o,p,d,m,v,_,y,g,b,w,x,k,T,j,S,N,E,O,C,A,L,P,I,U,R,q=!1;return{create:function(){o=i("div"),p=i("div"),d=i("div"),m=i("h1"),v=s("Welcome to the abstract-state-router demo!"),_=s("\n\t"),y=i("div"),g=i("div"),b=i("div"),w=i("p"),x=s("This is a demo webapp showing off basic usage of the "),k=i("a"),T=s("abstract-state-router"),j=s(" library using a few different templating libraries."),S=s("\n\t"),N=i("div"),E=i("div"),O=i("div"),C=i("form"),A=i("label"),L=s("Put in whatever username you feel like:\n\t\t\t\t\t\t"),P=i("input"),I=s("\n\t\t\t\t\t"),U=i("button"),R=s('"Log in"'),this.hydrate()},hydrate:function(t){o.className="container-fluid",p.className="row",d.className="col-sm-offset-3 col-sm-6",y.className="row margin-top-20",g.className="col-sm-offset-3 col-sm-6",b.className="well",w.className="lead",k.href="https://github.com/TehShrike/abstract-state-router",N.className="row margin-top-20",E.className="col-sm-offset-4 col-sm-4",O.className="form-group panel",a(C,"onsubmit","return false"),C.className="panel-body",C.action="",c(C,"submit",n),P.type="text",P.className="form-control",c(P,"input",r),U.type="submit",U.className="btn btn-primary"},mount:function(e,n){u(o,e,n),f(p,o),f(d,p),f(m,d),f(v,m),f(_,o),f(y,o),f(g,y),f(b,g),f(w,b),f(x,w),f(k,w),f(T,k),f(j,w),f(S,o),f(N,o),f(E,N),f(O,E),f(C,O),f(A,C),f(L,A),f(P,A),P.value=t.username,f(I,C),f(U,C),f(R,U)},update:function(t,e){q||(P.value=e.username)},unmount:function(){l(o)},destroy:function(){h(C,"submit",n),h(P,"input",r)}}}function o(t){t=t||{},this._state=p(S.data(),t.data),this._observers={pre:Object.create(null),post:Object.create(null)},this._handlers=Object.create(null),this._root=t._root||this,this._yield=t._yield,this._bind=t._bind,this._fragment=r(this._state,this),t.target&&(this._fragment.create(),this._fragment.mount(t.target,null))}function i(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function a(t,e,n){t.setAttribute(e,n)}function c(t,e,n){t.addEventListener(e,n,!1)}function u(t,e,n){e.insertBefore(t,n)}function f(t,e){e.appendChild(t)}function l(t){t.parentNode.removeChild(t)}function h(t,e,n){t.removeEventListener(e,n,!1)}function p(t){for(var e,n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(e in n)t[e]=n[e]}return t}function d(t){this.destroy=this.set=this.get=w,this.fire("destroy"),t!==!1&&this._fragment.unmount(),this._fragment.destroy(),this._fragment=this._state=null}function m(t){return t?this._state[t]:this._state}function v(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,e)}function _(t,e,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[t]||(r[t]=[])).push(e),n&&n.init===!1||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=r[t].indexOf(e);~n&&r[t].splice(n,1)}}}function y(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function g(t){this._set(p({},t)),
this._root._lock||(this._root._lock=!0,x(this._root._beforecreate),x(this._root._oncreate),x(this._root._aftercreate),this._root._lock=!1)}function b(t){var e=this._state,n={},r=!1;for(var o in t)k(t[o],e[o])&&(n[o]=r=!0);r&&(this._state=p({},e,t),this._recompute(n,this._state,e,!1),this._bind&&this._bind(n,this._state),T(this,this._observers.pre,n,this._state,e),this._fragment.update(n,this._state),T(this,this._observers.post,n,this._state,e))}function w(){}function x(t){for(;t&&t.length;)t.pop()()}function k(t,e){return t!==e||t&&"object"===("undefined"==typeof t?"undefined":j(t))||"function"==typeof t}function T(t,e,n,r,o){for(var i in e)if(n[i]){var s=r[i],a=o[i],c=e[i];if(c)for(var u=0;u<c.length;u+=1){var f=c[u];f.__calling||(f.__calling=!0,f.call(t,s,a),f.__calling=!1)}}}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S=function(){return{data:function(){return{username:""}}}}();p(o.prototype,{destroy:d,get:m,fire:v,observe:_,on:y,set:g,_set:b,teardown:d}),o.prototype._recompute=w,e.exports=o},{}],13:[function(t,e,n){"use strict";var r=t("./Login.html"),o=t("model.js");e.exports=function(t){t.addState({name:"login",route:"/login",template:r,activate:function(e){var n=e.domApi;n.on("login",function(){var e=n.get("username");return e&&(o.saveCurrentUser(e),t.go("app")),!1})}})}},{"./Login.html":12,"model.js":1}],14:[function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(){var t={};return function(e){return e?(t[e]||(t[e]=h(e).keys.map(function(t){return t.name})),t[e]):[]}}function s(t){var e=t.stateState,n=t.getPathParameters,r=t.stateName,o=t.fromParameters,i=t.toParameters,s=e.get(r),a=s.querystringParameters||[],c=n(s.route).concat(a);return Array.isArray(c)&&c.some(function(t){return o[t]!==i[t]})}function a(t){var e=t.parametersChanged,n=t.original,r=t.destination,o=l({start:y(n.name),end:y(r.name)});return o.map(function(t){var o=t.start,i=t.end;return{nameBefore:o,nameAfter:i,stateNameChanged:o!==i,stateParametersChanged:o===i&&e({stateName:o,fromParameters:n.parameters,toParameters:r.parameters})}})}function c(t,e){var n=y(e);return n.filter(function(e){return t[e]}).reduce(function(e,n){return b(e,t[n])},{})}function u(t,e){return{redirectTo:{name:t,params:e}}}function f(t,e){var n=t.filter(C("resolve")),r=n.map(E("name")),o=Promise.all(n.map(function(t){return new Promise(function(n,r){var o=function(t,e){return t?r(t):n(e)};o.redirect=function(t,e){r(u(t,e))};var i=t.resolve(t.data,e,o);A(i)&&n(i)})}));return o.then(function(t){return l({stateName:r,resolveResult:t}).reduce(function(t,e){return t[e.stateName]=e.resolveResult,t},{})})}var l=r(t("combine-arrays")),h=r(t("path-to-regexp-with-reversible-keys")),p=r(t("then-denodeify")),d=r(t("eventemitter3")),m=r(t("hash-brown-router")),v=r(t("page-path-builder")),_=r(t("iso-next-tick")),y=o(function(t){t.exports=function(t){return t.split(".").reduce(function(t,e){return t.push(t.length?t[t.length-1]+"."+e:e),t},[])}}),g=function(){function t(t){var e=y(t);return e.map(function(t){if(!s[t])throw new Error("State "+t+" not found");return s[t]})}function e(t){var e=n(t);return e&&s[e]}function n(t){var e=y(t);if(e.length>1){var n=e.length-2;return e[n]}return null}function r(t){var e=y(t),n=e.filter(function(t){return!s[t]});if(n.length>0)throw new Error("State "+n[n.length-1]+" does not exist")}function o(e){return t(e).map(function(t){return"/"+(t.route||"")}).join("").replace(/\/{2,}/g,"/")}function i(t){var e=s[t],n=e&&("function"==typeof e.defaultChild?e.defaultChild():e.defaultChild);if(!n)return t;var r=t+"."+n;return i(r)}var s={};return{add:function(t,e){s[t]=e},get:function(t){return t&&s[t]},getHierarchy:t,getParent:e,getParentName:n,guaranteeAllStatesExist:r,buildFullStateRoute:o,applyDefaultChildStates:i}},b=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(e))},w=function(t){var e=i(),n=function(n){return s(b(n,{stateState:t,getPathParameters:e}))};return function(t){return a(b(t,{parametersChanged:n}))}},x=function(){var t={name:"",parameters:{}};return{get:function(){return t},set:function(e,n){t={name:e,parameters:n}}}},k=function(t){var e=!1,n=!1,r={destroy:[],change:[],create:[]};return t.forEach(function(t){e=e||t.stateParametersChanged,n=n||t.stateNameChanged,t.nameBefore&&(n?r.destroy.push(t.nameBefore):e&&r.change.push(t.nameBefore)),t.nameAfter&&n&&r.create.push(t.nameAfter)}),r},T=function(t){function e(){i=null,s&&n()}function n(){i=s,s=null,i.beginStateChange()}function r(){i.transition.cancelled=!0;var e=new Error("State transition cancelled by the state transition manager");e.wasCancelledBySomeoneElse=!0,t.emit("stateChangeCancelled",e)}function o(t){var e={cancelled:!1,cancellable:!0};return{transition:e,beginStateChange:function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(void 0,[e].concat(r))}}}var i=null,s=null,a=function(){return!!i};t.on("stateChangeAttempt",function(t){s=o(t),a()&&i.transition.cancellable?r():a()||n()}),t.on("stateChangeError",e),t.on("stateChangeCancelled",e),t.on("stateChangeEnd",e)},j={reverse:!1},S=function(t,e){var n=Promise.resolve();return Promise.all(t.map(function(r,o){return n=n.then(function(){return e(r,o,t)})}))},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E=function(t){return function(e){return e[t]}},O=function(t){return t.slice().reverse()},C=function(t){return function(e){return"function"==typeof e[t]}},A=function(t){return t&&("object"===("undefined"==typeof t?"undefined":N(t))||"function"==typeof t)&&"function"==typeof t.then},L=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise(function(e){return e(t.apply(void 0,n))})},P=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"],I=function(t,e){function n(t,e){_(function(){if(B.emit(t,e),console.error(t+" - "+e.message),F)throw e})}function r(t){var e=U.get(t);return B.emit("beforeDestroyState",{state:e,domApi:G[t]}),X[t].emit("destroy"),X[t].removeAllListeners(),delete X[t],delete z[t],Q(G[t]).then(function(){delete G[t],B.emit("afterDestroyState",{state:e})})}function o(t,e){var n=G[e],r=c(z,e),o=U.get(e);return B.emit("beforeResetState",{domApi:n,content:r,state:o,parameters:t}),X[e].emit("destroy"),delete X[e],W({domApi:n,content:r,template:o.template,parameters:t}).then(function(n){n&&(G[e]=n),B.emit("afterResetState",{domApi:G[e],content:r,state:o,parameters:t})})}function i(t){return new Promise(function(n){var r=U.getParent(t);if(r){var o=G[r.name];n(H(o))}else n(e)})}function s(t,e){return i(e).then(function(n){var r=U.get(e),o=c(z,e);return B.emit("beforeCreateState",{state:r,content:o,parameters:t}),K({template:r.template,element:n,content:o,parameters:t}).then(function(n){return G[e]=n,B.emit("afterCreateState",{state:r,domApi:n,content:o,parameters:t}),n})})}function a(t,e){return S(t,function(t){return s(e,t)})}function l(t,e){try{var r=U.applyDefaultChildStates(t.name);if(r===t.name)E(r,e);else{var o=A(r,e),i=V.location.get();o===i?E(r,e):B.go(r,e,{replace:!0})}}catch(t){n("stateError",t)}}function h(t){if("undefined"==typeof t)throw new Error("Expected 'state' to be passed in.");if("undefined"==typeof t.name)throw new Error("Expected the 'name' option to be passed in.");if("undefined"==typeof t.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(t).filter(function(t){return P.indexOf(t)===-1}).forEach(function(t){console.warn("Unexpected property passed to addState:",t)}),U.add(t.name,t);var e=U.buildFullStateRoute(t.name);V.add(e,function(e){return l(t,e)})}function N(t){return t.change.concat(t.create).map(U.get)}function E(t,e){B.emit("stateChangeAttempt",function(n){C(t,e,n)})}function C(t,e,i){function s(e){return function(){if(i.cancelled){var n=new Error("The transition to "+t+" was cancelled");throw n.wasCancelledBySomeoneElse=!0,n}return e.apply(void 0,arguments)}}return L(U.guaranteeAllStatesExist,t).then(function(){var n=U.get(t),r=n.defaultParameters||n.defaultQuerystringParameters||{},o=Object.keys(r).some(function(t){return"undefined"==typeof e[t]});if(o)throw u(t,b(r,e));return n}).then(s(function(t){B.emit("stateChangeStart",t,e,D(t.name)),q.set(t.name,e)})).then(function(){var n=M({original:R.get(),destination:{name:t,parameters:e}});return k(n)}).then(s(function(t){function n(t){return t.map(U.get).forEach(function(t){var n=new d,r=Object.create(n);r.domApi=G[t.name],r.data=t.data,r.parameters=e,r.content=c(z,t.name),X[t.name]=n;try{t.activate&&t.activate(r)}catch(t){_(function(){throw t})}})}return f(N(t),b(e)).catch(function(t){throw t.stateChangeError=!0,t}).then(s(function(s){i.cancellable=!1;var c=function(){return n(t.change.concat(t.create))};return z=b(z,s),S(O(t.destroy),r).then(function(){return S(O(t.change),function(t){return o(b(e),t)})}).then(function(){return a(t.create,b(e)).then(c)})}))})).then(function(){R.set(t,e);try{B.emit("stateChangeEnd",U.get(t),e,D(t))}catch(t){n("stateError",t)}}).catch(s(function(t){return t&&t.redirectTo?(B.emit("stateChangeCancelled",t),B.go(t.redirectTo.name,t.redirectTo.params,{replace:!0})):void(t&&n("stateChangeError",t))})).catch(function(t){if(!t||!t.wasCancelledBySomeoneElse)throw new Error("This probably shouldn't happen, maybe file an issue or something "+t)})}function A(t,e,n){function r(){if(!q.get().name)throw new Error("makePath required a previous state to exist, and none was found");return q.get()}n&&n.inherit&&(e=b(r().parameters,e));var o=null===t?r().name:t,i=U.get(o)||{},s=i.defaultParameters||i.defaultQuerystringParameters;e=b(s,e),U.guaranteeAllStatesExist(o);var a=U.buildFullStateRoute(o);return v(a,e||{})}var I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},U=g(),R=x(),q=x(),B=new d,M=w(U),D=function(t){return y(t).map(U.get)};T(B);var $=b({throwOnError:!0,pathPrefix:"#"},I),F=$.throwOnError,J=$.pathPrefix,V=I.router||m(j);V.on("not found",function(t,e){B.emit("routeNotFound",t,e)});var Q=null,H=null,K=null,W=null,z={},G={},X={},Y={replace:!1};B.addState=h,B.go=function(t,e,r){r=b(Y,r);var o=r.replace?V.replace:V.go;return L(A,t,e,r).then(o,function(t){return n("stateChangeError",t)})},B.evaluateCurrentRoute=function(t,e){return L(A,t,e).then(function(t){V.evaluateCurrent(t)}).catch(function(t){return n("stateError",t)})},B.makePath=function(t,e,n){return J+A(t,e,n)},B.stateIsActive=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=R.get(),r=n.name===t||0===n.name.indexOf(t+"."),o=!e;return r&&(o||Object.keys(e).every(function(t){return e[t]===n.parameters[t]}))};var Z=t(B);return Q=p(Z.destroy),H=p(Z.getChildElement),K=p(Z.render),W=p(Z.reset),B};e.exports=I},{"combine-arrays":17,eventemitter3:20,"hash-brown-router":23,"iso-next-tick":25,"page-path-builder":27,"path-to-regexp-with-reversible-keys":29,"then-denodeify":34}],15:[function(t,e,n){(function(t){e.exports=function(e,n){function r(){function e(){"function"==typeof n&&(u?n(u):n(null,c))}s?t.nextTick(e):e()}function o(){0!==a||i||(r(),i=!0)}var i=!1,s=!0,a=0,c={},u=null;if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("async-all requires you to pass in an object!");Object.keys(e).forEach(function(t){var n=!1;"function"==typeof e[t]?(a++,e[t](function(e,r){n||(n=!0,a--,u||(e?u=e:c[t]=r),o())})):c[t]=e[t]}),o(),s=!1}}).call(this,t("_process"))},{_process:16}],16:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function s(t){if(h===clearTimeout)return clearTimeout(t);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){v&&d&&(v=!1,d.length?m=d.concat(m):_=-1,m.length&&c())}function c(){if(!v){var t=i(a);v=!0;for(var e=m.length;e;){for(d=m,m=[];++_<e;)d&&d[_].run();_=-1,e=m.length}d=null,v=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function f(){}var l,h,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(t){h=o}}();var d,m=[],v=!1,_=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new u(t,e)),1!==m.length||v||i(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=f,p.addListener=f,p.once=f,p.off=f,p.removeListener=f,p.removeAllListeners=f,p.emit=f,p.prependListener=f,p.prependOnceListener=f,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],17:[function(t,e,n){e.exports=function(t){function e(e){var r={};return n.forEach(function(n){r[n]=t[n][e]}),r}var n=Object.keys(t);n.forEach(function(e){if(!Array.isArray(t[e]))throw new Error(e+" is not an array")});for(var r=n.reduce(function(e,n){var r=t[n].length;return e>r?e:r},0),o=[],i=0;i<r;++i)o.push(e(i));return o}},{}],18:[function(t,e,n){!function(t,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?e.exports=r():t.deepmerge=r()}(this,function(){function t(t){var e=t&&"object"==typeof t;return e&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(t){return Array.isArray(t)?[]:{}}function n(n,r){var o=r&&r.clone===!0;return o&&t(n)?i(e(n),n,r):n}function r(e,r,o){var s=e.slice();return r.forEach(function(r,a){"undefined"==typeof s[a]?s[a]=n(r,o):t(r)?s[a]=i(e[a],r,o):e.indexOf(r)===-1&&s.push(n(r,o))}),s}function o(e,r,o){var s={};return t(e)&&Object.keys(e).forEach(function(t){s[t]=n(e[t],o)}),Object.keys(r).forEach(function(a){t(r[a])&&e[a]?s[a]=i(e[a],r[a],o):s[a]=n(r[a],o)}),s}function i(t,e,i){var s=Array.isArray(e),a=i||{arrayMerge:r},c=a.arrayMerge||r;return s?Array.isArray(t)?c(t,e,i):n(e,i):o(t,e,i)}return i.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce(function(t,n){return i(t,n,e)})},i})},{}],19:[function(t,e,n){!function(t,n){"undefined"!=typeof e?e.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[t]=n()}("domready",function(){var t,e=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(o,t=function(){for(n.removeEventListener(o,t),i=1;t=e.shift();)t()}),function(t){i?setTimeout(t,0):e.push(t)}})},{}],20:[function(t,e,n){"use strict";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){this._events=new r,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),i.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)s.call(t,e)&&n.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},i.prototype.listeners=function(t,e){var n=a?a+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},i.prototype.emit=function(t,e,n,r,o,i){var s=a?a+t:t;if(!this._events[s])return!1;var c,u,f=this._events[s],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,o),!0;case 6:return f.fn.call(f.context,e,n,r,o,i),!0}for(u=1,c=new Array(l-1);u<l;u++)c[u-1]=arguments[u];f.fn.apply(f.context,c)}else{var h,p=f.length;for(u=0;u<p;u++)switch(f[u].once&&this.removeListener(t,f[u].fn,void 0,!0),l){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,e);break;case 3:f[u].fn.call(f[u].context,e,n);break;case 4:f[u].fn.call(f[u].context,e,n,r);break;default:if(!c)for(h=1,c=new Array(l-1);h<l;h++)c[h-1]=arguments[h];f[u].fn.apply(f[u].context,c)}}return!0},i.prototype.on=function(t,e,n){var r=new o(e,n||this),i=a?a+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.once=function(t,e,n){var r=new o(e,n||this,!0),i=a?a+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.removeListener=function(t,e,n,o){var i=a?a+t:t;if(!this._events[i])return this;if(!e)return 0===--this._eventsCount?this._events=new r:delete this._events[i],this;var s=this._events[i];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[i]);else{for(var c=0,u=[],f=s.length;c<f;c++)(s[c].fn!==e||o&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new r:delete this._events[i]}return this},i.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=a,i.EventEmitter=i,"undefined"!=typeof e&&(e.exports=i)},{}],21:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),c=1;c<r;c++)i[c-1]=arguments[c];n.apply(this,i)}else if(s(n)){for(r=arguments.length,i=new Array(r-1),c=1;c<r;c++)i[c-1]=arguments[c];for(u=n.slice(),r=u.length,c=0;c<r;c++)u[c].apply(this,i)}return!0},r.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,i,a;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=i;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],o(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?o(t._events[e])?1:t._events[e].length:0}},{}],22:[function(t,e,n){function r(t,e){t.location.replace(o(t.location.href)+"#"+e)}function o(t){var e=t.indexOf("#");return e===-1?t:t.substring(0,e)}function i(t,e){t.location.hash=e}function s(t,e){var n=a(t.location.hash);return e?decodeURI(n):n}function a(t){return t&&"#"===t[0]?t.substr(1):t}function c(){var t=document.createElement("a");return t.href="#x x",!/x x/.test(t.hash)}var u=t("eventemitter3");e.exports=function(t){function e(e){return function(n){n!==o&&e(t,n)}}var n=new u,o="",a=c();return t.addEventListener("hashchange",function(){o!==n.get()&&(o=n.get(),n.emit("hashchange"))}),n.go=e(i),n.replace=e(r),n.get=s.bind(null,t,a),n}},{eventemitter3:20}],23:[function(t,e,n){function r(t,e,n,r){i(t,e.get(),n,r)}function o(t){var e=t.split("?");return{path:e.shift(),queryString:p.parse(e.join(""))}}function i(t,e,n,r){var i=o(e);e=i.path;var c=i.queryString,u=l(n?s(t):t,e);if(u){var f=u.exec(e),h=a(u.keys,f),p=d(c,h);u.fn(p)}else r(e,c)}function s(t){return t.slice().reverse()}function a(t,e){return t.reduce(function(t,n,r){return t[n.name]=e[r+1],t},{})}function c(t,e,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var r=h(e);r.fn=n,t.push(r)}function u(t,e,n,o,i){var s=e.get(),a=s&&("/"!==s||"/"===i);if(a){var c=t.slice();r(c,e,n,o)}else e.go(i)}function f(t){return t&&t.go&&t.replace&&t.on}function l(t,e){for(var n=0;n<t.length;++n)if(e.match(t[n]))return t[n]}var h=t("path-to-regexp-with-reversible-keys"),p=t("query-string"),d=t("xtend"),m=t("./hash-location.js"),v=t("eventemitter3");e.exports=function(t,e){function n(t,e){i.emit("not found",t,e)}function o(){e.removeListener("hashchange",a)}var i=new v;f(t)&&(e=t,t=null),t=t||{},e||(e=m(window));var s=[],a=r.bind(null,s,e,!!t.reverse,n);return e.on("hashchange",a),i.add=c.bind(null,s),i.stop=o,i.evaluateCurrent=u.bind(null,s,e,!!t.reverse,n),i.replace=e.replace,i.go=e.go,i.location=e,i}},{"./hash-location.js":22,eventemitter3:20,"path-to-regexp-with-reversible-keys":29,"query-string":30,xtend:35}],24:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],25:[function(t,e,n){e.exports=function(t){"function"==typeof setImmediate?setImmediate(t):setTimeout(t,0)}},{}],26:[function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=o()?Object.assign:function(t,e){for(var n,o,c=r(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var f in n)s.call(n,f)&&(c[f]=n[f]);if(i){o=i(n);for(var l=0;l<o.length;l++)a.call(n,o[l])&&(c[o[l]]=n[o[l]])}}return c}},{}],27:[function(t,e,n){function r(t,e,n){var r=o(e,n);return 0===Object.keys(r).length?t:t+"?"+s(r)}function o(t,e){var n=e.reduce(function(t,e){return e.string||(t[e.name]=e),t},{});return Object.keys(t).filter(function(t){return!n[t]}).reduce(function(e,n){return e[n]=t[n],e},{})}var i=t("./path-parser"),s=t("query-string").stringify;e.exports=function(t,e){var n="string"==typeof t?i(t):t,o=n.allTokens,s=n.regex;if(e){var a=o.map(function(n){if(n.string)return n.string;var r="undefined"!=typeof e[n.name];if(!n.optional&&!r)throw new Error("Must supply argument "+n.name+" for path "+t);return r?n.delimiter+encodeURIComponent(e[n.name]):""}).join("");if(!s.test(a))throw new Error("Provided arguments do not match the original arguments");return r(a,e,o)}return n}},{"./path-parser":28,"query-string":30}],28:[function(t,e,n){var r=t("path-to-regexp-with-reversible-keys");e.exports=function(t){var e=r(t);return{regex:e,allTokens:e.allTokens}}},{"path-to-regexp-with-reversible-keys":29}],29:[function(t,e,n){function r(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function o(t,e,n){return t.keys=e,t.allTokens=n,t}function i(t){return t.sensitive?"":"i"}function s(t,e,n){var r=t.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)e.push({name:i,delimiter:null,optional:!1,repeat:!1});return o(t,e,n)}function a(t,e,n,r){for(var s=[],a=0;a<t.length;a++)s.push(u(t[a],e,n,r).source);var c=new RegExp("(?:"+s.join("|")+")",i(n));return o(c,e,r)}function c(t,e,n){function o(t){0===a&&"/"!==t[0]&&(t="/"+t),n.push({string:t})}function i(i,c,u,f,l,h,p,d,m){if(c)return c;if(d)return"\\"+d;var v="+"===p||"*"===p,_="?"===p||"*"===p;m>a&&o(t.substring(a,m)),a=m+i.length;var y={name:f||s++,delimiter:u||"/",optional:_,repeat:v};return e.push(y),n.push(y),u=u?"\\"+u:"",l=r(l||h||"[^"+(u||"\\/")+"]+?"),v&&(l=l+"(?:"+u+l+")*"),_?"(?:"+u+"("+l+"))?":u+"("+l+")"}var s=0,a=0,c=t.replace(l,i);return a<t.length&&o(t.substring(a)),c}function u(t,e,n,r){if(e=e||[],r=r||[],f(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp)return s(t,e,n,r);if(f(t))return a(t,e,n,r);var u=n.strict,l=n.end!==!1,h=c(t,e,r),p="/"===t.charAt(t.length-1);return u||(h=(p?h.slice(0,-2):h)+"(?:\\/(?=$))?"),h+=l?"$":u&&p?"":"(?=\\/|$)",o(new RegExp("^"+h,i(n)),e,r)}var f=t("isarray");e.exports=u;var l=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:24}],30:[function(t,e,n){"use strict";function r(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[i(e,t),"[",r,"]"].join(""):[i(e,t),"[",i(r,t),"]=",i(n,t)].join("")};case"bracket":return function(e,n){return null===n?i(e,t):[i(e,t),"[]=",i(n,t)].join("")};default:return function(e,n){return null===n?i(e,t):[i(e,t),"=",i(n,t)].join("")}}}function o(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){return e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),void(r[t][e[1]]=n)):void(r[t]=n)};case"bracket":return function(t,n,r){return e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0===r[t]?void(r[t]=[n]):void(r[t]=[].concat(r[t],n)):void(r[t]=n)};default:return function(t,e,n){return void 0===n[t]?void(n[t]=e):void(n[t]=[].concat(n[t],e))}}}function i(t,e){return e.encode?e.strict?a(t):encodeURIComponent(t):t}function s(t){return Array.isArray(t)?t.sort():"object"==typeof t?s(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}var a=t("strict-uri-encode"),c=t("object-assign");n.extract=function(t){return t.split("?")[1]||""},n.parse=function(t,e){e=c({arrayFormat:"none"},e);var n=o(e),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=s(n):t[e]=n,t},Object.create(null))):r},n.stringify=function(t,e){var n={encode:!0,strict:!0,arrayFormat:"none"};e=c(n,e);var o=r(e);return t?Object.keys(t).sort().map(function(n){var r=t[n];if(void 0===r)return"";if(null===r)return i(n,e);if(Array.isArray(r)){var s=[];return r.slice().forEach(function(t){void 0!==t&&s.push(o(n,t,s.length))}),s.join("&")}return i(n,e)+"="+i(r,e)}).filter(function(t){return t.length>0}).join("&"):""}},{"object-assign":26,"strict-uri-encode":32}],31:[function(t,e,n){e.exports=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}},{}],32:[function(t,e,n){"use strict";e.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},{}],33:[function(t,e,n){"use strict";function r(t,e,n){return Object.assign(new t(e),n)}var o=t("deepmerge");e.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){function n(n,s){function a(t,e){return e.methods?r(t,e,e.methods):new t(e)}function c(){p.set({asr:i})}var u=n.element,f=n.template,l=n.content,h=o(t,{target:u,data:Object.assign(l,t.data,{asr:i})}),p=void 0;try{if("function"==typeof f)p=a(f,h);else{var d=o(h,f.options);p=a(f.component,d)}}catch(t){return void s(t)}e.on("stateChangeEnd",c),p.on("destroy",function(){e.removeListener("stateChangeEnd",c)}),p.mountedToTarget=u,s(null,p)}var i={makePath:e.makePath,stateIsActive:e.stateIsActive};return{render:n,reset:function(t,e){var r=t.domApi,o=r.mountedToTarget;r.teardown();var i=Object.assign({element:o},t);n(i,e)},destroy:function(t,e){t.teardown(),e()},getChildElement:function(t,e){try{var n=t.mountedToTarget,r=n.querySelector("uiView");e(null,r)}catch(t){e(t)}}}}}},{deepmerge:18}],34:[function(t,e,n){e.exports=function(t){return function(){var e=this,n=Array.prototype.slice.call(arguments);return new Promise(function(r,o){n.push(function(t,e){t?o(t):r(e)});var i=t.apply(e,n),s=i&&("object"==typeof i||"function"==typeof i)&&"function"==typeof i.then;s&&r(i)})}}},{}],35:[function(t,e,n){function r(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)o.call(n,r)&&(t[r]=n[r])}return t}e.exports=r;var o=Object.prototype.hasOwnProperty},{}]},{},[11]);
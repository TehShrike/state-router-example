!function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){(function(n){function r(t){setTimeout(function(){t(null,o())},w)}function o(){return JSON.parse(localStorage.getItem("topics"))}function i(t,e){setTimeout(function(){e(null,a(t))},w)}function a(t){return o().find(function(e){return e.id===t})}function s(t){var e={name:t,id:y()},n=o();return n.push(e),d(e.id,[]),h(n),e}function u(t){var e=o(),r=e.findIndex(function(e){return e.id===t});e.splice(r,1),h(e),n.nextTick(function(){localStorage.removeItem(t)})}function c(t,e){"function"==typeof t&&(e=t,t=null),setTimeout(function(){t?e(null,l(t)):e(null,f())},w)}function f(){var t=o();return t.reduce(function(t,e){var n=e.id;return t[n]=l(n),t},{})}function l(t){var e=localStorage.getItem(t);return e?JSON.parse(localStorage.getItem(t)):[]}function p(t,e){var n=l(t),r={name:e,done:!1};return n.push(r),d(t,n),r}function d(t,e){localStorage.setItem(t,JSON.stringify(e)),x.emit("tasks saved",t)}function h(t){localStorage.setItem("topics",JSON.stringify(t)),x.emit("topics saved")}function v(){return{name:localStorage.getItem("currentUserName")}}function m(t){t?localStorage.setItem("currentUserName",t):localStorage.removeItem("currentUserName")}function g(){console.log("Initializing dummy data");var t={name:"Important stuff",id:y()},e={name:"Not as important",id:y()};h([t,e]),d(t.id,[{name:"Put on pants",done:!1},{name:"Visit chat room to see if you still pass the Turing test",done:!1}]),d(e.id,[{name:"Make cupcakes",done:!0},{name:"Eat cupcakes",done:!0},{name:"Write forum post rant about how chocolate cupcakes are the only good kind of cupcake",done:!1}])}var y=t("random-uuid-v4"),b=t("events").EventEmitter,w=50,x=new b;e.exports=x,x.getTopics=r,x.getTopic=i,x.addTopic=s,x.removeTopic=u,x.getTasks=c,x.saveTasks=d,x.saveTopics=h,x.getCurrentUser=v,x.saveCurrentUser=m,x.saveTask=p,function(){localStorage.getItem("topics")||g()}()}).call(this,t("_process"))},{_process:26,events:29,"random-uuid-v4":40}],2:[function(t,e,n){t("./about.tag"),e.exports=function(t){t.addState({name:"app.about",route:"/about",template:"about",activate:function(){}})}},{"./about.tag":3}],3:[function(t,e,n){var r=t("riot");e.exports=r.tag2("about",'<div class="container"> <div class="row"> <div class="col-sm-offset-2 col-sm-8"> <div class="jumbotron"> <h1>About this example</h1> </div> </div> </div> <div class="row"> <div class="col-sm-offset-3 col-sm-6"> <p> Pretty sweet, isn\'t it? Here, let me give some examples or something. </p> </div> </div> </div>',"","",function(t){})},{riot:42}],4:[function(t,e,n){t("array.prototype.findindex");var r=t("model.js");t("./app.tag"),e.exports=function(e){e.addState({name:"app",route:"/app",defaultChild:"topics",template:"app",resolve:function(t,e,n){r.getCurrentUser().name?n(null,{currentUser:r.getCurrentUser()}):n.redirect("login")},activate:function(t){var n=t.domApi;n.currentUser=r.getCurrentUser(),n.update(),n.on("logout",function(){r.saveCurrentUser(null),e.go("login")})}}),t("./about/about")(e),t("./topics/topics")(e)}},{"./about/about":2,"./app.tag":5,"./topics/topics":9,"array.prototype.findindex":24,"model.js":1}],5:[function(t,e,n){var r=t("riot");e.exports=r.tag2("app",'<nav class="navbar navbar-default"> <div class="container-fluid"> <div class="navbar-header"> <ul class="nav navbar-nav"> <li class="{active: opts.active(\'app.topics\')}"> <a href="{opts.makePath(\'app.topics\')}">Basic todo app!</a> </li> <li class="{active: opts.active(\'app.about\')}"> <a href="{opts.makePath(\'app.about\')}">About the state router</a> </li> <li> <a href="{opts.makePath(\'login\')}" on-click="logout">"Log out"</a> </li> </ul> </div> <div class="nav navbar-right"> <p class="navbar-text"> Logged in as {currentUser.name} </p> </div> </div> </nav> <ui-view></ui-view>',"","",function(t){})},{riot:42}],6:[function(t,e,n){var r=t("riot");e.exports=r.tag2("no-task-selected","<span> <p> This is a very basic todo app to show off route states. </p> <p> Click on one of the topics on the left, and watch both the url and this half of the screen change, without anything else in the dom changing! </p> </span>","","",function(t){})},{riot:42}],7:[function(t,e,n){var r=t("model.js"),o=t("async-all"),i="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}";e.exports=function(e){t("./no-task-selected.tag"),t("./tasks.tag"),e.addState({name:"app.topics.tasks",route:"/:topicId("+i+")",template:"tasks",resolve:function(t,e,n){o({topic:r.getTopic.bind(null,e.topicId),tasks:r.getTasks.bind(null,e.topicId)},n)},activate:function(t){function e(){r.saveTasks(o,n.opts.tasks)}var n=t.domApi,o=t.parameters.topicId;n.complete=function(t){t.done=!0,e()},n.restore=function(t){t.done=!1,e()},n.remove=function(t){var r=n.opts.tasks.indexOf(t);n.opts.tasks.splice(r,1),e(),n.update()},n.newTask=function(t){var e=r.saveTask(o,t);n.opts.tasks.push(e),n.update()},n.update(),n.root.querySelector(".add-new-task").focus()}}),e.addState({name:"app.topics.no-task",route:"",template:"no-task-selected"})}},{"./no-task-selected.tag":6,"./tasks.tag":8,"async-all":25,"model.js":1}],8:[function(t,e,n){var r=t("riot");e.exports=r.tag2("tasks",'<h1>{opts.topic.name}</h1> <table class="table table-striped"> <thead> <tr> <th> Task name </th> <th style="width: 100px"> Complete </th> <th style="width: 87px"> Remove </th> </tr> </thead> <tbody> <tr each="{opts.tasks}"> <td class=" center-y"> <span class="center-y"> {name} &nbsp;<span if="{done}" class="glyphicon glyphicon-ok text-success"></span> </span> </td> <td> <button type="button" if="{done}" class="btn btn-primary full-width" onclick="{parent.onRestore}">Restore</button> <button type="button" if="{!done}" class="btn btn-success full-width" onclick="{parent.onComplete}">Complete</button> </td> <td> <button class="btn btn-danger full-width" onclick="{parent.onRemove}"> Remove </button> </td> </tr> <tr> <td> <input type="text" class="form-control add-new-task" placeholder="New task" onkeyup="{newTaskKeyup}" name="newTaskName"> </td> </tr> </tbody> </table>',"","",function(t){this.newTaskKeyup=function(t){var e=this.newTaskName.value;13===t.keyCode&&e&&(this.newTaskName.value="",this.newTask(e))}.bind(this),this.onRestore=function(t){this.restore(t.item)}.bind(this),this.onComplete=function(t){this.complete(t.item)}.bind(this),this.onRemove=function(t){this.remove(t.item)}.bind(this)})},{riot:42}],9:[function(t,e,n){(function(n){var r=t("model.js");t("./topics.tag"),e.exports=function(e){e.addState({name:"app.topics",route:"/topics",defaultChild:"no-task",template:"topics",resolve:function(t,e,n){r.getTopics(function(t,e){n(null,{topics:e})})},activate:function(t){function o(t){r.getTasks(t,function(e,n){var r=n.reduce(function(t,e){return t+(e.done?0:1)},0);i.opts.tasksUndone[t]=r,i.update()})}var i=t.domApi;i.opts.tasksUndone={},i.update(),i.setFocusOnAddTopicEdit=function(){n.nextTick(function(){i.root.querySelector(".new-topic-name").focus()})},r.on("tasks saved",o),i.opts.topics.forEach(function(t){o(t.id)}),i.addTopic=function(t){var n=r.addTopic(t);i.opts.topics.push(n),o(n.id),e.go("app.topics.tasks",{topicId:n.id})},t.on("destroy",function(){r.removeListener("tasks saved",o)})}}),t("./tasks/tasks")(e)}}).call(this,t("_process"))},{"./tasks/tasks":7,"./topics.tag":10,_process:26,"model.js":1}],10:[function(t,e,n){var r=t("riot");e.exports=r.tag2("topics",'<div class="container"> <div class="row"> <div class="col-sm-4"> <div class="list-group"> <a each="{opts.topics}" href="{parent.opts.makePath(\'app.topics.tasks\', \'topicId\', id)}" class="list-group-item {parent.opts.active(\'app.topics.tasks\', \'topicId\', id) ? \'active\' : \'\'}"> {name} <span class="badge">{parent.opts.tasksUndone[id]}</span> </a> </div> <form action="" onsubmit="{onAddTopic}"> <div class="table"> <div class="table-row-group"> <div class="table-row"> <div class="table-cell"> <input if="{opts.addingTopic}" type="text" class="new-topic-name form-control" placeholder="Topic name" name="newTopic"> </div> <div class="table-cell" style="width: 60px; vertical-align: top"> <button type="submit" class="btn btn-default pull-right">Add</button> </div> </div> </div> </div> </form> </div> <div class="col-sm-8"> <ui-view></ui-view> </div> </div> </div>',"","",function(t){this.opts.addingTopic=!1,this.onAddTopic=function(){var t=this.newTopic.value;return this.opts.addingTopic&&t&&(this.newTopic.value="",this.addTopic(t)),this.opts.addingTopic=!this.opts.addingTopic,this.update(),this.opts.addingTopic&&this.setFocusOnAddTopicEdit(),!1}.bind(this)})},{riot:42}],11:[function(t,e,n){var r=t("abstract-state-router"),o=t("riot-state-renderer"),i=t("domready"),a=r(o(),"body");t("./login/login")(a),t("./app/app")(a),i(function(){a.evaluateCurrentRoute("login")})},{"./app/app":4,"./login/login":12,"abstract-state-router":15,domready:28,"riot-state-renderer":41}],12:[function(t,e,n){var r=t("model.js");t("./login.tag"),e.exports=function(t){t.addState({name:"login",route:"/login",template:"login",activate:function(e){var n=e.domApi;n.opts.login=function(e){e&&(r.saveCurrentUser(e),t.go("app"))}}})}},{"./login.tag":13,"model.js":1}],13:[function(t,e,n){var r=t("riot");e.exports=r.tag2("login",'<div class="container-fluid"> <div class="row"> <div class="col-sm-offset-3 col-sm-6"> <h1>Welcome to the abstract-state-router demo!</h1> </div> </div> <div class="row margin-top-20"> <div class="col-sm-offset-3 col-sm-6"> <div class="well"> <p class="lead"> This is a demo webapp showing off basic usage of the <a href="https://github.com/TehShrike/abstract-state-router">abstract-state-router</a> library using a few different templating libraries. </p> </div> </div> </div> <div class="row margin-top-20"> <div class="col-sm-offset-4 col-sm-4"> <div class="form-group panel"> <form onsubmit="{login}" class="panel-body" action=""> <label> Put in whatever username you feel like: <input type="text" class="form-control" name="username"> </label> <button type="submit" class="btn btn-primary">"Log in"</button> </form> </div> </div> </div> </div>',"","",function(t){this.login=function(){return t.login(this.username.value),!1}.bind(this)})},{riot:42}],14:[function(t,e,n){e.exports={reverse:!1}},{}],15:[function(t,e,n){(function(n){function r(t,e){var n=h(e);return n.filter(function(e){return t[e]}).reduce(function(e,n){return w(e,t[n])},{})}function o(t,e){return{redirectTo:{name:t,params:e}}}function i(t,e){var n=t.filter(u("resolve")),r=n.map(a("name")),i=Promise.all(n.map(function(t){return new Promise(function(n,r){function i(t,e){t?r(t):n(e)}i.redirect=function(t,e){r(o(t,e))};var a=t.resolve(t.data,e,i);!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then||n(a)})}));return i.then(function(t){return _({stateName:r,resolveResult:t}).reduce(function(t,e){return t[e.stateName]=e.resolveResult,t},{})})}function a(t){return function(e){return e[t]}}function s(t){return t.slice().reverse()}function u(t){return function(e){return"function"==typeof e[t]}}function c(){var t=Array.prototype.shift.apply(arguments),e=arguments;return new Promise(function(n){n(t.apply(null,e))})}var f=t("./lib/state-state"),l=t("./lib/state-comparison"),p=t("./lib/current-state"),d=t("./lib/state-change-logic"),h=t("./lib/state-string-parser"),v=t("./lib/state-transition-manager"),m=t("./default-router-options.js"),g=t("./lib/promise-map-series"),y=t("then-denodeify"),b=t("events").EventEmitter,w=t("xtend"),x=t("hash-brown-router"),_=t("combine-arrays"),T=t("page-path-builder");t("native-promise-only/npo");var k=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"];e.exports=function(t,e,a){function u(t,e){n.nextTick(function(){if(U.emit(t,e),console.error(t+" - "+e.message),a.throwOnError)throw e})}function h(t){var e=I.get(t);return U.emit("beforeDestroyState",{state:e,domApi:B[t]}),K[t].emit("destroy"),K[t].removeAllListeners(),delete K[t],delete H[t],$(B[t]).then(function(){delete B[t],U.emit("afterDestroyState",{state:e})})}function _(t,e){var n=B[e],o=r(H,e),i=I.get(e);return U.emit("beforeResetState",{domApi:n,content:o,state:i,parameters:t}),K[e].emit("destroy"),delete K[e],D({domApi:n,content:o,template:i.template,parameters:t}).then(function(n){n&&(B[e]=n),U.emit("afterResetState",{domApi:B[e],content:o,state:i,parameters:t})})}function E(t){return new Promise(function(n){var r=I.getParent(t);if(r){var o=B[r.name];n(F(o))}else n(e)})}function C(t,e){return E(e).then(function(n){var o=I.get(e),i=r(H,e);return U.emit("beforeCreateState",{state:o,content:i,parameters:t}),q({element:n,template:o.template,content:i,parameters:t}).then(function(n){return B[e]=n,U.emit("afterCreateState",{state:o,domApi:n,content:i,parameters:t}),n})})}function j(t,e){return g(t,C.bind(null,e))}function S(t,e){try{var n=I.applyDefaultChildStates(t.name);if(n===t.name)L(n,e);else{var r=P(n,e),o=a.router.location.get();r===o?L(n,e):U.go(n,e,{replace:!0})}}catch(t){u("stateError",t)}}function A(t){if("undefined"==typeof t)throw new Error("Expected 'state' to be passed in.");if("undefined"==typeof t.name)throw new Error("Expected the 'name' option to be passed in.");if("undefined"==typeof t.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(t).filter(function(t){return k.indexOf(t)===-1}).forEach(function(t){console.warn("Unexpected property passed to addState:",t)}),I.add(t.name,t);var e=I.buildFullStateRoute(t.name);a.router.add(e,S.bind(null,t))}function O(t){return t.change.concat(t.create).map(I.get)}function L(t,e){U.emit("stateChangeAttempt",function(n){N(t,e,n)})}function N(t,e,a){function f(e){return function(){if(a.cancelled){var n=new Error("The transition to "+t+"was cancelled");throw n.wasCancelledBySomeoneElse=!0,n}return e.apply(null,arguments)}}return c(I.guaranteeAllStatesExist,t).then(function(){var n=I.get(t),r=n.defaultParameters||n.defaultQuerystringParameters||{},i=Object.keys(r).some(function(t){return"undefined"==typeof e[t]});if(i)throw o(t,w(r,e));return n}).then(f(function(t){U.emit("stateChangeStart",t,e),M.set(t.name,e)})).then(function(){var n=l(I)(R.get().name,R.get().parameters,t,e);return d(n)}).then(f(function(t){function o(t){return t.map(I.get).forEach(function(t){var o=new b,i=Object.create(o);i.domApi=B[t.name],i.data=t.data,i.parameters=e,i.content=r(H,t.name),K[t.name]=o;try{t.activate&&t.activate(i)}catch(t){n.nextTick(function(){throw t})}})}return i(O(t),w(e)).catch(function(t){throw t.stateChangeError=!0,t}).then(f(function(n){function r(){var e=t.change.concat(t.create);return o(e)}return a.cancellable=!1,H=w(H,n),g(s(t.destroy),h).then(function(){return g(s(t.change),_.bind(null,w(e)))}).then(function(){return j(t.create,w(e)).then(r)})}))})).then(function(){R.set(t,e);try{U.emit("stateChangeEnd",I.get(t),e)}catch(t){u("stateError",t)}}).catch(f(function(t){return t&&t.redirectTo?(U.emit("stateChangeCancelled",t),U.go(t.redirectTo.name,t.redirectTo.params,{replace:!0})):void(t&&u("stateChangeError",t))})).catch(function(t){if(!t||!t.wasCancelledBySomeoneElse)throw new Error("This probably shouldn't happen, maybe file an issue or something "+t)})}function P(t,e,n){function r(){if(!M.get().name)throw new Error("makePath required a previous state to exist, and none was found");return M.get()}n&&n.inherit&&(e=w(r().parameters,e));var o=null===t?r().name:t,i=I.get(o)||{},a=i.defaultParameters||i.defaultQuerystringParameters;e=w(a,e),I.guaranteeAllStatesExist(o);var s=I.buildFullStateRoute(o);return T(s,e||{})}var I=f(),R=p(),M=p(),U=new b;v(U),a=w({throwOnError:!0,pathPrefix:"#"},a),a.router||(a.router=x(m)),a.router.setDefault(function(t,e){U.emit("routeNotFound",t,e)});var $=null,F=null,q=null,D=null,B={},H={},K={},V={replace:!1};U.addState=A,U.go=function(t,e,n){n=w(V,n);var r=n.replace?a.router.replace:a.router.go;return c(P,t,e,n).then(r,u.bind(null,"stateChangeError"))},U.evaluateCurrentRoute=function(t,e){return c(P,t,e).then(function(t){a.router.evaluateCurrent(t)}).catch(function(t){u("stateError",t)})},U.makePath=function(t,e,n){return a.pathPrefix+P(t,e,n)},U.stateIsActive=function(t,e){var n=R.get();return(n.name===t||0===n.name.indexOf(t+"."))&&("undefined"==typeof e||Object.keys(e).every(function(t){return e[t]===n.parameters[t]}))};var z=t(U);return $=y(z.destroy),F=y(z.getChildElement),q=y(z.render),D=y(z.reset),U}}).call(this,t("_process"))},{"./default-router-options.js":14,"./lib/current-state":16,"./lib/promise-map-series":17,"./lib/state-change-logic":18,"./lib/state-comparison":19,"./lib/state-state":20,"./lib/state-string-parser":21,"./lib/state-transition-manager":22,_process:26,"combine-arrays":27,events:29,"hash-brown-router":31,"native-promise-only/npo":33,"page-path-builder":34,"then-denodeify":43,xtend:44}],16:[function(t,e,n){e.exports=function(){var t={name:"",parameters:{}};return{get:function(){return t},set:function(e,n){t={name:e,parameters:n}}}}},{}],17:[function(t,e,n){var r=t("native-promise-only/npo");e.exports=function(t,e,n){var o=r.resolve(),i=arguments.length>2?e.bind(n):e,a=t.map(function(e,n){return o=o.then(function(n){return i(e,n,t)}.bind(null,n))});return r.all(a)}},{"native-promise-only/npo":33}],18:[function(t,e,n){e.exports=function(t){var e=!1,n=!1,r={destroy:[],change:[],create:[]};return t.forEach(function(t){e=e||t.stateParametersChanged,n=n||t.stateNameChanged,t.nameBefore&&(n?r.destroy.push(t.nameBefore):e&&r.change.push(t.nameBefore)),t.nameAfter&&n&&r.create.push(t.nameAfter)}),r}},{}],19:[function(t,e,n){function r(){var t={};return function(e){return e?(t[e]||(t[e]=u(e).keys.map(function(t){return t.name})),t[e]):[]}}function o(t,e,n,r,o){var i=t.get(n),a=i.querystringParameters||[],s=e(i.route).concat(a);return Array.isArray(s)&&s.some(function(t){return r[t]!==o[t]})}function i(t,e,n,r,o){var i=s({start:a(e),end:a(r)});return i.map(function(e){return{nameBefore:e.start,nameAfter:e.end,stateNameChanged:e.start!==e.end,stateParametersChanged:e.start===e.end&&t(e.start,n,o)}})}var a=t("./state-string-parser"),s=t("combine-arrays"),u=t("path-to-regexp-with-reversible-keys");e.exports=function(t){var e=r(),n=o.bind(null,t,e);return i.bind(null,n)}},{"./state-string-parser":21,"combine-arrays":27,"path-to-regexp-with-reversible-keys":36}],20:[function(t,e,n){var r=t("./state-string-parser"),o=t("./state-string-parser");e.exports=function(){function t(t){var e=r(t);return e.map(function(t){if(!u[t])throw new Error("State "+t+" not found");return u[t]})}function e(t){var e=n(t);return e&&u[e]}function n(t){var e=r(t);if(e.length>1){var n=e.length-2;return e[n]}return null}function i(t){var e=o(t),n=e.filter(function(t){return!u[t]});if(n.length>0)throw new Error("State "+n[n.length-1]+" does not exist")}function a(e){return t(e).map(function(t){return"/"+(t.route||"")}).join("").replace(/\/{2,}/g,"/")}function s(t){function e(){return n&&("function"==typeof n.defaultChild?n.defaultChild():n.defaultChild)}var n=u[t],r=e();if(!r)return t;var o=t+"."+r;return s(o)}var u={};return{add:function(t,e){u[t]=e},get:function(t){return t&&u[t]},getHierarchy:t,getParent:e,getParentName:n,guaranteeAllStatesExist:i,buildFullStateRoute:a,applyDefaultChildStates:s}}},{"./state-string-parser":21}],21:[function(t,e,n){e.exports=function(t){return t.split(".").reduce(function(t,e){return t.length&&(e=t[t.length-1]+"."+e),t.push(e),t},[])}},{}],22:[function(t,e,n){e.exports=function(t){function e(){a=null,s&&r()}function n(){return!!a}function r(){a=s,s=null,a.beginStateChange()}function o(){a.transition.cancelled=!0;var e=new Error("State transition cancelled by the state transition manager");e.wasCancelledBySomeoneElse=!0,t.emit("stateChangeCancelled",e)}function i(t){var e={cancelled:!1,cancellable:!0};return{transition:e,beginStateChange:t.bind(null,e)}}var a=null,s=null;t.on("stateChangeAttempt",function(t){s=i(t),n()&&a.transition.cancellable?o():n()||r()}),t.on("stateChangeError",e),t.on("stateChangeCancelled",e),t.on("stateChangeEnd",e)}},{}],23:[function(t,e,n){!function(t){if(!Array.prototype.find){var e=function(t){var e=Object(this),n=e.length<0?0:e.length>>>0;if(0!==n){if("function"!=typeof t||"[object Function]"!==Object.prototype.toString.call(t))throw new TypeError("Array#find: predicate must be a function");for(var r,o=arguments[1],i=0;i<n;i++)if(r=e[i],t.call(o,r,i,e))return r}};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"find",{value:e,configurable:!0,enumerable:!1,writable:!0})}catch(t){}Array.prototype.find||(Array.prototype.find=e)}}(this)},{}],24:[function(t,e,n){!function(t){if(!Array.prototype.findIndex){var e=function(t){var e=Object(this),n=Math.max(0,e.length)>>>0;if(0===n)return-1;if("function"!=typeof t||"[object Function]"!==Object.prototype.toString.call(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:void 0,o=0;o<n;o++)if(t.call(r,e[o],o,e))return o;return-1};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"findIndex",{value:e,configurable:!0,writable:!0})}catch(t){}Array.prototype.findIndex||(Array.prototype.findIndex=e)}}(this)},{}],25:[function(t,e,n){(function(t){e.exports=function(e,n){function r(){function e(){"function"==typeof n&&(c?n(c):n(null,u))}a?t.nextTick(e):e()}function o(){0!==s||i||(r(),i=!0)}var i=!1,a=!0,s=0,u={},c=null;if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("async-all requires you to pass in an object!");Object.keys(e).forEach(function(t){var n=!1;"function"==typeof e[t]?(s++,e[t](function(e,r){n||(n=!0,s--,c||(e?c=e:u[t]=r),o())})):u[t]=e[t]}),o(),a=!1}}).call(this,t("_process"))},{_process:26}],26:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){m&&h&&(m=!1,h.length?v=h.concat(v):g=-1,v.length&&u())}function u(){if(!m){var t=i(s);m=!0;for(var e=v.length;e;){for(h=v,v=[];++g<e;)h&&h[g].run();g=-1,e=v.length}h=null,m=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function f(){}var l,p,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(t){p=o}}();var h,v=[],m=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||m||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=f,d.addListener=f,d.once=f,d.off=f,d.removeListener=f,d.removeAllListeners=f,d.emit=f,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],27:[function(t,e,n){e.exports=function(t){function e(e){var r={};return n.forEach(function(n){r[n]=t[n][e]}),r}var n=Object.keys(t);n.forEach(function(e){if(!Array.isArray(t[e]))throw new Error(e+" is not an array")});for(var r=n.reduce(function(e,n){var r=t[n].length;return e>r?e:r},0),o=[],i=0;i<r;++i)o.push(e(i));return o}},{}],28:[function(t,e,n){!function(t,n){"undefined"!=typeof e?e.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[t]=n()}("domready",function(){var t,e=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(o,t=function(){for(n.removeEventListener(o,t),i=1;t=e.shift();)t()}),function(t){i?setTimeout(t,0):e.push(t)}})},{}],29:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function i(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),u=1;u<r;u++)i[u-1]=arguments[u];n.apply(this,i)}else if(a(n)){for(r=arguments.length,i=new Array(r-1),u=1;u<r;u++)i[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,i)}return!0},r.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,i,s;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=i;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],o(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?o(t._events[e])?1:t._events[e].length:0}},{}],30:[function(t,e,n){function r(t,e){t.location.replace(o(t.location.href)+"#"+e)}function o(t){var e=t.indexOf("#");return e===-1?t:t.substring(0,e)}function i(t,e){t.location.hash=e}function a(t,e){var n=s(t.location.hash);return e?decodeURI(n):n}function s(t){return t&&"#"===t[0]?t.substr(1):t}function u(){var t=document.createElement("a");return t.href="#x x",!/x x/.test(t.hash)}var c=t("events").EventEmitter;e.exports=function(t){var e=new c,n="",o=u();return t.addEventListener("hashchange",function(){n!==e.get()&&(n=e.get(),e.emit("hashchange"))}),e.go=i.bind(null,t),e.replace=r.bind(null,t),e.get=a.bind(null,t,o),e}},{events:29}],31:[function(t,e,n){function r(t,e,n){i(t,e.get(),n)}function o(t){var e=t.split("?");return{path:e.shift(),queryString:d.parse(e.join(""))}}function i(t,e,n){var r=o(e);e=r.path;var i=r.queryString,u=(n?a(t):t).find("".match,e);if(u){var c=u.exec(e),f=s(u.keys,c),l=h(i,f);u.fn(l)}else t.defaultFn&&t.defaultFn(e,i)}function a(t){return t.slice().reverse()}function s(t,e){return t.reduce(function(t,n,r){return t[n.name]=e[r+1],t},{})}function u(t,e,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var r=p(e);r.fn=n,t.push(r)}function c(t,e,n,o){if(e.get()){var i=t.slice();i.defaultFn=function(){e.go(o)},r(i,e,n)}else e.go(o)}function f(t,e){t.defaultFn=e}function l(t){return t&&t.go&&t.replace&&t.on}var p=t("path-to-regexp-with-reversible-keys"),d=t("querystring"),h=t("xtend"),v=t("./hash-location.js");t("array.prototype.find"),e.exports=function(t,e){function n(){e.removeListener("hashchange",i)}l(t)&&(e=t,t=null),t=t||{},e||(e=v(window));var o=[],i=r.bind(null,o,e,!!t.reverse);return e.on("hashchange",i),{add:u.bind(null,o),stop:n,evaluateCurrent:c.bind(null,o,e,!!t.reverse),setDefault:f.bind(null,o),replace:e.replace,go:e.go,location:e}}},{"./hash-location.js":30,"array.prototype.find":23,"path-to-regexp-with-reversible-keys":36,querystring:39,xtend:44}],32:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],33:[function(t,e,n){(function(t){!function(t,n,r){n[t]=n[t]||r(),"undefined"!=typeof e&&e.exports?e.exports=n[t]:"function"==typeof define&&define.amd&&define(function(){return n[t]})}("Promise","undefined"!=typeof t?t:this,function(){"use strict";function t(t,e){p.add(t,e),l||(l=h(p.drain))}function e(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function n(){for(var t=0;t<this.chain.length;t++)r(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function r(t,n,r){var o,i;try{n===!1?r.reject(t.msg):(o=n===!0?t.msg:n.call(void 0,t.msg),o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=e(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(t){r.reject(t)}}function o(r){var a,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(a=e(r))?t(function(){var t=new s(u);try{a.call(r,function(){o.apply(t,arguments)},function(){i.apply(t,arguments)})}catch(e){i.call(t,e)}}):(u.msg=r,u.state=1,u.chain.length>0&&t(n,u))}catch(t){i.call(new s(u),t)}}}function i(e){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=e,r.state=2,r.chain.length>0&&t(n,r))}function a(t,e,n,r){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then(function(t){n(o,t)},r)}(o)}function s(t){this.def=t,this.triggered=!1}function u(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function c(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new u(this);this.then=function(e,o){var i={success:"function"!=typeof e||e,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");i.resolve=t,i.reject=e}),r.chain.push(i),0!==r.state&&t(n,r),i.promise},this.catch=function(t){
return this.then(void 0,t)};try{e.call(void 0,function(t){o.call(r,t)},function(t){i.call(r,t)})}catch(t){i.call(r,t)}}var f,l,p,d=Object.prototype.toString,h="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),f=function(t,e,n,r){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:r!==!1})}}catch(t){f=function(t,e,n){return t[e]=n,t}}p=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,r;return{add:function(o,i){r=new t(o,i),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var t=e;for(e=n=l=void 0;t;)t.fn.call(t.self),t=t.next}}}();var v=f({},"constructor",c,!1);return c.prototype=v,f(v,"__NPO__",0,!1),f(c,"resolve",function(t){var e=this;return t&&"object"==typeof t&&1===t.__NPO__?t:new e(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),f(c,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),f(c,"all",function(t){var e=this;return"[object Array]"!=d.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=t.length,i=Array(o),s=0;a(e,t,function(t,e){i[t]=e,++s===o&&n(i)},r)})}),f(c,"race",function(t){var e=this;return"[object Array]"!=d.call(t)?e.reject(TypeError("Not an array")):new e(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");a(e,t,function(t,e){n(e)},r)})}),c})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(t,e,n){function r(t,e,n){var r=o(e,n);return 0===Object.keys(r).length?t:t+"?"+a(r)}function o(t,e){var n=e.reduce(function(t,e){return e.string||(t[e.name]=e),t},{});return Object.keys(t).filter(function(t){return!n[t]}).reduce(function(e,n){return e[n]=t[n],e},{})}var i=t("./path-parser"),a=t("querystring").stringify;e.exports=function(t,e){var n="string"==typeof t?i(t):t,o=n.allTokens,a=n.regex;if(e){var s=o.map(function(n){if(n.string)return n.string;var r="undefined"!=typeof e[n.name];if(!n.optional&&!r)throw new Error("Must supply argument "+n.name+" for path "+t);return r?n.delimiter+encodeURIComponent(e[n.name]):""}).join("");if(!a.test(s))throw new Error("Provided arguments do not match the original arguments");return r(s,e,o)}return n}},{"./path-parser":35,querystring:39}],35:[function(t,e,n){var r=t("path-to-regexp-with-reversible-keys");e.exports=function(t){var e=r(t);return{regex:e,allTokens:e.allTokens}}},{"path-to-regexp-with-reversible-keys":36}],36:[function(t,e,n){function r(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function o(t,e,n){return t.keys=e,t.allTokens=n,t}function i(t){return t.sensitive?"":"i"}function a(t,e,n){var r=t.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)e.push({name:i,delimiter:null,optional:!1,repeat:!1});return o(t,e,n)}function s(t,e,n,r){for(var a=[],s=0;s<t.length;s++)a.push(c(t[s],e,n,r).source);var u=new RegExp("(?:"+a.join("|")+")",i(n));return o(u,e,r)}function u(t,e,n){function o(t){0===s&&"/"!==t[0]&&(t="/"+t),n.push({string:t})}function i(i,u,c,f,l,p,d,h,v){if(u)return u;if(h)return"\\"+h;var m="+"===d||"*"===d,g="?"===d||"*"===d;v>s&&o(t.substring(s,v)),s=v+i.length;var y={name:f||a++,delimiter:c||"/",optional:g,repeat:m};return e.push(y),n.push(y),c=c?"\\"+c:"",l=r(l||p||"[^"+(c||"\\/")+"]+?"),m&&(l=l+"(?:"+c+l+")*"),g?"(?:"+c+"("+l+"))?":c+"("+l+")"}var a=0,s=0,u=t.replace(l,i);return s<t.length&&o(t.substring(s)),u}function c(t,e,n,r){if(e=e||[],r=r||[],f(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp)return a(t,e,n,r);if(f(t))return s(t,e,n,r);var c=n.strict,l=n.end!==!1,p=u(t,e,r),d="/"===t.charAt(t.length-1);return c||(p=(d?p.slice(0,-2):p)+"(?:\\/(?=$))?"),p+=l?"$":c&&d?"":"(?=\\/|$)",o(new RegExp("^"+p,i(n)),e,r)}var f=t("isarray");e.exports=c;var l=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:32}],37:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var l,p,d,h,v=t[f].replace(s,"%20"),m=v.indexOf(n);m>=0?(l=v.substr(0,m),p=v.substr(m+1)):(l=v,p=""),d=decodeURIComponent(l),h=decodeURIComponent(p),r(a,d)?o(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],38:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(o(a))+n;return i(t[a])?r(t[a],function(t){return s+encodeURIComponent(o(t))}).join(e):s+encodeURIComponent(o(t[a]))}).join(e):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],39:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":37,"./encode":38}],40:[function(t,e,n){e.exports=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}},{}],41:[function(t,e,n){function r(){try{for(var t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.shift(),r={},o=0;o<t.length;o+=2)r[t[o]]=t[o+1];return e(n,r)}catch(t){console.log(t)}}var o=t("riot"),i=t("xtend");e.exports=function(t){var e=i(t);return function(t){return e.makePath=r.bind(null,t.makePath),e.active=r.bind(null,t.stateIsActive),t.on("stateChangeEnd",function(){o.update()}),{render:function(t,n){var r=t.element,a=t.template,s=t.content;"string"==typeof r&&(r=document.querySelector(r));try{var u=o.mount(r,a,i(e,s))[0];u||console.error("Error creating riot tag",a,"on",r),u.root.attributes["riot-tag"]&&u.root.attributes["riot-tag"].value!==a&&(u.root.attributes["riot-tag"].value=a),n(null,u)}catch(t){n(t)}},reset:function(t,n){var r=t.domApi;r.trigger("reset"),r.opts=i(e,t.content),r.update(),n()},destroy:function(t,e){t.unmount(!0),e()},getChildElement:function(t,e){try{var n=t.root.querySelector("ui-view");e(null,n)}catch(t){e(t)}}}}}},{riot:42,xtend:44}],42:[function(t,e,n){!function(t,r){"use strict";function o(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function i(t,e){for(var n,r=e.length,o=t.length;r>o;)n=e[--r],e.splice(r,1),n.unmount()}function a(t,e){Object.keys(t.tags).forEach(function(n){var r=t.tags[n];M(r)?g(r,function(t){A(t,n,e)}):A(r,n,e)})}function s(t,e,n){var r,o=t._root;for(t._virts=[];o;)r=o.nextSibling,n?e.insertBefore(o,n._root):e.appendChild(o),t._virts.push(o),o=r}function u(t,e,n,r){for(var o,i=t._root,a=0;a<r;a++)o=i.nextSibling,e.insertBefore(i,n._root),i=o}function c(t,e,n,r,o,i,a){D(e.root)||(t?i(e,r,n,a.childNodes.length):r.insertBefore(e.root,n.root))}function f(t,e,n){T(t,"each");var r,f=typeof E(t,"no-reorder")!==ot||T(t,"no-reorder"),l=P(t),p=Y[l]||{tmpl:b(t)},h=ft.test(l),v=t.parentNode,m=document.createTextNode(""),g=j(t),y="option"===l.toLowerCase(),w=[],x=[],_="VIRTUAL"==t.tagName;n=mt.loopKeys(n),v.insertBefore(m,t),e.one("before-mount",function(){t.parentNode.removeChild(t),v.stub&&(v=e.root)}).on("update",function(){var b=mt(n.val,e),T=document.createDocumentFragment();M(b)||(r=b||!1,b=r?Object.keys(b).map(function(t){return o(n,t,b[t])}):[]);for(var k=0,E=b.length;k<E;k++){var C=b[k],j=f&&typeof C==it&&!r,S=x.indexOf(C),A=~S&&j?S:k,O=w[A];C=!r&&n.key?o(n,C,k):C,!j&&!O||j&&!~S||!O?(O=new d(p,{parent:e,isLoop:!0,hasImpl:!!Y[l],root:h?v:t.cloneNode(),item:C},t.innerHTML),O.mount(),_&&(O._root=O.root.firstChild),k!=w.length&&w[k]?(c(_,O,w[k],v,w,s,t),x.splice(k,0,C)):_?s(O,T):T.appendChild(O.root),w.splice(k,0,O),A=k):O.update(C,!0),A!==k&&j&&w[k]&&(R(b,x[k])&&c(_,O,w[k],v,w,u,t),n.pos&&(O[n.pos]=k),w.splice(k,0,w.splice(A,1)[0]),x.splice(k,0,x.splice(A,1)[0]),!g&&O.tags&&a(O,k)),O._item=C,N(O,"_parent",e)}if(i(b,w),v.insertBefore(T,m),y&&ht&&!v.multiple)for(var L=0;L<v.length;L++)if(v[L].__riot1374){v.selectedIndex=L,delete v[L].__riot1374;break}g&&(e.tags[l]=w),x=b.slice()})}function l(t,e,n,r){F(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||E(t,"each")?1:0,n){var o=j(t);o&&!t.isLoop&&n.push(O(o,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!r||G(t,e,[])}})}function p(t,e,n){function r(t,e,r){mt.hasExpr(e)&&n.push(I({dom:t,expr:e},r))}F(t,function(t){var n,o=t.nodeType;if(3==o&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==o)return(n=E(t,"each"))?(f(t,e,n),!1):(g(t.attributes,function(e){var n=e.name,o=n.split("__")[1];if(r(t,e.value,{attr:o||n,bool:o}),o)return T(t,n),!1}),!j(t)&&void 0)})}function d(t,e,n){function o(){var t=b&&v?f:h||f;g(j.attributes,function(e){var n=e.value;d[k(e.name)]=mt.hasExpr(n)?mt(n,t):n}),g(Object.keys(A),function(e){d[k(e)]=mt(A[e],t)})}function i(t){for(var e in w)typeof f[e]!==at&&U(f,e)&&(f[e]=t[e])}function a(t){g(Object.keys(t),function(e){var n=!lt.test(e)&&R(O,e);(typeof f[e]===at||n)&&(n||O.push(e),f[e]=t[e])})}function s(t){f.update(t,!0)}function u(t){if(g(E,function(e){e[t?"mount":"unmount"]()}),h){var e=t?"on":"off";v?h[e]("unmount",f.unmount):h[e]("update",s)[e]("unmount",f.unmount)}}var c,f=Z.observable(this),d=V(e.opts)||{},h=e.parent,v=e.isLoop,b=e.hasImpl,w=$(e.item),x=[],E=[],j=e.root,S=j.tagName.toLowerCase(),A={},O=[];t.name&&j._tag&&j._tag.unmount(!0),this.isMounted=!1,j.isLoop=v,j._tag=this,N(this,"_riot_id",++W),I(this,{parent:h,root:j,opts:d},w),N(this,"tags",{}),g(j.attributes,function(t){var e=t.value;mt.hasExpr(e)&&(A[t.name]=e)}),c=gt(t.tmpl,n,v),N(this,"update",function(t,e){return t=$(t),v&&a(f.parent),t&&_(w)&&(i(t),w=t),I(f,t),o(),f.trigger("update",t),m(x,f),e&&f.parent?f.parent.one("updated",function(){f.trigger("updated")}):bt(function(){f.trigger("updated")}),this}),N(this,"mixin",function(){return g(arguments,function(t){var e,n,r=[];t=typeof t===ot?Z.mixin(t):t,e=y(t)?new t:t;var o=Object.getPrototypeOf(e);do r=r.concat(Object.getOwnPropertyNames(n||e));while(n=Object.getPrototypeOf(n||e));g(r,function(t){if("init"!=t){var n=Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(o,t),r=n&&(n.get||n.set);!f.hasOwnProperty(t)&&r?Object.defineProperty(f,t,n):f[t]=y(e[t])?e[t].bind(f):e[t]}}),e.init&&e.init.bind(f)()}),this}),N(this,"mount",function(){o();var e=Z.mixin(tt);if(e)for(var n in e)e.hasOwnProperty(n)&&f.mixin(e[n]);if(f._parent&&f._parent.root.isLoop&&a(f._parent),t.fn&&t.fn.call(f,d),p(c,f,x),u(!0),t.attrs&&q(t.attrs,function(t,e){C(j,t,e)}),(t.attrs||b)&&p(f.root,f,x),f.parent&&!v||f.update(w),f.trigger("before-mount"),v&&!b)j=c.firstChild;else{for(;c.firstChild;)j.appendChild(c.firstChild);j.stub&&(j=h.root)}N(f,"root",j),v&&l(f.root,f.parent,null,!0),!f.parent||f.parent.isMounted?(f.isMounted=!0,f.trigger("mount")):f.parent.one("mount",function(){D(f.root)||(f.parent.isMounted=f.isMounted=!0,f.trigger("mount"))})}),N(this,"unmount",function(t){var e,n=j,o=n.parentNode,i=X.indexOf(f);if(f.trigger("before-unmount"),~i&&X.splice(i,1),o){if(h)e=L(h),M(e.tags[S])?g(e.tags[S],function(t,n){t._riot_id==f._riot_id&&e.tags[S].splice(n,1)}):e.tags[S]=r;else for(;n.firstChild;)n.removeChild(n.firstChild);t?(T(o,rt),T(o,nt)):o.removeChild(n)}this._virts&&g(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),f.trigger("unmount"),u(),f.off("*"),f.isMounted=!1,delete j._tag}),l(c,this,E)}function h(e,n,r,o){r[e]=function(e){var i,a=o._parent,s=o._item;if(!s)for(;a&&!s;)s=a._item,a=a._parent;e=e||t.event,U(e,"currentTarget")&&(e.currentTarget=r),U(e,"target")&&(e.target=e.srcElement),U(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=s,n.call(o,e)===!0||/radio|check/.test(r.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(i=s?L(a):o,i.update())}}function v(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function m(t,e){g(t,function(t,n){var r=t.dom,o=t.attr,i=mt(t.expr,e),a=t.parent||t.dom.parentNode;if(t.bool?i=!!i:null==i&&(i=""),t.value!==i){if(t.value=i,!o)return i+="",void(a&&(t.parent=a,"TEXTAREA"===a.tagName?(a.value=i,dt||(r.nodeValue=i)):r.nodeValue=i));if("value"===o)return void(r.value!==i&&(r.value=i,C(r,o,i)));if(T(r,o),y(i))h(o,i,r,e);else if("if"==o){var s=t.stub,u=function(){v(s.parentNode,s,r)},c=function(){v(r.parentNode,r,s)};i?s&&(u(),r.inStub=!1,D(r)||F(r,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(s=t.stub=s||document.createTextNode(""),r.parentNode?c():(e.parent||e).one("updated",c),r.inStub=!0)}else"show"===o?r.style.display=i?"":"none":"hide"===o?r.style.display=i?"none":"":t.bool?(r[o]=i,i&&C(r,o,o),ht&&"selected"===o&&"OPTION"===r.tagName&&(r.__riot1374=i)):(0===i||i&&typeof i!==it)&&(Q(o,et)&&o!=nt&&(o=o.slice(et.length)),C(r,o,i))}})}function g(t,e){for(var n,r=t?t.length:0,o=0;o<r;o++)n=t[o],null!=n&&e(n,o)===!1&&o--;return t}function y(t){return typeof t===st||!1}function b(t){if(t.outerHTML)return t.outerHTML;var e=B("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function w(t,e){if(typeof t.innerHTML!=at)t.innerHTML=e;else{var n=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(n.documentElement,!0))}}function x(t){return~pt.indexOf(t)}function _(t){return t&&typeof t===it}function T(t,e){t.removeAttribute(e)}function k(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function E(t,e){return t.getAttribute(e)}function C(t,e,n){var r=ct.exec(e);r&&r[1]?t.setAttributeNS(ut,r[1],n):t.setAttribute(e,n)}function j(t){return t.tagName&&Y[E(t,rt)||E(t,nt)||t.tagName.toLowerCase()]}function S(t,e,n){var r=n.tags[e];r?(M(r)||r!==t&&(n.tags[e]=[r]),R(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function A(t,e,n){var r,o=t.parent;o&&(r=o.tags[e],M(r)?r.splice(n,0,r.splice(r.indexOf(t),1)[0]):S(t,e,o))}function O(t,e,n,r){var o=new d(t,e,n),i=P(e.root),a=L(r);return o.parent=a,o._parent=r,S(o,i,a),a!==r&&S(o,i,r),e.root.innerHTML="",o}function L(t){for(var e=t;!j(e.root)&&e.parent;)e=e.parent;return e}function N(t,e,n,r){return Object.defineProperty(t,e,I({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function P(t){var e=j(t),n=E(t,"name"),r=n&&!mt.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase();return r}function I(t){for(var e,n=arguments,r=1;r<n.length;++r)if(e=n[r])for(var o in e)U(t,o)&&(t[o]=e[o]);return t}function R(t,e){return~t.indexOf(e)}function M(t){return Array.isArray(t)||t instanceof Array}function U(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===at||n&&n.writable}function $(t){if(!(t instanceof d||t&&typeof t.trigger==st))return t;var e={};for(var n in t)lt.test(n)||(e[n]=t[n]);return e}function F(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)F(t,e),t=t.nextSibling}}function q(t,e){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function D(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function B(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function H(t,e){return(e||document).querySelectorAll(t)}function K(t,e){return(e||document).querySelector(t)}function V(t){return Object.create(t||null)}function z(t){return E(t,"id")||E(t,"name")}function G(t,e,n){var r,o=z(t),i=function(i){R(n,o)||(r=M(i),i?(!r||r&&!R(i,t))&&(r?i.push(t):e[o]=[i,t]):e[o]=t)};o&&(mt.hasExpr(o)?e.one("mount",function(){o=z(t),i(e[o])}):i(e[o]))}function Q(t,e){return t.slice(0,e.length)===e}function J(t,e,n){var r=Y[e],o=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new d(r,{root:t,opts:n},o)),r&&r.mount&&(r.mount(),R(X,r)||X.push(r)),r}var Z={version:"v2.6.7",settings:{}},W=0,X=[],Y={},tt="__global_mixin",et="riot-",nt=et+"tag",rt="data-is",ot="string",it="object",at="undefined",st="function",ut="http://www.w3.org/1999/xlink",ct=/^xlink:(\w+)/,ft=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,lt=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,pt=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],dt=0|(t&&t.document||{}).documentMode,ht=t&&!!t.InstallTrigger;Z.observable=function(t){function e(t,e){for(var n=t.split(" "),r=n.length,o=0;o<r;o++){var i=n[o];i&&e(i,o)}}t=t||{};var n={},r=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(r,o){return"function"!=typeof o?t:(e(r,function(t,e){(n[t]=n[t]||[]).push(o),o.typed=e>0}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,o){return"*"!=r||o?e(r,function(t,e){if(o)for(var r,i=n[t],a=0;r=i&&i[a];++a)r==o&&i.splice(a--,1);else delete n[t]}):n={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(o){for(var i,a=arguments.length-1,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+1];return e(o,function(e,o){i=r.call(n[e]||[],0);for(var a,u=0;a=i[u];++u)a.busy||(a.busy=1,a.apply(t,a.typed?[e].concat(s):s),i[u]!==a&&u--,a.busy=0);n["*"]&&"*"!=e&&t.trigger.apply(t,["*",e].concat(s))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(e){function n(t){return t.split(/[\/?#]/)}function r(t,e){var n=new RegExp("^"+e[k](/\*/g,"([^/?#]+?)")[k](/\.\./,".*")+"$"),r=t.match(n);if(r)return r.slice(1)}function o(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function i(t){h=o(l,1),A[_](E,h),A[_](C,h),O[_](I,p),t&&l(!0)}function a(){this.$=[],e.observable(this),M.on("stop",this.s.bind(this)),M.on("emit",this.e.bind(this))}function s(t){return t[k](/^\/|\/$/,"")}function u(t){return"string"==typeof t}function c(t){return(t||N.href)[k](b,"")}function f(t){return"#"==v[0]?(t||N.href||"").split(v)[1]||"":(N?c(t):t||"")[k](v,"")}function l(t){var e,n=0==F;if(!(S<=F)&&(F++,$.push(function(){var e=f();(t||e!=m)&&(M[j]("emit",e),m=e)}),n)){for(;e=$.shift();)e();F=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[T]("download")||!e[T]("href")||e.target&&"_self"!=e.target||e.href.indexOf(N.href.match(b)[0])==-1||e.href!=N.href&&(e.href.split("#")[0]==N.href.split("#")[0]||"#"!=v[0]&&0!==c(e.href).indexOf(v)||"#"==v[0]&&e.href.split(v)[0]!=N.href.split(v)[0]||!d(f(e.href),e.title||O.title))||t.preventDefault()}}function d(t,e,n){return L?(t=v+s(t),e=e||O.title,n?L.replaceState(null,e,t):L.pushState(null,e,t),O.title=e,U=!1,l(),U):M[j]("emit",f(t))}var h,v,m,g,y,b=/^.+?\/\/+[^\/]+/,w="EventListener",x="remove"+w,_="add"+w,T="hasAttribute",k="replace",E="popstate",C="hashchange",j="trigger",S=3,A="undefined"!=typeof t&&t,O="undefined"!=typeof document&&document,L=A&&history,N=A&&(L.location||A.location),P=a.prototype,I=O&&O.ontouchstart?"touchstart":"click",R=!1,M=e.observable(),U=!1,$=[],F=0;P.m=function(t,e,n){!u(t)||e&&!u(e)?e?this.r(t,e):this.r("@",t):d(t,e,n||!1)},P.s=function(){this.off("*"),this.$=[]},P.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?g:y)(s(t),s(e));if("undefined"!=typeof n)return this[j].apply(null,[e].concat(n)),U=!0},this)},P.r=function(t,e){"@"!=t&&(t="/"+s(t),this.$.push(t)),this.on(t,e)};var q=new a,D=q.m.bind(q);D.create=function(){var t=new a,e=t.m.bind(t);return e.stop=t.s.bind(t),e},D.base=function(t){v=t||"#",m=f()},D.exec=function(){l(!0)},D.parser=function(t,e){t||e||(g=n,y=r),t&&(g=t),e&&(y=e)},D.query=function(){var t={},e=N.href||m;return e[k](/[?&](.+?)=([^&]*)/g,function(e,n,r){t[n]=r}),t},D.stop=function(){R&&(A&&(A[x](E,h),A[x](C,h),O[x](I,p)),M[j]("stop"),R=!1)},D.start=function(t){R||(A&&("complete"==document.readyState?i(t):A[_]("load",function(){setTimeout(function(){i(t)},1)})),R=!0)},D.base(),D.parser(),e.route=D}(Z);var vt=function(t){function e(t){return t}function n(t,e){return e||(e=b),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?c:"")}function r(t){if(t===m)return g;var e=t.split(" ");if(2!==e.length||d.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(h,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:g[4],e),e[5]=n(t.length>3?/\\({|})/g:g[5],e),e[6]=n(g[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,c),e[8]=t,e}function o(t){return t instanceof RegExp?s(t):b[t]}function i(t){(t||(t=m))!==b[8]&&(b=r(t),s=t===m?e:n,b[9]=s(g[9])),y=t}function a(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:i,get:function(){return y},enumerable:!0}),u=t,i(e)}var s,u,c="g",f=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),h=/(?=[[\]()*+?.^$|])/g,v={"(":RegExp("([()])|"+p,c),"[":RegExp("([[\\]])|"+p,c),"{":RegExp("([{}])|"+p,c)},m="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,c),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],y=t,b=[];return o.split=function(t,e,n){function r(t){e||a?c.push(t&&t.replace(n[5],"$1")):c.push(t)}function o(t,e,n){var r,o=v[e];for(o.lastIndex=n,n=1;(r=o.exec(t))&&(!r[1]||(r[1]===e?++n:--n)););return n?t.length:o.lastIndex}n||(n=b);var i,a,s,u,c=[],f=n[6];for(a=s=f.lastIndex=0;i=f.exec(t);){if(u=i.index,a){if(i[2]){f.lastIndex=o(t,i[2],f.lastIndex);continue}if(!i[3])continue}i[1]||(r(t.slice(s,u)),s=f.lastIndex,f=n[6+(a^=1)],f.lastIndex=s)}return t&&s<t.length&&r(t.slice(s)),c},o.hasExpr=function(t){return b[4].test(t)},o.loopKeys=function(t){var e=t.match(b[9]);return e?{key:e[1],pos:e[2],val:b[0]+e[3].trim()+b[1]}:{val:t.trim()}},o.array=function(t){return t?r(t):b},Object.defineProperty(o,"settings",{set:a,get:function(){return u}}),o.settings="undefined"!=typeof Z&&Z.settings||{},o.set=i,o.R_STRINGS=l,o.R_MLCOMMS=f,o.S_QBLOCKS=p,o}(),mt=function(){function e(t,e){return t?(s[t]||(s[t]=r(t))).call(e,n):t}function n(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function r(t){var e=o(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function o(t){var e,n=[],r=vt.split(t.replace(l,'"'),1);if(r.length>2||r[0]){var o,a,s=[];for(o=a=0;o<r.length;++o)e=r[o],e&&(e=1&o?i(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(s[a++]=e);e=a<2?s[0]:"["+s.join(",")+'].join("")'}else e=i(r[1],0,n);return n[0]&&(e=e.replace(p,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function i(t,e,n){function r(e,n){var r,o=1,i=d[e];for(i.lastIndex=n.lastIndex;r=i.exec(t);)if(r[0]===e)++o;else if(!--o)break;n.lastIndex=o?t.length:i.lastIndex}if(t=t.replace(f,function(t,e){return t.length>2&&!e?u+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var o,i=[],s=0;t&&(o=t.match(c))&&!o.index;){var l,p,h=/,|([[{(])|$/g;for(t=RegExp.rightContext,l=o[2]?n[o[2]].slice(1,-1).trim().replace(/\s+/g," "):o[1];p=(o=h.exec(t))[1];)r(p,h);p=t.slice(0,o.index),t=RegExp.rightContext,i[s++]=a(p,1,l)}t=s?s>1?"["+i.join(",")+'].join(" ").trim()':i[0]:a(t,e)}return t}function a(t,e,n){var r;return t=t.replace(v,function(t,e,n,o,i){return n&&(o=r?0:o+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+h+n,o&&(r="."===(i=i[o])||"("===i||"["===i)):o&&(r=!m.test(i.slice(o)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var s={};e.haveRaw=vt.hasRaw,e.hasExpr=vt.hasExpr,e.loopKeys=vt.loopKeys,e.clearCache=function(){s={}},e.errorHandler=null;var u=String.fromCharCode(8279),c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,f=RegExp(vt.S_QBLOCKS,"g"),l=/\u2057/g,p=/\u2057(\d+)~/g,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},h='"in this?this:'+("object"!=typeof t?"global":"window")+").",v=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=vt.version="v2.4.2",e}(),gt=function t(){function t(t,r,o){var i=t&&t.match(/^\s*<([-\w]+)/),a=i&&i[1].toLowerCase(),s=B("div",o&&x(a));return t=n(t,r),u.test(a)?s=e(s,t,a):w(s,t),s.stub=!0,s}function e(t,e,n){var r="o"===n[0],o=r?"select>":"table>";if(t.innerHTML="<"+o+e.trim()+"</"+o,o=t.firstChild,r)o.selectedIndex=-1;else{var i=s[n];i&&1===o.childElementCount&&(o=K(i,o))}return o}function n(t,e){if(!r.test(t))return t;var n={};return e=e&&e.replace(i,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(a,function(t,e,r){return n[e]||r||""}).replace(o,function(t,n){return e||n||""})}var r=/<yield\b/i,o=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,i=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,a=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,s={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},u=dt&&dt<10?ft:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return t}(),yt=function(e){if(!t)return{add:function(){},inject:function(){}};var n=function(){var t=B("style");C(t,"type","text/css");var e=K("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),r=n.styleSheet,o="";return Object.defineProperty(e,"styleNode",{value:n,writable:!0}),{add:function(t){o+=t},inject:function(){o&&(r?r.cssText+=o:n.innerHTML+=o,o="")}}}(Z),bt=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),r=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+r)},r)}}return e}(t||{});Z.util={brackets:vt,tmpl:mt},Z.mixin=function(){var t={},e=t[tt]={},n=0;return function(r,o,i){if(_(r))return void Z.mixin("__unnamed_"+n++,r,!0);var a=i?e:t;if(!o){if(typeof a[r]===at)throw new Error("Unregistered mixin: "+r);return a[r]}y(o)?(I(o.prototype,a[r]||{}),a[r]=o):a[r]=I(a[r]||{},o)}}(),Z.tag=function(t,e,n,r,o){return y(r)&&(o=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(y(n)?o=n:yt.add(n)),t=t.toLowerCase(),Y[t]={name:t,tmpl:e,attrs:r,fn:o},t},Z.tag2=function(t,e,n,r,o){return n&&yt.add(n),Y[t]={name:t,tmpl:e,attrs:r,fn:o},t},Z.mount=function(t,e,n){function r(t){var e="";return g(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+rt+'="'+t+'"],['+nt+'="'+t+'"]')}),e}function o(){var t=Object.keys(Y);return t+r(t)}function i(t){if(t.tagName){var r=E(t,rt)||E(t,nt);e&&r!==e&&(r=e,C(t,rt,e),C(t,nt,e));var o=J(t,r||t.tagName.toLowerCase(),n);o&&u.push(o)}else t.length&&g(t,i)}var a,s,u=[];if(yt.inject(),_(e)&&(n=e,e=0),typeof t===ot?("*"===t?t=s=o():t+=r(t.split(/, */)),a=t?H(t):[]):a=t,"*"===e){if(e=s||o(),a.tagName)a=H(e,a);else{var c=[];g(a,function(t){c.push(H(e,t))}),a=c}e=0}return i(a),u},Z.update=function(){return g(X,function(t){t.update()})},Z.vdom=X,Z.Tag=d,typeof n===it?e.exports=Z:typeof define===st&&typeof define.amd!==at?define(function(){return Z}):t.riot=Z}("undefined"!=typeof window?window:void 0)},{}],43:[function(t,e,n){e.exports=function(t){return function(){var e=this,n=Array.prototype.slice.call(arguments);return new Promise(function(r,o){n.push(function(t,e){t?o(t):r(e)});var i=t.apply(e,n),a=i&&("object"==typeof i||"function"==typeof i)&&"function"==typeof i.then;a&&r(i)})}}},{}],44:[function(t,e,n){function r(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)o.call(n,r)&&(t[r]=n[r])}return t}e.exports=r;var o=Object.prototype.hasOwnProperty},{}]},{},[11]);
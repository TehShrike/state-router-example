!function(){function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n||t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return t}()({1:[function(t,e,n){(function(n){function r(t){setTimeout(function(){t(null,o())},w)}function o(){return JSON.parse(localStorage.getItem("topics"))}function i(t,e){setTimeout(function(){e(null,a(t))},w)}function a(t){return o().find(function(e){return e.id===t})}function u(t){var e={name:t,id:y()},n=o();return n.push(e),d(e.id,[]),h(n),e}function s(t){var e=o(),r=e.findIndex(function(e){return e.id===t});e.splice(r,1),h(e),n.nextTick(function(){localStorage.removeItem(t)})}function c(t,e){"function"==typeof t&&(e=t,t=null),setTimeout(function(){t?e(null,l(t)):e(null,f())},w)}function f(){var t=o();return t.reduce(function(t,e){var n=e.id;return t[n]=l(n),t},{})}function l(t){var e=localStorage.getItem(t);return e?JSON.parse(localStorage.getItem(t)):[]}function p(t,e){var n=l(t),r={name:e,done:!1};return n.push(r),d(t,n),r}function d(t,e){localStorage.setItem(t,JSON.stringify(e)),x.emit("tasks saved",t)}function h(t){localStorage.setItem("topics",JSON.stringify(t)),x.emit("topics saved")}function v(){return{name:localStorage.getItem("currentUserName")}}function m(t){t?localStorage.setItem("currentUserName",t):localStorage.removeItem("currentUserName")}function g(){console.log("Initializing dummy data");var t={name:"Important stuff",id:y()},e={name:"Not as important",id:y()};h([t,e]),d(t.id,[{name:"Put on pants",done:!1},{name:"Visit chat room to see if you still pass the Turing test",done:!1}]),d(e.id,[{name:"Make cupcakes",done:!0},{name:"Eat cupcakes",done:!0},{name:"Write forum post rant about how chocolate cupcakes are the only good kind of cupcake",done:!1}])}var y=t("random-uuid-v4"),b=t("events").EventEmitter,w=50,x=new b;e.exports=x,x.getTopics=r,x.getTopic=i,x.addTopic=u,x.removeTopic=s,x.getTasks=c,x.saveTasks=d,x.saveTopics=h,x.getCurrentUser=v,x.saveCurrentUser=m,x.saveTask=p,function(){localStorage.getItem("topics")||g()}()}).call(this,t("_process"))},{_process:17,events:21,"random-uuid-v4":31}],2:[function(t,e,n){t("./about.tag"),e.exports=function(t){t.addState({name:"app.about",route:"/about",template:"about",activate:function(){}})}},{"./about.tag":3}],3:[function(t,e,n){var r=t("riot");e.exports=r.tag2("about",'<div class="container"> <div class="row"> <div class="col-sm-offset-2 col-sm-8"> <div class="jumbotron"> <h1>About this example</h1> </div> </div> </div> <div class="row"> <div class="col-sm-offset-3 col-sm-6"> <p> Pretty sweet, isn\'t it? Here, let me give some examples or something. </p> </div> </div> </div>',"","",function(t){})},{riot:34}],4:[function(t,e,n){t("array.prototype.findindex");var r=t("model.js");t("./app.tag"),e.exports=function(e){e.addState({name:"app",route:"/app",defaultChild:"topics",template:"app",resolve:function(t,e,n){r.getCurrentUser().name?n(null,{currentUser:r.getCurrentUser()}):n.redirect("login")},activate:function(t){var n=t.domApi;n.currentUser=r.getCurrentUser(),n.update(),n.on("logout",function(){r.saveCurrentUser(null),e.go("login")})}}),t("./about/about")(e),t("./topics/topics")(e)}},{"./about/about":2,"./app.tag":5,"./topics/topics":9,"array.prototype.findindex":15,"model.js":1}],5:[function(t,e,n){var r=t("riot");e.exports=r.tag2("app",'<nav class="navbar navbar-default"> <div class="container-fluid"> <div class="navbar-header"> <ul class="nav navbar-nav"> <li class="{active: opts.active(\'app.topics\')}"> <a href="{opts.makePath(\'app.topics\')}">Basic todo app!</a> </li> <li class="{active: opts.active(\'app.about\')}"> <a href="{opts.makePath(\'app.about\')}">About the state router</a> </li> <li> <a href="{opts.makePath(\'login\')}" on-click="logout">"Log out"</a> </li> </ul> </div> <div class="nav navbar-right"> <p class="navbar-text"> Logged in as {currentUser.name} </p> </div> </div> </nav> <ui-view></ui-view>',"","",function(t){})},{riot:34}],6:[function(t,e,n){var r=t("riot");e.exports=r.tag2("no-task-selected","<span> <p> This is a very basic todo app to show off route states. </p> <p> Click on one of the topics on the left, and watch both the url and this half of the screen change, without anything else in the dom changing! </p> </span>","","",function(t){})},{riot:34}],7:[function(t,e,n){var r=t("model.js"),o=t("async-all"),i="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}";e.exports=function(e){t("./no-task-selected.tag"),t("./tasks.tag"),e.addState({name:"app.topics.tasks",route:"/:topicId("+i+")",template:"tasks",resolve:function(t,e,n){o({topic:r.getTopic.bind(null,e.topicId),tasks:r.getTasks.bind(null,e.topicId)},n)},activate:function(t){function e(){r.saveTasks(o,n.opts.tasks)}var n=t.domApi,o=t.parameters.topicId;n.complete=function(t){t.done=!0,e()},n.restore=function(t){t.done=!1,e()},n.remove=function(t){var r=n.opts.tasks.indexOf(t);n.opts.tasks.splice(r,1),e(),n.update()},n.newTask=function(t){var e=r.saveTask(o,t);n.opts.tasks.push(e),n.update()},n.update(),n.root.querySelector(".add-new-task").focus()}}),e.addState({name:"app.topics.no-task",route:"",template:"no-task-selected"})}},{"./no-task-selected.tag":6,"./tasks.tag":8,"async-all":16,"model.js":1}],8:[function(t,e,n){var r=t("riot");e.exports=r.tag2("tasks",'<h1>{opts.topic.name}</h1> <table class="table table-striped"> <thead> <tr> <th> Task name </th> <th style="width: 100px"> Complete </th> <th style="width: 87px"> Remove </th> </tr> </thead> <tbody> <tr each="{opts.tasks}"> <td class=" center-y"> <span class="center-y"> {name} &nbsp;<span if="{done}" class="glyphicon glyphicon-ok text-success"></span> </span> </td> <td> <button type="button" if="{done}" class="btn btn-primary full-width" onclick="{parent.onRestore}">Restore</button> <button type="button" if="{!done}" class="btn btn-success full-width" onclick="{parent.onComplete}">Complete</button> </td> <td> <button class="btn btn-danger full-width" onclick="{parent.onRemove}"> Remove </button> </td> </tr> <tr> <td> <input type="text" class="form-control add-new-task" placeholder="New task" onkeyup="{newTaskKeyup}" name="newTaskName"> </td> </tr> </tbody> </table>',"","",function(t){this.newTaskKeyup=function(t){var e=this.newTaskName.value;13===t.keyCode&&e&&(this.newTaskName.value="",this.newTask(e))}.bind(this),this.onRestore=function(t){this.restore(t.item)}.bind(this),this.onComplete=function(t){this.complete(t.item)}.bind(this),this.onRemove=function(t){this.remove(t.item)}.bind(this)})},{riot:34}],9:[function(t,e,n){(function(n){var r=t("model.js");t("./topics.tag"),e.exports=function(e){e.addState({name:"app.topics",route:"/topics",defaultChild:"no-task",template:"topics",resolve:function(t,e,n){r.getTopics(function(t,e){n(null,{topics:e})})},activate:function(t){function o(t){r.getTasks(t,function(e,n){var r=n.reduce(function(t,e){return t+(e.done?0:1)},0);i.opts.tasksUndone[t]=r,i.update()})}var i=t.domApi;i.opts.tasksUndone={},i.update(),i.setFocusOnAddTopicEdit=function(){n.nextTick(function(){i.root.querySelector(".new-topic-name").focus()})},r.on("tasks saved",o),i.opts.topics.forEach(function(t){o(t.id)}),i.addTopic=function(t){var n=r.addTopic(t);i.opts.topics.push(n),o(n.id),e.go("app.topics.tasks",{topicId:n.id})},t.on("destroy",function(){r.removeListener("tasks saved",o)})}}),t("./tasks/tasks")(e)}}).call(this,t("_process"))},{"./tasks/tasks":7,"./topics.tag":10,_process:17,"model.js":1}],10:[function(t,e,n){var r=t("riot");e.exports=r.tag2("topics",'<div class="container"> <div class="row"> <div class="col-sm-4"> <div class="list-group"> <a each="{opts.topics}" href="{parent.opts.makePath(\'app.topics.tasks\', \'topicId\', id)}" class="list-group-item {parent.opts.active(\'app.topics.tasks\', \'topicId\', id) ? \'active\' : \'\'}"> {name} <span class="badge">{parent.opts.tasksUndone[id]}</span> </a> </div> <form action="" onsubmit="{onAddTopic}"> <div class="table"> <div class="table-row-group"> <div class="table-row"> <div class="table-cell"> <input if="{opts.addingTopic}" type="text" class="new-topic-name form-control" placeholder="Topic name" name="newTopic"> </div> <div class="table-cell" style="width: 60px; vertical-align: top"> <button type="submit" class="btn btn-default pull-right">Add</button> </div> </div> </div> </div> </form> </div> <div class="col-sm-8"> <ui-view></ui-view> </div> </div> </div>',"","",function(t){this.opts.addingTopic=!1,this.onAddTopic=function(){var t=this.newTopic.value;return this.opts.addingTopic&&t&&(this.newTopic.value="",this.addTopic(t)),this.opts.addingTopic=!this.opts.addingTopic,this.update(),this.opts.addingTopic&&this.setFocusOnAddTopicEdit(),!1}.bind(this)})},{riot:34}],11:[function(t,e,n){var r=t("abstract-state-router"),o=t("riot-state-renderer"),i=t("domready"),a=r(o(),"body");t("./login/login")(a),t("./app/app")(a),i(function(){a.evaluateCurrentRoute("login")})},{"./app/app":4,"./login/login":12,"abstract-state-router":14,domready:19,"riot-state-renderer":32}],12:[function(t,e,n){var r=t("model.js");t("./login.tag"),e.exports=function(t){t.addState({name:"login",route:"/login",template:"login",activate:function(e){var n=e.domApi;n.opts.login=function(e){e&&(r.saveCurrentUser(e),t.go("app"))}}})}},{"./login.tag":13,"model.js":1}],13:[function(t,e,n){var r=t("riot");e.exports=r.tag2("login",'<div class="container-fluid"> <div class="row"> <div class="col-sm-offset-3 col-sm-6"> <h1>Welcome to the abstract-state-router demo!</h1> </div> </div> <div class="row margin-top-20"> <div class="col-sm-offset-3 col-sm-6"> <div class="well"> <p class="lead"> This is a demo webapp showing off basic usage of the <a href="https://github.com/TehShrike/abstract-state-router">abstract-state-router</a> library using a few different templating libraries. </p> </div> </div> </div> <div class="row margin-top-20"> <div class="col-sm-offset-4 col-sm-4"> <div class="form-group panel"> <form onsubmit="{login}" class="panel-body" action=""> <label> Put in whatever username you feel like: <input type="text" class="form-control" name="username"> </label> <button type="submit" class="btn btn-primary">"Log in"</button> </form> </div> </div> </div> </div>',"","",function(t){this.login=function(){return t.login(this.username.value),!1}.bind(this)})},{riot:34}],14:[function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t,e){return e={exports:{}},t(e,e.exports),e.exports}function i(){var t={};return function(e){return e?(t[e]||(t[e]=p(e).keys.map(function(t){return t.name})),t[e]):[]}}function a(t){var e=t.stateState,n=t.getPathParameters,r=t.stateName,o=t.fromParameters,i=t.toParameters,a=e.get(r),u=a.querystringParameters||[],s=n(a.route).concat(u);return Array.isArray(s)&&s.some(function(t){return o[t]!==i[t]})}function u(t){var e=t.parametersChanged,n=t.original,r=t.destination,o=l({start:y(n.name),end:y(r.name)});return o.map(function(t){var o=t.start,i=t.end;return{nameBefore:o,nameAfter:i,stateNameChanged:o!==i,stateParametersChanged:o===i&&e({stateName:o,fromParameters:n.parameters,toParameters:r.parameters})}})}function s(t,e){var n=y(e);return n.filter(function(e){return t[e]}).reduce(function(e,n){return w(e,t[n])},{})}function c(t,e){return{redirectTo:{name:t,params:e}}}function f(t,e){var n=t.filter(L("resolve")),r=n.map(O("name")),o=Promise.all(n.map(function(t){return new Promise(function(n,r){var o=function(t,e){return t?r(t):n(e)};o.redirect=function(t,e){r(c(t,e))};var i=t.resolve(t.data,e,o);A(i)&&n(i)})}));return o.then(function(t){return l({stateName:r,resolveResult:t}).reduce(function(t,e){return t[e.stateName]=e.resolveResult,t},{})})}var l=r(t("combine-arrays")),p=r(t("path-to-regexp-with-reversible-keys")),d=r(t("then-denodeify")),h=r(t("eventemitter3")),v=r(t("hash-brown-router")),m=r(t("page-path-builder")),g=r(t("iso-next-tick")),y=o(function(t){t.exports=function(t){return t.split(".").reduce(function(t,e){return t.push(t.length?t[t.length-1]+"."+e:e),t},[])}}),b=function(){function t(t){var e=y(t);return e.map(function(t){if(!a[t])throw new Error("State "+t+" not found");return a[t]})}function e(t){var e=n(t);return e&&a[e]}function n(t){var e=y(t);if(e.length>1){var n=e.length-2;return e[n]}return null}function r(t){var e=y(t),n=e.filter(function(t){return!a[t]});if(n.length>0)throw new Error("State "+n[n.length-1]+" does not exist")}function o(e){return t(e).map(function(t){return"/"+(t.route||"")}).join("").replace(/\/{2,}/g,"/")}function i(t){var e=a[t],n=e&&("function"==typeof e.defaultChild?e.defaultChild():e.defaultChild);if(!n)return t;var r=t+"."+n;return i(r)}var a={};return{add:function(t,e){a[t]=e},get:function(t){return t&&a[t]},getHierarchy:t,getParent:e,getParentName:n,guaranteeAllStatesExist:r,buildFullStateRoute:o,applyDefaultChildStates:i}},w=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(e))},x=function(t){var e=i(),n=function(n){return a(w(n,{stateState:t,getPathParameters:e}))};return function(t){return u(w(t,{parametersChanged:n}))}},_=function(){var t={name:"",parameters:{}};return{get:function(){return t},set:function(e,n){t={name:e,parameters:n}}}},T=function(t){var e=!1,n=!1,r={destroy:[],change:[],create:[]};return t.forEach(function(t){e=e||t.stateParametersChanged,n=n||t.stateNameChanged,t.nameBefore&&(n?r.destroy.push(t.nameBefore):e&&r.change.push(t.nameBefore)),t.nameAfter&&n&&r.create.push(t.nameAfter)}),r},k=function(t){function e(){i=null,a&&n()}function n(){i=a,a=null,i.beginStateChange()}function r(){i.transition.cancelled=!0;var e=new Error("State transition cancelled by the state transition manager");e.wasCancelledBySomeoneElse=!0,t.emit("stateChangeCancelled",e)}function o(t){var e={cancelled:!1,cancellable:!0};return{transition:e,beginStateChange:function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(void 0,[e].concat(r))}}}var i=null,a=null,u=function(){return!!i};t.on("stateChangeAttempt",function(t){a=o(t),u()&&i.transition.cancellable?r():u()||n()}),t.on("stateChangeError",e),t.on("stateChangeCancelled",e),t.on("stateChangeEnd",e)},C={reverse:!1},E=function(t,e){var n=Promise.resolve();return Promise.all(t.map(function(r,o){return n=n.then(function(){return e(r,o,t)})}))},j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O=function(t){return function(e){return e[t]}},S=function(t){return t.slice().reverse()},L=function(t){return function(e){return"function"==typeof e[t]}},A=function(t){return t&&("object"===("undefined"==typeof t?"undefined":j(t))||"function"==typeof t)&&"function"==typeof t.then},P=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise(function(e){return e(t.apply(void 0,n))})},N=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"],I=function(t,e){function n(t,e){g(function(){if(F.emit(t,e),console.error(t+" - "+e.message),B)throw e})}function r(t){var e=M.get(t);return F.emit("beforeDestroyState",{state:e,domApi:W[t]}),Z[t].emit("destroy"),Z[t].removeAllListeners(),delete Z[t],delete J[t],V(W[t]).then(function(){delete W[t],F.emit("afterDestroyState",{state:e})})}function o(t,e){var n=W[e],r=s(J,e),o=M.get(e);return F.emit("beforeResetState",{domApi:n,content:r,state:o,parameters:t}),Z[e].emit("destroy"),delete Z[e],Q({domApi:n,content:r,template:o.template,parameters:t}).then(function(n){n&&(W[e]=n),F.emit("afterResetState",{domApi:W[e],content:r,state:o,parameters:t})})}function i(t){return new Promise(function(n){var r=M.getParent(t);if(r){var o=W[r.name];n(z(o))}else n(e)})}function a(t,e){return i(e).then(function(n){var r=M.get(e),o=s(J,e);return F.emit("beforeCreateState",{state:r,content:o,parameters:t}),G({template:r.template,element:n,content:o,parameters:t}).then(function(n){return W[e]=n,F.emit("afterCreateState",{state:r,domApi:n,content:o,parameters:t}),n})})}function u(t,e){return E(t,function(t){return a(e,t)})}function l(t,e){try{var r=M.applyDefaultChildStates(t.name);if(r===t.name)O(r,e);else{var o=A(r,e),i=K.location.get();o===i?O(r,e):F.go(r,e,{replace:!0})}}catch(t){n("stateError",t)}}function p(t){if("undefined"==typeof t)throw new Error("Expected 'state' to be passed in.");if("undefined"==typeof t.name)throw new Error("Expected the 'name' option to be passed in.");if("undefined"==typeof t.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(t).filter(function(t){return N.indexOf(t)===-1}).forEach(function(t){console.warn("Unexpected property passed to addState:",t)}),M.add(t.name,t);var e=M.buildFullStateRoute(t.name);K.add(e,function(e){return l(t,e)})}function j(t){return t.change.concat(t.create).map(M.get)}function O(t,e){F.emit("stateChangeAttempt",function(n){L(t,e,n)})}function L(t,e,i){function a(e){return function(){if(i.cancelled){var n=new Error("The transition to "+t+" was cancelled");throw n.wasCancelledBySomeoneElse=!0,n}return e.apply(void 0,arguments)}}return P(M.guaranteeAllStatesExist,t).then(function(){var n=M.get(t),r=n.defaultParameters||n.defaultQuerystringParameters||{},o=Object.keys(r).some(function(t){return"undefined"==typeof e[t]});if(o)throw c(t,w(r,e));return n}).then(a(function(t){F.emit("stateChangeStart",t,e,q(t.name)),U.set(t.name,e)})).then(function(){var n=$({original:R.get(),destination:{name:t,parameters:e}});return T(n)}).then(a(function(t){function n(t){return t.map(M.get).forEach(function(t){var n=new h,r=Object.create(n);r.domApi=W[t.name],r.data=t.data,r.parameters=e,r.content=s(J,t.name),Z[t.name]=n;try{t.activate&&t.activate(r)}catch(t){g(function(){throw t})}})}return f(j(t),w(e)).catch(function(t){throw t.stateChangeError=!0,t}).then(a(function(a){i.cancellable=!1;var s=function(){return n(t.change.concat(t.create))};return J=w(J,a),E(S(t.destroy),r).then(function(){return E(S(t.change),function(t){return o(w(e),t)})}).then(function(){return u(t.create,w(e)).then(s)})}))})).then(function(){R.set(t,e);try{F.emit("stateChangeEnd",M.get(t),e,q(t))}catch(t){n("stateError",t)}}).catch(a(function(t){return t&&t.redirectTo?(F.emit("stateChangeCancelled",t),F.go(t.redirectTo.name,t.redirectTo.params,{replace:!0})):void(t&&n("stateChangeError",t))})).catch(function(t){if(!t||!t.wasCancelledBySomeoneElse)throw new Error("This probably shouldn't happen, maybe file an issue or something "+t)})}function A(t,e,n){function r(){if(!U.get().name)throw new Error("makePath required a previous state to exist, and none was found");return U.get()}n&&n.inherit&&(e=w(r().parameters,e));var o=null===t?r().name:t,i=M.get(o)||{},a=i.defaultParameters||i.defaultQuerystringParameters;e=w(a,e),M.guaranteeAllStatesExist(o);var u=M.buildFullStateRoute(o);return m(u,e||{})}var I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},M=b(),R=_(),U=_(),F=new h,$=x(M),q=function(t){return y(t).map(M.get)};k(F);var D=w({throwOnError:!0,pathPrefix:"#"},I),B=D.throwOnError,H=D.pathPrefix,K=I.router||v(C);K.on("not found",function(t,e){F.emit("routeNotFound",t,e)});var V=null,z=null,G=null,Q=null,J={},W={},Z={},X={replace:!1};F.addState=p,F.go=function(t,e,r){r=w(X,r);var o=r.replace?K.replace:K.go;return P(A,t,e,r).then(o,function(t){return n("stateChangeError",t)})},F.evaluateCurrentRoute=function(t,e){return P(A,t,e).then(function(t){K.evaluateCurrent(t)}).catch(function(t){return n("stateError",t)})},F.makePath=function(t,e,n){return H+A(t,e,n)},F.stateIsActive=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=R.get(),r=n.name===t||0===n.name.indexOf(t+"."),o=!e;return r&&(o||Object.keys(e).every(function(t){return e[t]===n.parameters[t]}))};var Y=t(F);return V=d(Y.destroy),z=d(Y.getChildElement),G=d(Y.render),Q=d(Y.reset),F};e.exports=I},{"combine-arrays":18,eventemitter3:20,"hash-brown-router":23,"iso-next-tick":25,"page-path-builder":27,"path-to-regexp-with-reversible-keys":29,"then-denodeify":36}],15:[function(t,e,n){!function(t){if(!Array.prototype.findIndex){var e=function(t){var e=Object(this),n=Math.max(0,e.length)>>>0;if(0===n)return-1;if("function"!=typeof t||"[object Function]"!==Object.prototype.toString.call(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:void 0,o=0;o<n;o++)if(t.call(r,e[o],o,e))return o;return-1};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"findIndex",{value:e,configurable:!0,writable:!0})}catch(t){}Array.prototype.findIndex||(Array.prototype.findIndex=e)}}(this)},{}],16:[function(t,e,n){(function(t){e.exports=function(e,n){function r(){function e(){"function"==typeof n&&(c?n(c):n(null,s))}a?t.nextTick(e):e()}function o(){0!==u||i||(r(),i=!0)}var i=!1,a=!0,u=0,s={},c=null;if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("async-all requires you to pass in an object!");Object.keys(e).forEach(function(t){var n=!1;"function"==typeof e[t]?(u++,e[t](function(e,r){n||(n=!0,u--,c||(e?c=e:s[t]=r),o())})):s[t]=e[t]}),o(),a=!1}}).call(this,t("_process"))},{_process:17}],17:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function u(){m&&h&&(m=!1,h.length?v=h.concat(v):g=-1,v.length&&s())}function s(){if(!m){var t=i(u);m=!0;for(var e=v.length;e;){for(h=v,v=[];++g<e;)h&&h[g].run();g=-1,e=v.length}h=null,m=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function f(){}var l,p,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(t){p=o}}();var h,v=[],m=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||m||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=f,d.addListener=f,d.once=f,d.off=f,d.removeListener=f,d.removeAllListeners=f,d.emit=f,d.prependListener=f,d.prependOnceListener=f,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],18:[function(t,e,n){e.exports=function(t){function e(e){var r={};return n.forEach(function(n){r[n]=t[n][e]}),r}var n=Object.keys(t);n.forEach(function(e){if(!Array.isArray(t[e]))throw new Error(e+" is not an array")});for(var r=n.reduce(function(e,n){var r=t[n].length;return e>r?e:r},0),o=[],i=0;i<r;++i)o.push(e(i));return o}},{}],19:[function(t,e,n){!function(t,n){"undefined"!=typeof e?e.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[t]=n()}("domready",function(){var t,e=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(o,t=function(){for(n.removeEventListener(o,t),i=1;t=e.shift();)t()}),function(t){i?setTimeout(t,0):e.push(t)}})},{}],20:[function(t,e,n){"use strict";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function i(){this._events=new r,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,u="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(u=!1)),i.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)a.call(t,e)&&n.push(u?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},i.prototype.listeners=function(t,e){var n=u?u+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},i.prototype.emit=function(t,e,n,r,o,i){var a=u?u+t:t;if(!this._events[a])return!1;var s,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,o),!0;case 6:return f.fn.call(f.context,e,n,r,o,i),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];f.fn.apply(f.context,s)}else{var p,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;case 4:f[c].fn.call(f[c].context,e,n,r);break;default:if(!s)for(p=1,s=new Array(l-1);p<l;p++)s[p-1]=arguments[p];f[c].fn.apply(f[c].context,s)}}return!0},i.prototype.on=function(t,e,n){var r=new o(e,n||this),i=u?u+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.once=function(t,e,n){var r=new o(e,n||this,!0),i=u?u+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.removeListener=function(t,e,n,o){var i=u?u+t:t;if(!this._events[i])return this;if(!e)return 0===--this._eventsCount?this._events=new r:delete this._events[i],this;var a=this._events[i];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[i]);else{for(var s=0,c=[],f=a.length;s<f;s++)(a[s].fn!==e||o&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[i]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new r:delete this._events[i]}return this},i.prototype.removeAllListeners=function(t){var e;return t?(e=u?u+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=u,i.EventEmitter=i,"undefined"!=typeof e&&(e.exports=i)},{}],21:[function(t,e,n){function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=x(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function o(t){return void 0===t._maxListeners?r.defaultMaxListeners:t._maxListeners}function i(t,e,n){if(e)t.call(n);else for(var r=t.length,o=m(t,r),i=0;i<r;++i)o[i].call(n)}function a(t,e,n,r){if(e)t.call(n,r);else for(var o=t.length,i=m(t,o),a=0;a<o;++a)i[a].call(n,r)}function u(t,e,n,r,o){if(e)t.call(n,r,o);else for(var i=t.length,a=m(t,i),u=0;u<i;++u)a[u].call(n,r,o)}function s(t,e,n,r,o,i){if(e)t.call(n,r,o,i);else for(var a=t.length,u=m(t,a),s=0;s<a;++s)u[s].call(n,r,o,i)}function c(t,e,n,r){if(e)t.apply(n,r);else for(var o=t.length,i=m(t,o),a=0;a<o;++a)i[a].apply(n,r)}function f(t,e,n,r){var i,a,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(a=t._events,a?(a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),u=a[e]):(a=t._events=x(null),t._eventsCount=0),u){if("function"==typeof u?u=a[e]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),!u.warned&&(i=o(t),i&&i>0&&u.length>i)){u.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+u.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=u.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",s.name,s.message)}}else u=a[e]=n,++t._eventsCount;return t}function l(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];this.listener.apply(this.target,t)}}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=T.call(l,r);return o.listener=n,r.wrapFn=o,o}function d(t,e,n){var r=t._events;if(!r)return[];var o=r[e];return o?"function"==typeof o?n?[o.listener||o]:[o]:n?g(o):m(o,o.length):[]}function h(t){var e=this._events;if(e){var n=e[t];if("function"==typeof n)return 1;if(n)return n.length}return 0}function v(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function y(t){var e=function(){};return e.prototype=t,new e}function b(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return n}function w(t){var e=this;return function(){return e.apply(t,arguments)}}var x=Object.create||y,_=Object.keys||b,T=Function.prototype.bind||w;e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0;var k,C=10;try{var E={};Object.defineProperty&&Object.defineProperty(E,"x",{value:0}),k=0===E.x}catch(t){k=!1}k?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return C},set:function(t){if("number"!=typeof t||t<0||t!==t)throw new TypeError('"defaultMaxListeners" must be a positive number');C=t}}):r.defaultMaxListeners=C,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=t,this},r.prototype.getMaxListeners=function(){return o(this)},r.prototype.emit=function(t){var e,n,r,o,f,l,p="error"===t;if(l=this._events)p=p&&null==l.error;else if(!p)return!1;if(p){if(arguments.length>1&&(e=arguments[1]),e instanceof Error)throw e;var d=new Error('Unhandled "error" event. ('+e+")");throw d.context=e,d}if(n=l[t],!n)return!1;var h="function"==typeof n;switch(r=arguments.length){case 1:i(n,h,this);break;case 2:a(n,h,this,arguments[1]);break;case 3:u(n,h,this,arguments[1],arguments[2]);break;case 4:s(n,h,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(r-1),f=1;f<r;f++)o[f-1]=arguments[f];c(n,h,this,o)}return!0},r.prototype.addListener=function(t,e){return f(this,t,e,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(t,e){return f(this,t,e,!0)},r.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.on(t,p(this,t,e)),this},r.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');return this.prependListener(t,p(this,t,e)),this},r.prototype.removeListener=function(t,e){var n,r,o,i,a;if("function"!=typeof e)throw new TypeError('"listener" argument must be a function');if(r=this._events,!r)return this;if(n=r[t],!n)return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=x(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){
for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():v(n,o),1===n.length&&(r[t]=n[0]),r.removeListener&&this.emit("removeListener",t,a||e)}return this},r.prototype.removeAllListeners=function(t){var e,n,r;if(n=this._events,!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=x(null),this._eventsCount=0):n[t]&&(0===--this._eventsCount?this._events=x(null):delete n[t]),this;if(0===arguments.length){var o,i=_(n);for(r=0;r<i.length;++r)o=i[r],"removeListener"!==o&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=x(null),this._eventsCount=0,this}if(e=n[t],"function"==typeof e)this.removeListener(t,e);else if(e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},r.prototype.listeners=function(t){return d(this,t,!0)},r.prototype.rawListeners=function(t){return d(this,t,!1)},r.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},r.prototype.listenerCount=h,r.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],22:[function(t,e,n){function r(t,e){t.location.replace(o(t.location.href)+"#"+e)}function o(t){var e=t.indexOf("#");return e===-1?t:t.substring(0,e)}function i(t,e){t.location.hash=e}function a(t,e){var n=u(t.location.hash);return e?decodeURI(n):n}function u(t){return t&&"#"===t[0]?t.substr(1):t}function s(){var t=document.createElement("a");return t.href="#x x",!/x x/.test(t.hash)}var c=t("eventemitter3");e.exports=function(t){function e(e){return function(n){n!==o&&e(t,n)}}var n=new c,o="",u=s();return t.addEventListener("hashchange",function(){o!==n.get()&&(o=n.get(),n.emit("hashchange"))}),n.go=e(i),n.replace=e(r),n.get=a.bind(null,t,u),n}},{eventemitter3:20}],23:[function(t,e,n){function r(t,e,n,r){i(t,e.get(),n,r)}function o(t){var e=t.split("?");return{path:e.shift(),queryString:d.parse(e.join(""))}}function i(t,e,n,r){var i=o(e);e=i.path;var s=i.queryString,c=l(n?a(t):t,e);if(c){var f=c.exec(e),p=u(c.keys,f),d=h(s,p);c.fn(d)}else r(e,s)}function a(t){return t.slice().reverse()}function u(t,e){return t.reduce(function(t,n,r){return t[n.name]=e[r+1],t},{})}function s(t,e,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var r=p(e);r.fn=n,t.push(r)}function c(t,e,n,o,i){var a=e.get(),u=a&&("/"!==a||"/"===i);if(u){var s=t.slice();r(s,e,n,o)}else e.go(i)}function f(t){return t&&t.go&&t.replace&&t.on}function l(t,e){for(var n=0;n<t.length;++n)if(e.match(t[n]))return t[n]}var p=t("path-to-regexp-with-reversible-keys"),d=t("query-string"),h=t("xtend"),v=t("./hash-location.js"),m=t("eventemitter3");e.exports=function(t,e){function n(t,e){i.emit("not found",t,e)}function o(){e.removeListener("hashchange",u)}var i=new m;f(t)&&(e=t,t=null),t=t||{},e||(e=v(window));var a=[],u=r.bind(null,a,e,!!t.reverse,n);return e.on("hashchange",u),i.add=s.bind(null,a),i.stop=o,i.evaluateCurrent=c.bind(null,a,e,!!t.reverse,n),i.replace=e.replace,i.go=e.go,i.location=e,i}},{"./hash-location.js":22,eventemitter3:20,"path-to-regexp-with-reversible-keys":29,"query-string":30,xtend:39}],24:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],25:[function(t,e,n){(function(t){e.exports=function(e){"function"==typeof t?t(e):setTimeout(e,0)}}).call(this,t("timers").setImmediate)},{timers:37}],26:[function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=o()?Object.assign:function(t,e){for(var n,o,s=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var f in n)a.call(n,f)&&(s[f]=n[f]);if(i){o=i(n);for(var l=0;l<o.length;l++)u.call(n,o[l])&&(s[o[l]]=n[o[l]])}}return s}},{}],27:[function(t,e,n){function r(t,e,n){var r=o(e,n);return 0===Object.keys(r).length?t:t+"?"+a(r)}function o(t,e){var n=e.reduce(function(t,e){return e.string||(t[e.name]=e),t},{});return Object.keys(t).filter(function(t){return!n[t]}).reduce(function(e,n){return e[n]=t[n],e},{})}var i=t("./path-parser"),a=t("query-string").stringify;e.exports=function(t,e){var n="string"==typeof t?i(t):t,o=n.allTokens,a=n.regex;if(e){var u=o.map(function(n){if(n.string)return n.string;var r="undefined"!=typeof e[n.name];if(!n.optional&&!r)throw new Error("Must supply argument "+n.name+" for path "+t);return r?n.delimiter+encodeURIComponent(e[n.name]):""}).join("");if(!a.test(u))throw new Error("Provided arguments do not match the original arguments");return r(u,e,o)}return n}},{"./path-parser":28,"query-string":30}],28:[function(t,e,n){var r=t("path-to-regexp-with-reversible-keys");e.exports=function(t){var e=r(t);return{regex:e,allTokens:e.allTokens}}},{"path-to-regexp-with-reversible-keys":29}],29:[function(t,e,n){function r(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function o(t,e,n){return t.keys=e,t.allTokens=n,t}function i(t){return t.sensitive?"":"i"}function a(t,e,n){var r=t.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)e.push({name:i,delimiter:null,optional:!1,repeat:!1});return o(t,e,n)}function u(t,e,n,r){for(var a=[],u=0;u<t.length;u++)a.push(c(t[u],e,n,r).source);var s=new RegExp("(?:"+a.join("|")+")",i(n));return o(s,e,r)}function s(t,e,n){function o(t){0===u&&"/"!==t[0]&&(t="/"+t),n.push({string:t})}function i(i,s,c,f,l,p,d,h,v){if(s)return s;if(h)return"\\"+h;var m="+"===d||"*"===d,g="?"===d||"*"===d;v>u&&o(t.substring(u,v)),u=v+i.length;var y={name:f||a++,delimiter:c||"/",optional:g,repeat:m};return e.push(y),n.push(y),c=c?"\\"+c:"",l=r(l||p||"[^"+(c||"\\/")+"]+?"),m&&(l=l+"(?:"+c+l+")*"),g?"(?:"+c+"("+l+"))?":c+"("+l+")"}var a=0,u=0,s=t.replace(l,i);return u<t.length&&o(t.substring(u)),s}function c(t,e,n,r){if(e=e||[],r=r||[],f(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp)return a(t,e,n,r);if(f(t))return u(t,e,n,r);var c=n.strict,l=n.end!==!1,p=s(t,e,r),d="/"===t.charAt(t.length-1);return c||(p=(d?p.slice(0,-2):p)+"(?:\\/(?=$))?"),p+=l?"$":c&&d?"":"(?=\\/|$)",o(new RegExp("^"+p,i(n)),e,r)}var f=t("isarray");e.exports=c;var l=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:24}],30:[function(t,e,n){"use strict";function r(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[i(e,t),"[",r,"]"].join(""):[i(e,t),"[",i(r,t),"]=",i(n,t)].join("")};case"bracket":return function(e,n){return null===n?i(e,t):[i(e,t),"[]=",i(n,t)].join("")};default:return function(e,n){return null===n?i(e,t):[i(e,t),"=",i(n,t)].join("")}}}function o(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){return e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),void(r[t][e[1]]=n)):void(r[t]=n)};case"bracket":return function(t,n,r){return e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0===r[t]?void(r[t]=[n]):void(r[t]=[].concat(r[t],n)):void(r[t]=n)};default:return function(t,e,n){return void 0===n[t]?void(n[t]=e):void(n[t]=[].concat(n[t],e))}}}function i(t,e){return e.encode?e.strict?u(t):encodeURIComponent(t):t}function a(t){return Array.isArray(t)?t.sort():"object"==typeof t?a(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}var u=t("strict-uri-encode"),s=t("object-assign");n.extract=function(t){return t.split("?")[1]||""},n.parse=function(t,e){e=s({arrayFormat:"none"},e);var n=o(e),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=a(n):t[e]=n,t},Object.create(null))):r},n.stringify=function(t,e){var n={encode:!0,strict:!0,arrayFormat:"none"};e=s(n,e);var o=r(e);return t?Object.keys(t).sort().map(function(n){var r=t[n];if(void 0===r)return"";if(null===r)return i(n,e);if(Array.isArray(r)){var a=[];return r.slice().forEach(function(t){void 0!==t&&a.push(o(n,t,a.length))}),a.join("&")}return i(n,e)+"="+i(r,e)}).filter(function(t){return t.length>0}).join("&"):""}},{"object-assign":26,"strict-uri-encode":35}],31:[function(t,e,n){e.exports=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)})}},{}],32:[function(t,e,n){function r(){try{for(var t=Array.prototype.slice.call(arguments),e=t.shift(),n=t.shift(),r={},o=0;o<t.length;o+=2)r[t[o]]=t[o+1];return e(n,r)}catch(t){console.log(t)}}var o=t("riot"),i=t("xtend");e.exports=function(t){var e=i(t);return function(t){return e.makePath=r.bind(null,t.makePath),e.active=r.bind(null,t.stateIsActive),t.on("stateChangeEnd",function(){o.update()}),{render:function(t,n){var r=t.element,a=t.template,u=t.content;"string"==typeof r&&(r=document.querySelector(r));try{var s=o.mount(r,a,i(e,u))[0];s||console.error("Error creating riot tag",a,"on",r),s.root.attributes["riot-tag"]&&s.root.attributes["riot-tag"].value!==a&&(s.root.attributes["riot-tag"].value=a),n(null,s)}catch(t){n(t)}},reset:function(t,n){var r=t.domApi;r.trigger("reset"),r.opts=i(e,t.content),r.update(),n()},destroy:function(t,e){t.unmount(!0),e()},getChildElement:function(t,e){try{var n=t.root.querySelector("ui-view");e(null,n)}catch(t){e(t)}}}}}},{riot:33,xtend:39}],33:[function(t,e,n){!function(t,r){"use strict";function o(t,e,n){var r={};return r[t.key]=e,t.pos&&(r[t.pos]=n),r}function i(t,e){for(var n,r=e.length,o=t.length;r>o;)n=e[--r],e.splice(r,1),n.unmount()}function a(t,e){Object.keys(t.tags).forEach(function(n){var r=t.tags[n];R(r)?g(r,function(t){S(t,n,e)}):S(r,n,e)})}function u(t,e,n){var r,o=t._root;for(t._virts=[];o;)r=o.nextSibling,n?e.insertBefore(o,n._root):e.appendChild(o),t._virts.push(o),o=r}function s(t,e,n,r){for(var o,i=t._root,a=0;a<r;a++)o=i.nextSibling,e.insertBefore(i,n._root),i=o}function c(t,e,n,r,o,i,a){D(e.root)||(t?i(e,r,n,a.childNodes.length):r.insertBefore(e.root,n.root))}function f(t,e,n){T(t,"each");var r,f=typeof C(t,"no-reorder")!==ot||T(t,"no-reorder"),l=N(t),p=Y[l]||{tmpl:b(t)},h=ft.test(l),v=t.parentNode,m=document.createTextNode(""),g=j(t),y="option"===l.toLowerCase(),w=[],x=[],_="VIRTUAL"==t.tagName;n=mt.loopKeys(n),v.insertBefore(m,t),e.one("before-mount",function(){t.parentNode.removeChild(t),v.stub&&(v=e.root)}).on("update",function(){var b=mt(n.val,e),T=document.createDocumentFragment();R(b)||(r=b||!1,b=r?Object.keys(b).map(function(t){return o(n,t,b[t])}):[]);for(var k=0,C=b.length;k<C;k++){var E=b[k],j=f&&typeof E==it&&!r,O=x.indexOf(E),S=~O&&j?O:k,L=w[S];E=!r&&n.key?o(n,E,k):E,!j&&!L||j&&!~O||!L?(L=new d(p,{parent:e,isLoop:!0,hasImpl:!!Y[l],root:h?v:t.cloneNode(),item:E},t.innerHTML),L.mount(),_&&(L._root=L.root.firstChild),k!=w.length&&w[k]?(c(_,L,w[k],v,w,u,t),x.splice(k,0,E)):_?u(L,T):T.appendChild(L.root),w.splice(k,0,L),S=k):L.update(E,!0),S!==k&&j&&w[k]&&(M(b,x[k])&&c(_,L,w[k],v,w,s,t),n.pos&&(L[n.pos]=k),w.splice(k,0,w.splice(S,1)[0]),x.splice(k,0,x.splice(S,1)[0]),!g&&L.tags&&a(L,k)),L._item=E,P(L,"_parent",e)}if(i(b,w),v.insertBefore(T,m),y&&ht&&!v.multiple)for(var A=0;A<v.length;A++)if(v[A].__riot1374){v.selectedIndex=A,delete v[A].__riot1374;break}g&&(e.tags[l]=w),x=b.slice()})}function l(t,e,n,r){$(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||C(t,"each")?1:0,n){var o=j(t);o&&!t.isLoop&&n.push(L(o,{root:t,parent:e},t.innerHTML,e))}t.isLoop&&!r||G(t,e,[])}})}function p(t,e,n){function r(t,e,r){mt.hasExpr(e)&&n.push(I({dom:t,expr:e},r))}$(t,function(t){var n,o=t.nodeType;if(3==o&&"STYLE"!=t.parentNode.tagName&&r(t,t.nodeValue),1==o)return(n=C(t,"each"))?(f(t,e,n),!1):(g(t.attributes,function(e){var n=e.name,o=n.split("__")[1];if(r(t,e.value,{attr:o||n,bool:o}),o)return T(t,n),!1}),!j(t)&&void 0)})}function d(t,e,n){function o(){var t=b&&v?f:h||f;g(j.attributes,function(e){if(!(e.name in S)){var n=e.value;d[k(e.name)]=mt.hasExpr(n)?mt(n,t):n}}),g(Object.keys(S),function(e){d[k(e)]=mt(S[e],t)})}function i(t){for(var e in w)typeof f[e]!==at&&U(f,e)&&(f[e]=t[e])}function a(t){g(Object.keys(t),function(e){var n=!lt.test(e)&&M(L,e);(typeof f[e]===at||n)&&(n||L.push(e),f[e]=t[e])})}function u(t){f.update(t,!0)}function s(t){if(g(C,function(e){e[t?"mount":"unmount"]()}),h){var e=t?"on":"off";v?h[e]("unmount",f.unmount):h[e]("update",u)[e]("unmount",f.unmount)}}var c,f=W.observable(this),d=V(e.opts)||{},h=e.parent,v=e.isLoop,b=e.hasImpl,w=F(e.item),x=[],C=[],j=e.root,O=j.tagName.toLowerCase(),S={},L=[];t.name&&j._tag&&j._tag.unmount(!0),this.isMounted=!1,j.isLoop=v,j._tag=this,P(this,"_riot_id",++Z),I(this,{parent:h,root:j,opts:d},w),P(this,"tags",{}),g(j.attributes,function(t){var e=t.value;mt.hasExpr(e)&&(S[t.name]=e)}),c=gt(t.tmpl,n,v),P(this,"update",function(t,e){return t=F(t),v&&a(f.parent),t&&_(w)&&(i(t),w=t),I(f,t),o(),f.trigger("update",t),m(x,f),e&&f.parent?f.parent.one("updated",function(){f.trigger("updated")}):bt(function(){f.trigger("updated")}),this}),P(this,"mixin",function(){return g(arguments,function(t){var e,n,r=[];t=typeof t===ot?W.mixin(t):t,e=y(t)?new t:t;var o=Object.getPrototypeOf(e);do r=r.concat(Object.getOwnPropertyNames(n||e));while(n=Object.getPrototypeOf(n||e));g(r,function(t){if("init"!=t&&"__proto__"!=t){var n=Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(o,t),r=n&&(n.get||n.set);!f.hasOwnProperty(t)&&r?Object.defineProperty(f,t,n):f[t]=y(e[t])?e[t].bind(f):e[t]}}),e.init&&e.init.bind(f)()}),this}),P(this,"mount",function(){o();var e=W.mixin(tt);if(e)for(var n in e)e.hasOwnProperty(n)&&f.mixin(e[n]);if(f._parent&&f._parent.root.isLoop&&a(f._parent),t.fn&&t.fn.call(f,d),p(c,f,x),s(!0),t.attrs&&q(t.attrs,function(t,e){E(j,t,e)}),(t.attrs||b)&&p(f.root,f,x),f.parent&&!v||f.update(w),f.trigger("before-mount"),v&&!b)j=c.firstChild;else{for(;c.firstChild;)j.appendChild(c.firstChild);j.stub&&(j=h.root)}P(f,"root",j),v&&l(f.root,f.parent,null,!0),!f.parent||f.parent.isMounted?(f.isMounted=!0,f.trigger("mount")):f.parent.one("mount",function(){D(f.root)||(f.parent.isMounted=f.isMounted=!0,f.trigger("mount"))})}),P(this,"unmount",function(t){var e,n=j,o=n.parentNode,i=X.indexOf(f);if(f.trigger("before-unmount"),~i&&X.splice(i,1),o){if(h)e=A(h),R(e.tags[O])?g(e.tags[O],function(t,n){t._riot_id==f._riot_id&&e.tags[O].splice(n,1)}):e.tags[O]=r;else for(;n.firstChild;)n.removeChild(n.firstChild);t?(T(o,rt),T(o,nt)):o.removeChild(n)}this._virts&&g(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),f.trigger("unmount"),s(),f.off("*"),f.isMounted=!1,delete j._tag}),l(c,this,C)}function h(e,n,r,o){r[e]=function(e){var i,a=o._parent,u=o._item;if(!u)for(;a&&!u;)u=a._item,a=a._parent;e=e||t.event,U(e,"currentTarget")&&(e.currentTarget=r),U(e,"target")&&(e.target=e.srcElement),U(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=u,n.call(o,e)===!0||/radio|check/.test(r.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(i=u?A(a):o,i.update())}}function v(t,e,n){t&&(t.insertBefore(n,e),t.removeChild(e))}function m(t,e){g(t,function(t,n){var r=t.dom,o=t.attr,i=mt(t.expr,e),a=t.parent||t.dom.parentNode;if(t.bool?i=!!i:null==i&&(i=""),t.value!==i){if(t.value=i,!o)return i+="",void(a&&(t.parent=a,"TEXTAREA"===a.tagName?(a.value=i,dt||(r.nodeValue=i)):r.nodeValue=i));if("value"===o)return void(r.value!==i&&(r.value=i,E(r,o,i)));if(T(r,o),y(i))h(o,i,r,e);else if("if"==o){var u=t.stub,s=function(){v(u.parentNode,u,r)},c=function(){v(r.parentNode,r,u)};i?u&&(s(),r.inStub=!1,D(r)||$(r,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(u=t.stub=u||document.createTextNode(""),r.parentNode?c():(e.parent||e).one("updated",c),r.inStub=!0)}else"show"===o?r.style.display=i?"":"none":"hide"===o?r.style.display=i?"none":"":t.bool?(r[o]=i,i&&E(r,o,o),ht&&"selected"===o&&"OPTION"===r.tagName&&(r.__riot1374=i)):(0===i||i&&typeof i!==it)&&(Q(o,et)&&o!=nt&&(o=o.slice(et.length)),E(r,o,i))}})}function g(t,e){for(var n,r=t?t.length:0,o=0;o<r;o++)n=t[o],null!=n&&e(n,o)===!1&&o--;return t}function y(t){return typeof t===ut||!1}function b(t){if(t.outerHTML)return t.outerHTML;var e=B("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}function w(t,e){if(typeof t.innerHTML!=at)t.innerHTML=e;else{var n=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(n.documentElement,!0))}}function x(t){return~pt.indexOf(t)}function _(t){return t&&typeof t===it}function T(t,e){t.removeAttribute(e)}function k(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function C(t,e){return t.getAttribute(e)}function E(t,e,n){var r=ct.exec(e);r&&r[1]?t.setAttributeNS(st,r[1],n):t.setAttribute(e,n)}function j(t){return t.tagName&&Y[C(t,rt)||C(t,nt)||t.tagName.toLowerCase()]}function O(t,e,n){var r=n.tags[e];r?(R(r)||r!==t&&(n.tags[e]=[r]),M(n.tags[e],t)||n.tags[e].push(t)):n.tags[e]=t}function S(t,e,n){var r,o=t.parent;o&&(r=o.tags[e],R(r)?r.splice(n,0,r.splice(r.indexOf(t),1)[0]):O(t,e,o))}function L(t,e,n,r){var o=new d(t,e,n),i=N(e.root),a=A(r);return o.parent=a,o._parent=r,O(o,i,a),a!==r&&O(o,i,r),e.root.innerHTML="",o}function A(t){for(var e=t;!j(e.root)&&e.parent;)e=e.parent;return e}function P(t,e,n,r){return Object.defineProperty(t,e,I({value:n,enumerable:!1,writable:!1,configurable:!0},r)),t}function N(t){var e=j(t),n=C(t,"name"),r=n&&!mt.hasExpr(n)?n:e?e.name:t.tagName.toLowerCase();return r}function I(t){for(var e,n=arguments,r=1;r<n.length;++r)if(e=n[r])for(var o in e)U(t,o)&&(t[o]=e[o]);return t}function M(t,e){return~t.indexOf(e)}function R(t){return Array.isArray(t)||t instanceof Array}function U(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===at||n&&n.writable}function F(t){if(!(t instanceof d||t&&typeof t.trigger==ut))return t;var e={};for(var n in t)lt.test(n)||(e[n]=t[n]);return e}function $(t,e){if(t){if(e(t)===!1)return;for(t=t.firstChild;t;)$(t,e),t=t.nextSibling}}function q(t,e){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(t);)e(n[1].toLowerCase(),n[2]||n[3]||n[4])}function D(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function B(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function H(t,e){return(e||document).querySelectorAll(t)}function K(t,e){return(e||document).querySelector(t)}function V(t){return Object.create(t||null)}function z(t){return C(t,"id")||C(t,"name")}function G(t,e,n){var r,o=z(t),i=function(i){M(n,o)||(r=R(i),i?(!r||r&&!M(i,t))&&(r?i.push(t):e[o]=[i,t]):e[o]=t)};o&&(mt.hasExpr(o)?e.one("mount",function(){o=z(t),i(e[o])}):i(e[o]))}function Q(t,e){return t.slice(0,e.length)===e}function J(t,e,n){var r=Y[e],o=t._innerHTML=t._innerHTML||t.innerHTML;return t.innerHTML="",r&&t&&(r=new d(r,{root:t,opts:n},o)),r&&r.mount&&(r.mount(),M(X,r)||X.push(r)),r}var W={version:"v2.6.9",settings:{}},Z=0,X=[],Y={},tt="__global_mixin",et="riot-",nt=et+"tag",rt="data-is",ot="string",it="object",at="undefined",ut="function",st="http://www.w3.org/1999/xlink",ct=/^xlink:(\w+)/,ft=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,lt=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,pt=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],dt=0|(t&&t.document||{}).documentMode,ht=t&&!!t.InstallTrigger;W.observable=function(t){function e(t,e){for(var n=t.split(" "),r=n.length,o=0;o<r;o++){var i=n[o];i&&e(i,o)}}t=t||{};var n={},r=Array.prototype.slice;return Object.defineProperties(t,{on:{value:function(r,o){return"function"!=typeof o?t:(e(r,function(t,e){(n[t]=n[t]||[]).push(o),o.typed=e>0}),t)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,o){return"*"!=r||o?e(r,function(t,e){if(o)for(var r,i=n[t],a=0;r=i&&i[a];++a)r==o&&i.splice(a--,1);else delete n[t]}):n={},t},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,n){function r(){t.off(e,r),n.apply(t,arguments)}return t.on(e,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(o){for(var i,a=arguments.length-1,u=new Array(a),s=0;s<a;s++)u[s]=arguments[s+1];return e(o,function(e,o){i=r.call(n[e]||[],0);for(var a,s=0;a=i[s];++s)a.busy||(a.busy=1,a.apply(t,a.typed?[e].concat(u):u),i[s]!==a&&s--,a.busy=0);n["*"]&&"*"!=e&&t.trigger.apply(t,["*",e].concat(u))}),t},enumerable:!1,writable:!1,configurable:!1}}),t},function(e){function n(t){return t.split(/[\/?#]/)}function r(t,e){var n=new RegExp("^"+e[k](/\*/g,"([^/?#]+?)")[k](/\.\./,".*")+"$"),r=t.match(n);if(r)return r.slice(1)}function o(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function i(t){h=o(l,1),S[_](C,h),S[_](E,h),L[_](I,p),t&&l(!0)}function a(){this.$=[],e.observable(this),R.on("stop",this.s.bind(this)),R.on("emit",this.e.bind(this))}function u(t){return t[k](/^\/|\/$/,"")}function s(t){return"string"==typeof t}function c(t){return(t||P.href)[k](b,"")}function f(t){return"#"==v[0]?(t||P.href||"").split(v)[1]||"":(P?c(t):t||"")[k](v,"")}function l(t){var e,n=0==$;if(!(O<=$)&&($++,F.push(function(){var e=f();(t||e!=m)&&(R[j]("emit",e),m=e)}),n)){for(;e=F.shift();)e();$=0}}function p(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[T]("download")||!e[T]("href")||e.target&&"_self"!=e.target||e.href.indexOf(P.href.match(b)[0])==-1||e.href!=P.href&&(e.href.split("#")[0]==P.href.split("#")[0]||"#"!=v[0]&&0!==c(e.href).indexOf(v)||"#"==v[0]&&e.href.split(v)[0]!=P.href.split(v)[0]||!d(f(e.href),e.title||L.title))||t.preventDefault()}}function d(t,e,n){return A?(t=v+u(t),e=e||L.title,n?A.replaceState(null,e,t):A.pushState(null,e,t),L.title=e,U=!1,l(),U):R[j]("emit",f(t))}var h,v,m,g,y,b=/^.+?\/\/+[^\/]+/,w="EventListener",x="remove"+w,_="add"+w,T="hasAttribute",k="replace",C="popstate",E="hashchange",j="trigger",O=3,S="undefined"!=typeof t&&t,L="undefined"!=typeof document&&document,A=S&&history,P=S&&(A.location||S.location),N=a.prototype,I=L&&L.ontouchstart?"touchstart":"click",M=!1,R=e.observable(),U=!1,F=[],$=0;N.m=function(t,e,n){!s(t)||e&&!s(e)?e?this.r(t,e):this.r("@",t):d(t,e,n||!1)},N.s=function(){this.off("*"),this.$=[]},N.e=function(t){this.$.concat("@").some(function(e){var n=("@"==e?g:y)(u(t),u(e));if("undefined"!=typeof n)return this[j].apply(null,[e].concat(n)),U=!0},this)},N.r=function(t,e){"@"!=t&&(t="/"+u(t),this.$.push(t)),this.on(t,e)};var q=new a,D=q.m.bind(q);D.create=function(){var t=new a,e=t.m.bind(t);return e.stop=t.s.bind(t),e},D.base=function(t){v=t||"#",m=f()},D.exec=function(){l(!0)},D.parser=function(t,e){t||e||(g=n,y=r),t&&(g=t),e&&(y=e)},D.query=function(){var t={},e=P.href||m;return e[k](/[?&](.+?)=([^&]*)/g,function(e,n,r){t[n]=r}),t},D.stop=function(){M&&(S&&(S[x](C,h),S[x](E,h),L[x](I,p)),R[j]("stop"),M=!1)},D.start=function(t){M||(S&&("complete"==document.readyState?i(t):S[_]("load",function(){setTimeout(function(){i(t)},1)})),M=!0)},D.base(),D.parser(),e.route=D}(W);var vt=function(t){function e(t){return t}function n(t,e){return e||(e=b),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?c:"")}function r(t){if(t===m)return g;var e=t.split(" ");if(2!==e.length||d.test(t))throw new Error('Unsupported brackets "'+t+'"');return e=e.concat(t.replace(h,"\\").split(" ")),e[4]=n(e[1].length>1?/{[\S\s]*?}/:g[4],e),e[5]=n(t.length>3?/\\({|})/g:g[5],e),e[6]=n(g[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+p,c),e[8]=t,e}function o(t){return t instanceof RegExp?u(t):b[t]}function i(t){(t||(t=m))!==b[8]&&(b=r(t),u=t===m?e:n,b[9]=u(g[9])),y=t}function a(t){var e;t=t||{},e=t.brackets,Object.defineProperty(t,"brackets",{set:i,get:function(){return y},enumerable:!0}),s=t,i(e)}var u,s,c="g",f=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),h=/(?=[[\]()*+?.^$|])/g,v={"(":RegExp("([()])|"+p,c),"[":RegExp("([[\\]])|"+p,c),"{":RegExp("([{}])|"+p,c)},m="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,c),m,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],y=t,b=[];return o.split=function(t,e,n){function r(t){e||a?c.push(t&&t.replace(n[5],"$1")):c.push(t)}function o(t,e,n){var r,o=v[e];for(o.lastIndex=n,n=1;(r=o.exec(t))&&(!r[1]||(r[1]===e?++n:--n)););return n?t.length:o.lastIndex}n||(n=b);var i,a,u,s,c=[],f=n[6];for(a=u=f.lastIndex=0;i=f.exec(t);){if(s=i.index,a){if(i[2]){f.lastIndex=o(t,i[2],f.lastIndex);continue}if(!i[3])continue}i[1]||(r(t.slice(u,s)),u=f.lastIndex,f=n[6+(a^=1)],f.lastIndex=u)}return t&&u<t.length&&r(t.slice(u)),c},o.hasExpr=function(t){return b[4].test(t)},o.loopKeys=function(t){var e=t.match(b[9]);return e?{key:e[1],pos:e[2],val:b[0]+e[3].trim()+b[1]}:{val:t.trim()}},o.array=function(t){return t?r(t):b},Object.defineProperty(o,"settings",{set:a,get:function(){return s}}),o.settings="undefined"!=typeof W&&W.settings||{},o.set=i,o.R_STRINGS=l,o.R_MLCOMMS=f,o.S_QBLOCKS=p,o}(),mt=function(){function e(t,e){return t?(u[t]||(u[t]=r(t))).call(e,n):t}function n(t,n){e.errorHandler&&(t.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},e.errorHandler(t))}function r(t){var e=o(t);return"try{return "!==e.slice(0,11)&&(e="return "+e),new Function("E",e+";")}function o(t){var e,n=[],r=vt.split(t.replace(l,'"'),1);if(r.length>2||r[0]){var o,a,u=[];for(o=a=0;o<r.length;++o)e=r[o],e&&(e=1&o?i(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[a++]=e);e=a<2?u[0]:"["+u.join(",")+'].join("")'}else e=i(r[1],0,n);return n[0]&&(e=e.replace(p,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}function i(t,e,n){function r(e,n){var r,o=1,i=d[e];for(i.lastIndex=n.lastIndex;r=i.exec(t);)if(r[0]===e)++o;else if(!--o)break;n.lastIndex=o?t.length:i.lastIndex}if(t=t.replace(f,function(t,e){return t.length>2&&!e?s+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var o,i=[],u=0;t&&(o=t.match(c))&&!o.index;){var l,p,h=/,|([[{(])|$/g;for(t=RegExp.rightContext,l=o[2]?n[o[2]].slice(1,-1).trim().replace(/\s+/g," "):o[1];p=(o=h.exec(t))[1];)r(p,h);p=t.slice(0,o.index),t=RegExp.rightContext,i[u++]=a(p,1,l)}t=u?u>1?"["+i.join(",")+'].join(" ").trim()':i[0]:a(t,e)}return t}function a(t,e,n){var r;return t=t.replace(v,function(t,e,n,o,i){return n&&(o=r?0:o+t.length,"this"!==n&&"global"!==n&&"window"!==n?(t=e+'("'+n+h+n,o&&(r="."===(i=i[o])||"("===i||"["===i)):o&&(r=!m.test(i.slice(o)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),n?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var u={};e.haveRaw=vt.hasRaw,e.hasExpr=vt.hasExpr,e.loopKeys=vt.loopKeys,e.clearCache=function(){u={}},e.errorHandler=null;var s=String.fromCharCode(8279),c=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,f=RegExp(vt.S_QBLOCKS,"g"),l=/\u2057/g,p=/\u2057(\d+)~/g,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},h='"in this?this:'+("object"!=typeof t?"global":"window")+").",v=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=vt.version="v2.4.2",e}(),gt=function t(){function t(t,r,o){var i=t&&t.match(/^\s*<([-\w]+)/),a=i&&i[1].toLowerCase(),u=B("div",o&&x(a));return t=n(t,r),s.test(a)?u=e(u,t,a):w(u,t),u.stub=!0,u}function e(t,e,n){var r="o"===n[0],o=r?"select>":"table>";if(t.innerHTML="<"+o+e.trim()+"</"+o,o=t.firstChild,r)o.selectedIndex=-1;else{var i=u[n];i&&1===o.childElementCount&&(o=K(i,o))}return o}function n(t,e){if(!r.test(t))return t;var n={};return e=e&&e.replace(i,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(a,function(t,e,r){return n[e]||r||""}).replace(o,function(t,n){return e||n||""})}var r=/<yield\b/i,o=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,i=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,a=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,u={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},s=dt&&dt<10?ft:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return t}(),yt=function(e){if(!t)return{add:function(){},inject:function(){}};var n=function(){var t=B("style");E(t,"type","text/css");var e=K("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),r=n.styleSheet,o="";return Object.defineProperty(e,"styleNode",{value:n,writable:!0}),{add:function(t){o+=t},inject:function(){o&&(r?r.cssText+=o:n.innerHTML+=o,o="")}}}(W),bt=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var n=0;e=function(t){var e=Date.now(),r=Math.max(16-(e-n),0);setTimeout(function(){t(n=e+r)},r)}}return e}(t||{});W.util={brackets:vt,tmpl:mt},W.mixin=function(){var t={},e=t[tt]={},n=0;return function(r,o,i){if(_(r))return void W.mixin("__unnamed_"+n++,r,!0);var a=i?e:t;if(!o){if(typeof a[r]===at)throw new Error("Unregistered mixin: "+r);return a[r]}y(o)?(I(o.prototype,a[r]||{}),a[r]=o):a[r]=I(a[r]||{},o)}}(),W.tag=function(t,e,n,r,o){return y(r)&&(o=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(y(n)?o=n:yt.add(n)),t=t.toLowerCase(),Y[t]={name:t,tmpl:e,attrs:r,fn:o},t},W.tag2=function(t,e,n,r,o){return n&&yt.add(n),Y[t]={name:t,tmpl:e,attrs:r,fn:o},t},W.mount=function(t,e,n){function r(t){var e="";return g(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+rt+'="'+t+'"],['+nt+'="'+t+'"]')}),e}function o(){var t=Object.keys(Y);return t+r(t)}function i(t){if(t.tagName){var r=C(t,rt)||C(t,nt);e&&r!==e&&(r=e,E(t,rt,e),E(t,nt,e));var o=J(t,r||t.tagName.toLowerCase(),n);o&&s.push(o)}else t.length&&g(t,i)}var a,u,s=[];if(yt.inject(),_(e)&&(n=e,e=0),typeof t===ot?("*"===t?t=u=o():t+=r(t.split(/, */)),a=t?H(t):[]):a=t,"*"===e){if(e=u||o(),a.tagName)a=H(e,a);else{var c=[];g(a,function(t){c.push(H(e,t))}),a=c}e=0}return i(a),s},W.update=function(){return g(X,function(t){t.update()})},W.vdom=X,W.Tag=d,typeof n===it?e.exports=W:typeof define===ut&&typeof define.amd!==at?define(function(){return W}):t.riot=W}("undefined"!=typeof window?window:void 0)},{}],34:[function(t,e,n){arguments[4][33][0].apply(n,arguments);
},{dup:33}],35:[function(t,e,n){"use strict";e.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},{}],36:[function(t,e,n){e.exports=function(t){return function(){var e=this,n=Array.prototype.slice.call(arguments);return new Promise(function(r,o){n.push(function(t,e){t?o(t):r(e)});var i=t.apply(e,n),a=i&&("object"==typeof i||"function"==typeof i)&&"function"==typeof i.then;a&&r(i)})}}},{}],37:[function(t,e,n){(function(e,r){function o(t,e){this._id=t,this._clearFn=e}var i=t("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&u.call(arguments,1);return s[e]=!0,i(function(){s[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))}),e},n.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":38,timers:37}],38:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{dup:17}],39:[function(t,e,n){function r(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)o.call(n,r)&&(t[r]=n[r])}return t}e.exports=r;var o=Object.prototype.hasOwnProperty},{}]},{},[11]);
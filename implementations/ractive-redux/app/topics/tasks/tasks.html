<h1>{{topic.name}}</h1>

<table class="table table-striped">
	<thead>
		<tr>
			<th>
				Task name
			</th>
			<th style="width: 100px">
				Complete
			</th>
			<th style="width: 87px">
				Remove
			</th>
		</tr>
	</thead>
	<tbody>
		{{#tasks:i}}
			<tr>
				<td class="{{#done}}text-muted{{/}} center-y">
					<span class="center-y">
						{{name}} &nbsp;{{#done}}<span class="glyphicon glyphicon-ok text-success"></span>{{/}}
					</span>

				</td>
				<td>
					{{#if done}}
						<button
						class="btn btn-primary full-width"
						on-click="fire('dispatch', 'SET_TASK_DONE', { index: i, done: false })">
							Restore
						</button>
					{{else}}
						<button
						class="btn btn-success full-width"
						on-click="fire('dispatch', 'SET_TASK_DONE', { index: i, done: true })">
							Complete
						</button>
					{{/if}}
				</td>
				<td>
					<button
					class="btn btn-danger full-width"
					on-click="fire('dispatch', 'REMOVE_TASK', { index: i })">
						Remove
					</button>
				</td>
			</tr>
		{{/tasks}}
		<tr>
			<td>
				<form action="" onsubmit="return false" on-submit="fire('dispatch', 'ADD_NEW_TASK')">
					<input type="text"
					class="form-control add-new-task"
					placeholder="New task"
					value="{{newTaskName}}"
					on-change="fire('dispatchInput', 'SET_NEW_TASK', event.node)">
				</form>
			</td>
		</tr>
	</tbody>
</table>


<div class="container">
	<div class="row">
		<div class="col-sm-4">
			<div class="list-group">
				{{#topics}}
					<a href="{{ makePath('app.topics.tasks', { topicId: id }) }}"
					class="list-group-item"
					decorator="active:'app.topics.tasks','topicId:{{id}}'">
						{{name}} <span class="badge">{{ tasksUndone[id] }}</span>
					</a>
				{{/topics}}
			</div>
			<form action="" onsubmit="return false" on-submit="fire('dispatch', 'ADD_TOPIC')">
				<div class="table">
					<div class="table-row-group">
						<div class="table-row">
							<div class="table-cell">
								<input type="text"
								on-change="fire('dispatchInput', 'SET_NEW_TOPIC', event.node)"
								class="new-topic-name form-control {{^addingTopic}}hidden{{/addingTopic}}"
								placeholder="Topic name">
							</div>
							<div class="table-cell" style="width: 60px; vertical-align: top">
								{{#if addingTopic}}
									<button type="submit" class="btn btn-default pull-right">Add</button>
								{{else}}
									<button
									type="button"
									on-click="fire('dispatch', 'START_ADDING_TOPIC')"
									class="btn btn-default pull-right">
										Add
									</button>
								{{/if}}
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
		<div class="col-sm-8">
			<ui-view></ui-view>
		</div>
	</div>
</div>

!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(n){function r(e){setTimeout(function(){e(null,o())},x)}function o(){return JSON.parse(localStorage.getItem("topics"))}function i(e,t){setTimeout(function(){t(null,a(e))},x)}function a(e){return o().find(function(t){return t.id===e})}function s(e){var t={name:e,id:g()},n=o();return n.push(t),d(t.id,[]),v(n),t}function u(e){var t=o(),r=t.findIndex(function(t){return t.id===e});t.splice(r,1),v(t),n.nextTick(function(){localStorage.removeItem(e)})}function c(e,t){"function"==typeof e&&(t=e,e=null),setTimeout(function(){e?t(null,l(e)):t(null,f())},x)}function f(){var e=o();return e.reduce(function(e,t){var n=t.id;return e[n]=l(n),e},{})}function l(e){var t=localStorage.getItem(e);return t?JSON.parse(localStorage.getItem(e)):[]}function p(e,t){var n=l(e),r={name:t,done:!1};return n.push(r),d(e,n),r}function d(e,t){localStorage.setItem(e,JSON.stringify(t)),w.emit("tasks saved",e)}function v(e){localStorage.setItem("topics",JSON.stringify(e)),w.emit("topics saved")}function h(){return{name:localStorage.getItem("currentUserName")}}function m(e){e?localStorage.setItem("currentUserName",e):localStorage.removeItem("currentUserName")}function y(){console.log("Initializing dummy data");var e={name:"Important stuff",id:g()},t={name:"Not as important",id:g()};v([e,t]),d(e.id,[{name:"Put on pants",done:!1},{name:"Visit chat room to see if you still pass the Turing test",done:!1}]),d(t.id,[{name:"Make cupcakes",done:!0},{name:"Eat cupcakes",done:!0},{name:"Write forum post rant about how chocolate cupcakes are the only good kind of cupcake",done:!1}])}var g=e("random-uuid-v4"),b=e("events").EventEmitter,x=50,w=new b;t.exports=w,w.getTopics=r,w.getTopic=i,w.addTopic=s,w.removeTopic=u,w.getTasks=c,w.saveTasks=d,w.saveTopics=v,w.getCurrentUser=h,w.saveCurrentUser=m,w.saveTask=p,function(){localStorage.getItem("topics")||y()}()}).call(this,e("_process"))},{_process:31,events:35,"random-uuid-v4":50}],2:[function(e,t,n){t.exports=function(e,t){return e("div.container",[e("div.row",[e("div.col-sm-offset-2.col-sm-8",[e("div.jumbotron",[e("h1",["About this example"])])])]),e("div.row",[e("div.col-sm-offset-3.col-sm-6",[e("p",["Pretty sweet, isn't it?  Here, let me give some examples or something."])])])])}},{}],3:[function(e,t,n){t.exports=function(t){t.addState({name:"app.about",route:"/about",template:e("./about-template")})}},{"./about-template":2}],4:[function(e,t,n){t.exports=function(e,t,n){function r(e){n.emitter.emit("save tasks")}var o=t.username;return e("div",[e("nav.navbar.navbar-default",[e("div.container-fluid",[e("div.navbar-header",[e("ul.nav.navbar-nav",[e("li",{class:n.active("app.topics")},[e("a",{href:n.makePath("app.topics")},"Basic todo app!")]),e("li",{class:n.active("app.about")},[e("a",{href:n.makePath("app.about")},"About the state router")]),e("li",e("a",{href:n.makePath("login"),action:"",onclick:r},"Log out"))])]),e("div.nav.navbar-right",e("p.navbar-text",["Logged in as ",o]))])]),e("ui-view")])}},{}],5:[function(e,t,n){e("array.prototype.findindex");var r=e("model.js"),o=e("./about/about"),i=e("./topics/topics"),a=e("./app-template.js");t.exports=function(e){e.addState({name:"app",route:"/app",defaultChild:"topics",template:a,resolve:function(e,t,n){var o=r.getCurrentUser().name;o?n(null,{username:o}):n.redirect("login")},activate:function(e){e.domApi.emitter.on("save",function(){r.saveCurrentUser(null)})}}),o(e),i(e)}},{"./about/about":3,"./app-template.js":4,"./topics/topics":11,"array.prototype.findindex":25,"model.js":1}],6:[function(e,t,n){t.exports=function(e){return e("div",e("p","This is a very basic todo app\tto show off route states."),e("p","Click on one of the topics on the left, and watch both the url and this half of the screen change, without anything else in the dom changing!"))}},{}],7:[function(e,t,n){var r=String.fromCharCode(160);t.exports=function(e,t,n){function o(e,t){return function(){u[e].done=t,n.emitter.emit("saveTasks")}}function i(e){return function(){u.splice(e,1),n.emitter.emit("saveTasks")}}function a(e){var t=e.srcElement.value;13===e.keyCode&&t&&(e.srcElement.value="",n.emitter.emit("newTask",t),setTimeout(function(){document.querySelector(".add-new-task").focus()},0)),n.killEvent(e)}var s=t.topic,u=t.tasks;return e("div",[e("h1",[s.name]),e("table.table.table-striped",[e("thead",[e("tr",[e("th","Task name"),e("th",{style:{width:"100px"}},"Complete"),e("th",{style:{width:"87px"}},"Remove")])]),e("tbody",u.map(function(t,n){var a=t.done,s=t.name;return e("tr",[e("td.center-y"+(a?".text-muted":""),[e("span.center-y",[s].concat(a?[r,e("span.glyphicon.glyphicon-ok.text-success")]:null))]),e("td",e("button.full-width.btn.btn-"+(a?"primary":"success"),{onclick:o(n,!a)},a?"Restore":"Complete")),e("td",[e("button.full-width.btn.btn-danger",{onclick:i(n)},"Remove")])])}).concat(e("tr",[e("td",[e("input.form-control.add-new-task",{type:"text",placeholder:"New task",onkeyup:a})])])))])])}},{}],8:[function(e,t,n){var r=e("model.js"),o=e("./tasks-template"),i=e("./no-task-selected-template"),a=e("async-all"),s="[a-f0-9-]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}";t.exports=function(e){e.addState({name:"app.topics.tasks",route:"/:topicId("+s+")",template:o,resolve:function(e,t,n){var o=t.topicId;a({topicId:o,topic:r.getTopic.bind(null,o),tasks:r.getTasks.bind(null,o)},n)},activate:function(e){var t=e.domApi,n=t.el.querySelector(".add-new-task");n&&n.focus();var o=e.content.topicId;t.emitter.on("saveTasks",function(){r.saveTasks(o,t.sharedState.tasks),t.update()}),t.emitter.on("newTask",function(e){var n=r.saveTask(o,e);t.sharedState.tasks.push(n),t.update()})}}),e.addState({name:"app.topics.no-task",template:i})}},{"./no-task-selected-template":6,"./tasks-template":7,"async-all":26,"model.js":1}],9:[function(e,t,n){function r(e,t){function n(e,t){o.getTasks(e,function(n,r){var o=r.filter(function(e){return!e.done}).length,i=a.sharedState;i.tasksUndone=i.tasksUndone||{},i.tasksUndone[e]=o,t&&t()})}function r(e){n(e,function(){a.update(e)})}var a=t.domApi;a.emitter.on("new topic",function(t){var r=o.addTopic(t);a.sharedState.topics.push(r),n(r.id),e.go("app.topics.tasks",{topicId:r.id})}),a.emitter.on("refresh",a.update),o.on("tasks saved",r),t.on("destroy",function(){o.removeListener("tasks saved",r)}),a.sharedState.topics.forEach(function(e){n(e.id)});var s=a.sharedState.topics.map(function(e){return e.id});i(s,n,function(){a.update()})}var o=e("model.js"),i=e("async-each");t.exports=r},{"async-each":27,"model.js":1}],10:[function(e,t,n){var r=!1;t.exports=function(e,t,n){function o(e){var t=e.srcElement.querySelector("input"),o=t&&t.value;r&&o?(n.emitter.emit("new topic",o),t.value=""):r||setTimeout(function(){t.focus()},0),r=!r,n.killEvent(e),n.emitter.emit("refresh")}var i=t.topics,a=t.tasksUndone||{};return e("div.container",[e("div.row",[e("div.col-sm-4",[e("div.list-group",i.map(function(t){var r=a[t.id],o=n.active("app.topics.tasks",{topicId:t.id});return e("a.list-group-item."+o,{href:n.makePath("app.topics.tasks",{topicId:t.id})},[t.name,e("span.badge",r?r.toString():"0")])})),e("form",{action:"",onsubmit:o},[e("div.table",[e("div.table-row-group",[e("div.table-row",[e("div.table-cell",[e("input.form-control"+(r?"":".hidden"),{type:"text",id:"new-topic-name",placeholder:"Topic name"})]),e("div.table-cell",{style:{width:"60px","vertical-align":"top"}},e("button.btn.btn-default.pull-right",{type:"submit"},"Add"))])])])])]),e("div.col-sm-8",[e("ui-view")])])])}},{}],11:[function(e,t,n){var r=e("model.js"),o=e("./topics-template"),i=e("./topics-activate"),a=e("./tasks/tasks");t.exports=function(e){e.addState({name:"app.topics",route:"/topics",defaultChild:"no-task",template:o,resolve:function(e,t,n){r.getTopics(function(e,t){n(e,{topics:t})})},activate:i.bind(null,e)}),a(e)}},{"./tasks/tasks":8,"./topics-activate":9,"./topics-template":10,"model.js":1}],12:[function(e,t,n){var r=e("abstract-state-router"),o=e("virtualdom-state-renderer"),i=e("domready"),a=r(o,"body");e("./login/login")(a),e("./app/app")(a),i(function(){a.evaluateCurrentRoute("login")})},{"./app/app":5,"./login/login":14,"abstract-state-router":16,domready:33,"virtualdom-state-renderer":78}],13:[function(e,t,n){t.exports=function(e,t,n){function r(e){var t=e.srcElement.querySelector("input").value;t&&n.emitter.emit("login",t),n.killEvent(e)}t.model,t.stateRouter;return e("div.container-fluid",[e("div.row",[e("div.col-sm-offset-3.col-sm-6",[e("h1",["Welcome to the abstract-state-router demo!"])])]),e("div.row.margin-top-20",[e("div.col-sm-offset-3.col-sm-6",[e("div.well",[e("p.lead",["This is a demo webapp showing off basic usage of the ",e("a",{href:"https://github.com/TehShrike/abstract-state-router"},["abstract-state-router"])," library using a few different templating libraries."])])])]),e("div.row.margin-top-20",[e("div.col-sm-offset-4.col-sm-4",[e("div.form-group.panel",[e("form.panel-body",{onsubmit:r,action:""},[e("label",["Put in whatever username you feel like:",e("input.form-control",{type:"text",value:""})]),e("button.btn.btn-primary",{type:"submit"},['"Log in"'])])])])])])}},{}],14:[function(e,t,n){var r=(e("fs"),e("model.js")),o=e("./login-template");t.exports=function(e){e.addState({name:"login",route:"/login",template:o,resolve:function(t,n,o){o(null,{model:r,stateRouter:e})},activate:function(t){t.domApi.emitter.on("login",function(t){r.saveCurrentUser(t),e.go("app")})}})}},{"./login-template":13,fs:30,"model.js":1}],15:[function(e,t,n){t.exports={reverse:!1}},{}],16:[function(e,t,n){(function(n){function r(e,t){var n=v(t);return n.filter(function(t){return e[t]}).reduce(function(t,n){return x(t,e[n])},{})}function o(e,t){return{redirectTo:{name:e,params:t}}}function i(e,t){var n=e.filter(u("resolve")),r=n.map(a("name")),i=Promise.all(n.map(function(e){return new Promise(function(n,r){function i(e,t){e?r(e):n(t)}i.redirect=function(e,t){r(o(e,t))};var a=e.resolve(e.data,t,i);!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then||n(a)})}));return i.then(function(e){return k({stateName:r,resolveResult:e}).reduce(function(e,t){return e[t.stateName]=t.resolveResult,e},{})})}function a(e){return function(t){return t[e]}}function s(e){return e.slice().reverse()}function u(e){return function(t){return"function"==typeof t[e]}}function c(){var e=Array.prototype.shift.apply(arguments),t=arguments;return new Promise(function(n){n(e.apply(null,t))})}var f=e("./lib/state-state"),l=e("./lib/state-comparison"),p=e("./lib/current-state"),d=e("./lib/state-change-logic"),v=e("./lib/state-string-parser"),h=e("./lib/state-transition-manager"),m=e("./default-router-options.js"),y=e("./lib/promise-map-series"),g=e("then-denodeify"),b=e("events").EventEmitter,x=e("xtend"),w=e("hash-brown-router"),k=e("combine-arrays"),E=e("page-path-builder");e("native-promise-only/npo");var j=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"];t.exports=function(e,t,a){function u(e,t){n.nextTick(function(){if(V.emit(e,t),console.error(e+" - "+t.message),a.throwOnError)throw t})}function v(e){var t=L.get(e);return V.emit("beforeDestroyState",{state:t,domApi:B[e]}),W[e].emit("destroy"),W[e].removeAllListeners(),delete W[e],delete H[e],D(B[e]).then(function(){delete B[e],V.emit("afterDestroyState",{state:t})})}function k(e,t){var n=B[t],o=r(H,t),i=L.get(t);return V.emit("beforeResetState",{domApi:n,content:o,state:i,parameters:e}),W[t].emit("destroy"),delete W[t],M({domApi:n,content:o,template:i.template,parameters:e}).then(function(n){n&&(B[t]=n),V.emit("afterResetState",{domApi:B[t],content:o,state:i,parameters:e})})}function T(e){return new Promise(function(n){var r=L.getParent(e);if(r){var o=B[r.name];n(q(o))}else n(t)})}function _(e,t){return T(t).then(function(n){var o=L.get(t),i=r(H,t);return V.emit("beforeCreateState",{state:o,content:i,parameters:e}),F({element:n,template:o.template,content:i,parameters:e}).then(function(n){return B[t]=n,V.emit("afterCreateState",{state:o,domApi:n,content:i,parameters:e}),n})})}function O(e,t){return y(e,_.bind(null,t))}function S(e,t){try{var n=L.applyDefaultChildStates(e.name);if(n===e.name)N(n,t);else{var r=I(n,t),o=a.router.location.get();r===o?N(n,t):V.go(n,t,{replace:!0})}}catch(e){u("stateError",e)}}function A(e){if("undefined"==typeof e)throw new Error("Expected 'state' to be passed in.");if("undefined"==typeof e.name)throw new Error("Expected the 'name' option to be passed in.");if("undefined"==typeof e.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(e).filter(function(e){return j.indexOf(e)===-1}).forEach(function(e){console.warn("Unexpected property passed to addState:",e)}),L.add(e.name,e);var t=L.buildFullStateRoute(e.name);a.router.add(t,S.bind(null,e))}function C(e){return e.change.concat(e.create).map(L.get)}function N(e,t){V.emit("stateChangeAttempt",function(n){P(e,t,n)})}function P(e,t,a){function f(t){return function(){if(a.cancelled){var n=new Error("The transition to "+e+"was cancelled");throw n.wasCancelledBySomeoneElse=!0,n}return t.apply(null,arguments)}}return c(L.guaranteeAllStatesExist,e).then(function(){var n=L.get(e),r=n.defaultParameters||n.defaultQuerystringParameters||{},i=Object.keys(r).some(function(e){return"undefined"==typeof t[e]});if(i)throw o(e,x(r,t));return n}).then(f(function(e){V.emit("stateChangeStart",e,t),U.set(e.name,t)})).then(function(){var n=l(L)(R.get().name,R.get().parameters,e,t);return d(n)}).then(f(function(e){function o(e){return e.map(L.get).forEach(function(e){var o=new b,i=Object.create(o);i.domApi=B[e.name],i.data=e.data,i.parameters=t,i.content=r(H,e.name),W[e.name]=o;try{e.activate&&e.activate(i)}catch(e){n.nextTick(function(){throw e})}})}return i(C(e),x(t)).catch(function(e){throw e.stateChangeError=!0,e}).then(f(function(n){function r(){var t=e.change.concat(e.create);return o(t)}return a.cancellable=!1,H=x(H,n),y(s(e.destroy),v).then(function(){return y(s(e.change),k.bind(null,x(t)))}).then(function(){return O(e.create,x(t)).then(r)})}))})).then(function(){R.set(e,t);try{V.emit("stateChangeEnd",L.get(e),t)}catch(e){u("stateError",e)}}).catch(f(function(e){return e&&e.redirectTo?(V.emit("stateChangeCancelled",e),V.go(e.redirectTo.name,e.redirectTo.params,{replace:!0})):void(e&&u("stateChangeError",e))})).catch(function(e){if(!e||!e.wasCancelledBySomeoneElse)throw new Error("This probably shouldn't happen, maybe file an issue or something "+e)})}function I(e,t,n){function r(){if(!U.get().name)throw new Error("makePath required a previous state to exist, and none was found");return U.get()}n&&n.inherit&&(t=x(r().parameters,t));var o=null===e?r().name:e,i=L.get(o)||{},a=i.defaultParameters||i.defaultQuerystringParameters;t=x(a,t),L.guaranteeAllStatesExist(o);var s=L.buildFullStateRoute(o);return E(s,t||{})}var L=f(),R=p(),U=p(),V=new b;h(V),a=x({throwOnError:!0,pathPrefix:"#"},a),a.router||(a.router=w(m)),a.router.setDefault(function(e,t){V.emit("routeNotFound",e,t)});var D=null,q=null,F=null,M=null,B={},H={},W={},$={replace:!1};V.addState=A,V.go=function(e,t,n){n=x($,n);var r=n.replace?a.router.replace:a.router.go;return c(I,e,t,n).then(r,u.bind(null,"stateChangeError"))},V.evaluateCurrentRoute=function(e,t){return c(I,e,t).then(function(e){a.router.evaluateCurrent(e)}).catch(function(e){u("stateError",e)})},V.makePath=function(e,t,n){return a.pathPrefix+I(e,t,n)},V.stateIsActive=function(e,t){var n=R.get();return(n.name===e||0===n.name.indexOf(e+"."))&&("undefined"==typeof t||Object.keys(t).every(function(e){return t[e]===n.parameters[e]}))};var G=e(V);return D=g(G.destroy),q=g(G.getChildElement),F=g(G.render),M=g(G.reset),V}}).call(this,e("_process"))},{"./default-router-options.js":15,"./lib/current-state":17,"./lib/promise-map-series":18,"./lib/state-change-logic":19,"./lib/state-comparison":20,"./lib/state-state":21,"./lib/state-string-parser":22,"./lib/state-transition-manager":23,_process:31,"combine-arrays":32,events:35,"hash-brown-router":38,"native-promise-only/npo":43,"page-path-builder":44,"then-denodeify":51,xtend:80}],17:[function(e,t,n){t.exports=function(){var e={name:"",parameters:{}};return{get:function(){return e},set:function(t,n){e={name:t,parameters:n}}}}},{}],18:[function(e,t,n){var r=e("native-promise-only/npo");t.exports=function(e,t,n){var o=r.resolve(),i=arguments.length>2?t.bind(n):t,a=e.map(function(t,n){return o=o.then(function(n){return i(t,n,e)}.bind(null,n))});return r.all(a)}},{"native-promise-only/npo":43}],19:[function(e,t,n){t.exports=function(e){var t=!1,n=!1,r={destroy:[],change:[],create:[]};return e.forEach(function(e){t=t||e.stateParametersChanged,n=n||e.stateNameChanged,e.nameBefore&&(n?r.destroy.push(e.nameBefore):t&&r.change.push(e.nameBefore)),e.nameAfter&&n&&r.create.push(e.nameAfter)}),r}},{}],20:[function(e,t,n){function r(){var e={};return function(t){return t?(e[t]||(e[t]=u(t).keys.map(function(e){return e.name})),e[t]):[]}}function o(e,t,n,r,o){var i=e.get(n),a=i.querystringParameters||[],s=t(i.route).concat(a);return Array.isArray(s)&&s.some(function(e){return r[e]!==o[e]})}function i(e,t,n,r,o){var i=s({start:a(t),end:a(r)});return i.map(function(t){return{nameBefore:t.start,nameAfter:t.end,stateNameChanged:t.start!==t.end,stateParametersChanged:t.start===t.end&&e(t.start,n,o)}})}var a=e("./state-string-parser"),s=e("combine-arrays"),u=e("path-to-regexp-with-reversible-keys");t.exports=function(e){var t=r(),n=o.bind(null,e,t);return i.bind(null,n)}},{"./state-string-parser":22,"combine-arrays":32,"path-to-regexp-with-reversible-keys":46}],21:[function(e,t,n){var r=e("./state-string-parser"),o=e("./state-string-parser");t.exports=function(){function e(e){var t=r(e);return t.map(function(e){if(!u[e])throw new Error("State "+e+" not found");return u[e]})}function t(e){var t=n(e);return t&&u[t]}function n(e){var t=r(e);if(t.length>1){var n=t.length-2;return t[n]}return null}function i(e){var t=o(e),n=t.filter(function(e){return!u[e]});if(n.length>0)throw new Error("State "+n[n.length-1]+" does not exist")}function a(t){return e(t).map(function(e){return"/"+(e.route||"")}).join("").replace(/\/{2,}/g,"/")}function s(e){function t(){return n&&("function"==typeof n.defaultChild?n.defaultChild():n.defaultChild)}var n=u[e],r=t();if(!r)return e;var o=e+"."+r;return s(o)}var u={};return{add:function(e,t){u[e]=t},get:function(e){return e&&u[e]},getHierarchy:e,getParent:t,getParentName:n,guaranteeAllStatesExist:i,buildFullStateRoute:a,applyDefaultChildStates:s}}},{"./state-string-parser":22}],22:[function(e,t,n){t.exports=function(e){return e.split(".").reduce(function(e,t){return e.length&&(t=e[e.length-1]+"."+t),e.push(t),e},[])}},{}],23:[function(e,t,n){t.exports=function(e){function t(){a=null,s&&r()}function n(){return!!a}function r(){a=s,s=null,a.beginStateChange()}function o(){a.transition.cancelled=!0;var t=new Error("State transition cancelled by the state transition manager");t.wasCancelledBySomeoneElse=!0,e.emit("stateChangeCancelled",t)}function i(e){var t={cancelled:!1,cancellable:!0};return{transition:t,beginStateChange:e.bind(null,t)}}var a=null,s=null;e.on("stateChangeAttempt",function(e){s=i(e),n()&&a.transition.cancellable?o():n()||r()}),e.on("stateChangeError",t),e.on("stateChangeCancelled",t),e.on("stateChangeEnd",t)}},{}],24:[function(e,t,n){!function(e){if(!Array.prototype.find){var t=function(e){var t=Object(this),n=t.length<0?0:t.length>>>0;if(0!==n){if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#find: predicate must be a function");for(var r,o=arguments[1],i=0;i<n;i++)if(r=t[i],e.call(o,r,i,t))return r}};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"find",{value:t,configurable:!0,enumerable:!1,writable:!0})}catch(e){}Array.prototype.find||(Array.prototype.find=t)}}(this)},{}],25:[function(e,t,n){!function(e){if(!Array.prototype.findIndex){var t=function(e){var t=Object(this),n=Math.max(0,t.length)>>>0;if(0===n)return-1;if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:void 0,o=0;o<n;o++)if(e.call(r,t[o],o,t))return o;return-1};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"findIndex",{value:t,configurable:!0,writable:!0})}catch(e){}Array.prototype.findIndex||(Array.prototype.findIndex=t)}}(this)},{}],26:[function(e,t,n){(function(e){t.exports=function(t,n){function r(){function t(){"function"==typeof n&&(c?n(c):n(null,u))}a?e.nextTick(t):t()}function o(){0!==s||i||(r(),i=!0)}var i=!1,a=!0,s=0,u={},c=null;if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("async-all requires you to pass in an object!");Object.keys(t).forEach(function(e){var n=!1;"function"==typeof t[e]?(s++,t[e](function(t,r){n||(n=!0,s--,c||(t?c=t:u[e]=r),o())})):u[e]=t[e]}),o(),a=!1}}).call(this,e("_process"))},{_process:31}],27:[function(e,t,n){!function(e){"use strict";var n=function(e,t,n){if(!Array.isArray(e))throw new TypeError("each() expects array as first argument");if("function"!=typeof t)throw new TypeError("each() expects function as second argument");if("function"!=typeof n&&(n=Function.prototype),0===e.length)return n(void 0,e);var r=new Array(e.length),o=0,i=!1;e.forEach(function(a,s){t(a,function(t,a){if(!i)return t?(i=!0,n(t)):(r[s]=a,o+=1,o===e.length?n(void 0,r):void 0)})})};"undefined"!=typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof t&&t.exports?t.exports=n:e.asyncEach=n}(this)},{}],28:[function(e,t,n){},{}],29:[function(e,t,n){t.exports=function(e){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return n.call(t,o,i);var a,s,u,c,f=[],l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),p=0,o=new RegExp(o.source,l+"g");for(t+="",r||(a=new RegExp("^"+o.source+"$(?!\\s)",l)),i=i===e?-1>>>0:i>>>0;(s=o.exec(t))&&(u=s.index+s[0].length,!(u>p&&(f.push(t.slice(p,s.index)),!r&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<t.length&&Array.prototype.push.apply(f,s.slice(1)),c=s[0].length,p=u,f.length>=i)));)o.lastIndex===s.index&&o.lastIndex++;return p===t.length?!c&&o.test("")||f.push(""):f.push(t.slice(p)),f.length>i?f.slice(0,i):f}}()},{}],30:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],31:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){m&&v&&(m=!1,v.length?h=v.concat(h):y=-1,h.length&&u())}function u(){if(!m){var e=i(s);m=!0;for(var t=h.length;t;){for(v=h,h=[];++y<t;)v&&v[y].run();y=-1,t=h.length}v=null,m=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function f(){}var l,p,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var v,h=[],m=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=f,d.addListener=f,d.once=f,d.off=f,d.removeListener=f,d.removeAllListeners=f,d.emit=f,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],32:[function(e,t,n){t.exports=function(e){function t(t){var r={};return n.forEach(function(n){r[n]=e[n][t]}),r}var n=Object.keys(e);n.forEach(function(t){if(!Array.isArray(e[t]))throw new Error(t+" is not an array")});for(var r=n.reduce(function(t,n){var r=e[n].length;return t>r?t:r},0),o=[],i=0;i<r;++i)o.push(t(i));return o}},{}],33:[function(e,t,n){!function(e,n){"undefined"!=typeof t?t.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[e]=n()}("domready",function(){var e,t=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(o,e=function(){for(n.removeEventListener(o,e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}})},{}],34:[function(e,t,n){"use strict";function r(e){var t=e[a];return t||(t=e[a]={}),t}var o=e("individual/one-version"),i="7";o("ev-store",i);var a="__EV_STORE_KEY@"+i;t.exports=r},{"individual/one-version":40}],35:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),u=1;u<r;u++)i[u-1]=arguments[u];n.apply(this,i)}else if(a(n)){for(r=arguments.length,i=new Array(r-1),u=1;u<r;u++)i[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,i)}return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?o(e._events[t])?1:e._events[t].length:0}},{}],36:[function(e,t,n){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},o=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var i=r["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":28}],37:[function(e,t,n){function r(e,t){e.location.replace(o(e.location.href)+"#"+t)}function o(e){var t=e.indexOf("#");return t===-1?e:e.substring(0,t)}function i(e,t){e.location.hash=t}function a(e,t){var n=s(e.location.hash);return t?decodeURI(n):n}function s(e){return e&&"#"===e[0]?e.substr(1):e}function u(){var e=document.createElement("a");return e.href="#x x",!/x x/.test(e.hash)}var c=e("events").EventEmitter;t.exports=function(e){var t=new c,n="",o=u();return e.addEventListener("hashchange",function(){n!==t.get()&&(n=t.get(),t.emit("hashchange"))}),t.go=i.bind(null,e),t.replace=r.bind(null,e),t.get=a.bind(null,e,o),t}},{events:35}],38:[function(e,t,n){function r(e,t,n){i(e,t.get(),n)}function o(e){var t=e.split("?");return{path:t.shift(),queryString:d.parse(t.join(""))}}function i(e,t,n){var r=o(t);t=r.path;var i=r.queryString,u=(n?a(e):e).find("".match,t);if(u){var c=u.exec(t),f=s(u.keys,c),l=v(i,f);u.fn(l)}else e.defaultFn&&e.defaultFn(t,i)}function a(e){return e.slice().reverse()}function s(e,t){return e.reduce(function(e,n,r){return e[n.name]=t[r+1],e},{})}function u(e,t,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var r=p(t);r.fn=n,e.push(r)}function c(e,t,n,o){if(t.get()){var i=e.slice();i.defaultFn=function(){t.go(o)},r(i,t,n)}else t.go(o)}function f(e,t){e.defaultFn=t}function l(e){return e&&e.go&&e.replace&&e.on}var p=e("path-to-regexp-with-reversible-keys"),d=e("querystring"),v=e("xtend"),h=e("./hash-location.js");e("array.prototype.find"),t.exports=function(e,t){function n(){t.removeListener("hashchange",i)}l(e)&&(t=e,e=null),e=e||{},t||(t=h(window));var o=[],i=r.bind(null,o,t,!!e.reverse);return t.on("hashchange",i),{add:u.bind(null,o),stop:n,evaluateCurrent:c.bind(null,o,t,!!e.reverse),setDefault:f.bind(null,o),replace:t.replace,go:t.go,location:t}}},{"./hash-location.js":37,"array.prototype.find":24,"path-to-regexp-with-reversible-keys":46,querystring:49,xtend:80}],39:[function(e,t,n){(function(e){"use strict";function n(e,t){return e in r?r[e]:(r[e]=t,t)}var r="undefined"!=typeof window?window:"undefined"!=typeof e?e:{};t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],40:[function(e,t,n){"use strict";function r(e,t,n){var r="__INDIVIDUAL_ONE_VERSION_"+e,i=r+"_ENFORCE_SINGLETON",a=o(i,t);if(a!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+a+" installed.\nThis means you cannot install version "+t);
return o(r,n)}var o=e("./index.js");t.exports=r},{"./index.js":39}],41:[function(e,t,n){"use strict";t.exports=function(e){return"object"==typeof e&&null!==e}},{}],42:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],43:[function(e,t,n){(function(e){!function(e,n,r){n[e]=n[e]||r(),"undefined"!=typeof t&&t.exports?t.exports=n[e]:"function"==typeof define&&define.amd&&define(function(){return n[e]})}("Promise","undefined"!=typeof e?e:this,function(){"use strict";function e(e,t){p.add(e,t),l||(l=v(p.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function n(){for(var e=0;e<this.chain.length;e++)r(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function r(e,n,r){var o,i;try{n===!1?r.reject(e.msg):(o=n===!0?e.msg:n.call(void 0,e.msg),o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(e){r.reject(e)}}function o(r){var a,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(a=t(r))?e(function(){var e=new s(u);try{a.call(r,function(){o.apply(e,arguments)},function(){i.apply(e,arguments)})}catch(t){i.call(e,t)}}):(u.msg=r,u.state=1,u.chain.length>0&&e(n,u))}catch(e){i.call(new s(u),e)}}}function i(t){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=t,r.state=2,r.chain.length>0&&e(n,r))}function a(e,t,n,r){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){n(o,e)},r)}(o)}function s(e){this.def=e,this.triggered=!1}function u(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function c(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new u(this);this.then=function(t,o){var i={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),r.chain.push(i),0!==r.state&&e(n,r),i.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(r,e)},function(e){i.call(r,e)})}catch(e){i.call(r,e)}}var f,l,p,d=Object.prototype.toString,v="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),f=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:r!==!1})}}catch(e){f=function(e,t,n){return e[t]=n,e}}p=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(o,i){r=new e(o,i),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=l=void 0;e;)e.fn.call(e.self),e=e.next}}}();var h=f({},"constructor",c,!1);return c.prototype=h,f(h,"__NPO__",0,!1),f(c,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),f(c,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),f(c,"all",function(e){var t=this;return"[object Array]"!=d.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=e.length,i=Array(o),s=0;a(t,e,function(e,t){i[e]=t,++s===o&&n(i)},r)})}),f(c,"race",function(e){var t=this;return"[object Array]"!=d.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");a(t,e,function(e,t){n(t)},r)})}),c})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){function r(e,t,n){var r=o(t,n);return 0===Object.keys(r).length?e:e+"?"+a(r)}function o(e,t){var n=t.reduce(function(e,t){return t.string||(e[t.name]=t),e},{});return Object.keys(e).filter(function(e){return!n[e]}).reduce(function(t,n){return t[n]=e[n],t},{})}var i=e("./path-parser"),a=e("querystring").stringify;t.exports=function(e,t){var n="string"==typeof e?i(e):e,o=n.allTokens,a=n.regex;if(t){var s=o.map(function(n){if(n.string)return n.string;var r="undefined"!=typeof t[n.name];if(!n.optional&&!r)throw new Error("Must supply argument "+n.name+" for path "+e);return r?n.delimiter+encodeURIComponent(t[n.name]):""}).join("");if(!a.test(s))throw new Error("Provided arguments do not match the original arguments");return r(s,t,o)}return n}},{"./path-parser":45,querystring:49}],45:[function(e,t,n){var r=e("path-to-regexp-with-reversible-keys");t.exports=function(e){var t=r(e);return{regex:t,allTokens:t.allTokens}}},{"path-to-regexp-with-reversible-keys":46}],46:[function(e,t,n){function r(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function o(e,t,n){return e.keys=t,e.allTokens=n,e}function i(e){return e.sensitive?"":"i"}function a(e,t,n){var r=e.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)t.push({name:i,delimiter:null,optional:!1,repeat:!1});return o(e,t,n)}function s(e,t,n,r){for(var a=[],s=0;s<e.length;s++)a.push(c(e[s],t,n,r).source);var u=new RegExp("(?:"+a.join("|")+")",i(n));return o(u,t,r)}function u(e,t,n){function o(e){0===s&&"/"!==e[0]&&(e="/"+e),n.push({string:e})}function i(i,u,c,f,l,p,d,v,h){if(u)return u;if(v)return"\\"+v;var m="+"===d||"*"===d,y="?"===d||"*"===d;h>s&&o(e.substring(s,h)),s=h+i.length;var g={name:f||a++,delimiter:c||"/",optional:y,repeat:m};return t.push(g),n.push(g),c=c?"\\"+c:"",l=r(l||p||"[^"+(c||"\\/")+"]+?"),m&&(l=l+"(?:"+c+l+")*"),y?"(?:"+c+"("+l+"))?":c+"("+l+")"}var a=0,s=0,u=e.replace(l,i);return s<e.length&&o(e.substring(s)),u}function c(e,t,n,r){if(t=t||[],r=r||[],f(t)?n||(n={}):(n=t,t=[]),e instanceof RegExp)return a(e,t,n,r);if(f(e))return s(e,t,n,r);var c=n.strict,l=n.end!==!1,p=u(e,t,r),d="/"===e.charAt(e.length-1);return c||(p=(d?p.slice(0,-2):p)+"(?:\\/(?=$))?"),p+=l?"$":c&&d?"":"(?=\\/|$)",o(new RegExp("^"+p,i(n)),t,r)}var f=e("isarray");t.exports=c;var l=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:42}],47:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var l,p,d,v,h=e[f].replace(s,"%20"),m=h.indexOf(n);m>=0?(l=h.substr(0,m),p=h.substr(m+1)):(l=h,p=""),d=decodeURIComponent(l),v=decodeURIComponent(p),r(a,d)?o(a[d])?a[d].push(v):a[d]=[a[d],v]:a[d]=v}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],48:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(o(a))+n;return i(e[a])?r(e[a],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[a]))}).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],49:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":47,"./encode":48}],50:[function(e,t,n){t.exports=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}},{}],51:[function(e,t,n){t.exports=function(e){return function(){var t=this,n=Array.prototype.slice.call(arguments);return new Promise(function(r,o){n.push(function(e,t){e?o(e):r(t)});var i=e.apply(t,n),a=i&&("object"==typeof i||"function"==typeof i)&&"function"==typeof i.then;a&&r(i)})}}},{}],52:[function(e,t,n){var r=e("./vdom/create-element.js");t.exports=r},{"./vdom/create-element.js":57}],53:[function(e,t,n){var r=e("./vtree/diff.js");t.exports=r},{"./vtree/diff.js":77}],54:[function(e,t,n){var r=e("./virtual-hyperscript/index.js");t.exports=r},{"./virtual-hyperscript/index.js":64}],55:[function(e,t,n){var r=e("./vdom/patch.js");t.exports=r},{"./vdom/patch.js":60}],56:[function(e,t,n){function r(e,t,n){for(var r in t){var a=t[r];void 0===a?o(e,r,a,n):u(a)?(o(e,r,a,n),a.hook&&a.hook(e,r,n?n[r]:void 0)):s(a)?i(e,t,n,r,a):e[r]=a}}function o(e,t,n,r){if(r){var o=r[t];if(u(o))o.unhook&&o.unhook(e,t,n);else if("attributes"===t)for(var i in o)e.removeAttribute(i);else if("style"===t)for(var a in o)e.style[a]="";else"string"==typeof o?e[t]="":e[t]=null}}function i(e,t,n,r,o){var i=n?n[r]:void 0;if("attributes"!==r){if(i&&s(i)&&a(i)!==a(o))return void(e[r]=o);s(e[r])||(e[r]={});var u="style"===r?"":void 0;for(var c in o){var f=o[c];e[r][c]=void 0===f?u:f}}else for(var l in o){var p=o[l];void 0===p?e.removeAttribute(l):e.setAttribute(l,p)}}function a(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var s=e("is-object"),u=e("../vnode/is-vhook.js");t.exports=r},{"../vnode/is-vhook.js":68,"is-object":41}],57:[function(e,t,n){function r(e,t){var n=t?t.document||o:o,f=t?t.warn:null;if(e=c(e).a,u(e))return e.init();if(s(e))return n.createTextNode(e.text);if(!a(e))return f&&f("Item is not a valid virtual dom node",e),null;var l=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),p=e.properties;i(l,p);for(var d=e.children,v=0;v<d.length;v++){var h=r(d[v],t);h&&l.appendChild(h)}return l}var o=e("global/document"),i=e("./apply-properties"),a=e("../vnode/is-vnode.js"),s=e("../vnode/is-vtext.js"),u=e("../vnode/is-widget.js"),c=e("../vnode/handle-thunk.js");t.exports=r},{"../vnode/handle-thunk.js":66,"../vnode/is-vnode.js":69,"../vnode/is-vtext.js":70,"../vnode/is-widget.js":71,"./apply-properties":56,"global/document":36}],58:[function(e,t,n){function r(e,t,n,r){return n&&0!==n.length?(n.sort(a),o(e,t,n,r,0)):{}}function o(e,t,n,r,a){if(r=r||{},e){i(n,a,a)&&(r[a]=e);var u=t.children;if(u)for(var c=e.childNodes,f=0;f<t.children.length;f++){a+=1;var l=u[f]||s,p=a+(l.count||0);i(n,a,p)&&o(c[f],l,n,r,a),a=p}}return r}function i(e,t,n){if(0===e.length)return!1;for(var r,o,i=0,a=e.length-1;i<=a;){if(r=(a+i)/2>>0,o=e[r],i===a)return o>=t&&o<=n;if(o<t)i=r+1;else{if(!(o>n))return!0;a=r-1}}return!1}function a(e,t){return e>t?1:-1}var s={};t.exports=r},{}],59:[function(e,t,n){function r(e,t,n){var r=e.type,c=e.vNode,d=e.patch;switch(r){case v.REMOVE:return o(t,c);case v.INSERT:return i(t,d,n);case v.VTEXT:return a(t,c,d,n);case v.WIDGET:return s(t,c,d,n);case v.VNODE:return u(t,c,d,n);case v.ORDER:return f(t,d),t;case v.PROPS:return p(t,d,c.properties),t;case v.THUNK:return l(t,n.patch(t,d,n));default:return t}}function o(e,t){var n=e.parentNode;return n&&n.removeChild(e),c(e,t),null}function i(e,t,n){var r=n.render(t,n);return e&&e.appendChild(r),e}function a(e,t,n,r){var o;if(3===e.nodeType)e.replaceData(0,e.length,n.text),o=e;else{var i=e.parentNode;o=r.render(n,r),i&&o!==e&&i.replaceChild(o,e)}return o}function s(e,t,n,r){var o,i=h(t,n);o=i?n.update(t,e)||e:r.render(n,r);var a=e.parentNode;return a&&o!==e&&a.replaceChild(o,e),i||c(e,t),o}function u(e,t,n,r){var o=e.parentNode,i=r.render(n,r);return o&&i!==e&&o.replaceChild(i,e),i}function c(e,t){"function"==typeof t.destroy&&d(t)&&t.destroy(e)}function f(e,t){for(var n,r,o,i=e.childNodes,a={},s=0;s<t.removes.length;s++)r=t.removes[s],n=i[r.from],r.key&&(a[r.key]=n),e.removeChild(n);for(var u=i.length,c=0;c<t.inserts.length;c++)o=t.inserts[c],n=a[o.key],e.insertBefore(n,o.to>=u++?null:i[o.to])}function l(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var p=e("./apply-properties"),d=e("../vnode/is-widget.js"),v=e("../vnode/vpatch.js"),h=e("./update-widget");t.exports=r},{"../vnode/is-widget.js":71,"../vnode/vpatch.js":74,"./apply-properties":56,"./update-widget":61}],60:[function(e,t,n){function r(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==r?n.patch:o,n.render=n.render||c,n.patch(e,t,n)}function o(e,t,n){var r=a(t);if(0===r.length)return e;var o=f(e,t.a,r),u=e.ownerDocument;n.document||u===s||(n.document=u);for(var c=0;c<r.length;c++){var l=r[c];e=i(e,o[l],t[l],n)}return e}function i(e,t,n,r){if(!t)return e;var o;if(u(n))for(var i=0;i<n.length;i++)o=l(n[i],t,r),t===e&&(e=o);else o=l(n,t,r),t===e&&(e=o);return e}function a(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}var s=e("global/document"),u=e("x-is-array"),c=e("./create-element"),f=e("./dom-index"),l=e("./patch-op");t.exports=r},{"./create-element":57,"./dom-index":58,"./patch-op":59,"global/document":36,"x-is-array":79}],61:[function(e,t,n){function r(e,t){return!(!o(e)||!o(t))&&("name"in e&&"name"in t?e.id===t.id:e.init===t.init)}var o=e("../vnode/is-widget.js");t.exports=r},{"../vnode/is-widget.js":71}],62:[function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}var o=e("ev-store");t.exports=r,r.prototype.hook=function(e,t){var n=o(e),r=t.substr(3);n[r]=this.value},r.prototype.unhook=function(e,t){var n=o(e),r=t.substr(3);n[r]=void 0}},{"ev-store":34}],63:[function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}t.exports=r,r.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},{}],64:[function(e,t,n){"use strict";function r(e,t,n){var r,a,u,c,f=[];return!n&&s(t)&&(n=t,a={}),a=a||t||{},r=g(e,a),a.hasOwnProperty("key")&&(u=a.key,a.key=void 0),a.hasOwnProperty("namespace")&&(c=a.namespace,a.namespace=void 0),"INPUT"!==r||c||!a.hasOwnProperty("value")||void 0===a.value||m(a.value)||(a.value=b(a.value)),i(a),void 0!==n&&null!==n&&o(n,f,r,a),new l(r,a,f,u,c)}function o(e,t,n,r){if("string"==typeof e)t.push(new p(e));else if("number"==typeof e)t.push(new p(String(e)));else if(a(e))t.push(e);else{if(!f(e)){if(null===e||void 0===e)return;throw u({foreignObject:e,parentVnode:{tagName:n,properties:r}})}for(var i=0;i<e.length;i++)o(e[i],t,n,r)}}function i(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(m(n))continue;"ev-"===t.substr(0,3)&&(e[t]=x(n))}}function a(e){return d(e)||v(e)||h(e)||y(e)}function s(e){return"string"==typeof e||f(e)||a(e)}function u(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+c(e.foreignObject)+".\nThe parent vnode is:\n"+c(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function c(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var f=e("x-is-array"),l=e("../vnode/vnode.js"),p=e("../vnode/vtext.js"),d=e("../vnode/is-vnode"),v=e("../vnode/is-vtext"),h=e("../vnode/is-widget"),m=e("../vnode/is-vhook"),y=e("../vnode/is-thunk"),g=e("./parse-tag.js"),b=e("./hooks/soft-set-hook.js"),x=e("./hooks/ev-hook.js");t.exports=r},{"../vnode/is-thunk":67,"../vnode/is-vhook":68,"../vnode/is-vnode":69,"../vnode/is-vtext":70,"../vnode/is-widget":71,"../vnode/vnode.js":73,"../vnode/vtext.js":75,"./hooks/ev-hook.js":62,"./hooks/soft-set-hook.js":63,"./parse-tag.js":65,"x-is-array":79}],65:[function(e,t,n){"use strict";function r(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),r=o(e,i),s=null;a.test(r[1])&&(s="DIV");var u,c,f,l;for(l=0;l<r.length;l++)c=r[l],c&&(f=c.charAt(0),s?"."===f?(u=u||[],u.push(c.substring(1,c.length))):"#"===f&&n&&(t.id=c.substring(1,c.length)):s=c);return u&&(t.className&&u.push(t.className),t.className=u.join(" ")),t.namespace?s:s.toUpperCase()}var o=e("browser-split"),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,a=/^\.|#/;t.exports=r},{"browser-split":29}],66:[function(e,t,n){function r(e,t){var n=e,r=t;return u(t)&&(r=o(t,e)),u(e)&&(n=o(e,null)),{a:n,b:r}}function o(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(i(n)||a(n)||s(n)))throw new Error("thunk did not return a valid node");return n}var i=e("./is-vnode"),a=e("./is-vtext"),s=e("./is-widget"),u=e("./is-thunk");t.exports=r},{"./is-thunk":67,"./is-vnode":69,"./is-vtext":70,"./is-widget":71}],67:[function(e,t,n){function r(e){return e&&"Thunk"===e.type}t.exports=r},{}],68:[function(e,t,n){function r(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}t.exports=r},{}],69:[function(e,t,n){function r(e){return e&&"VirtualNode"===e.type&&e.version===o}var o=e("./version");t.exports=r},{"./version":72}],70:[function(e,t,n){function r(e){return e&&"VirtualText"===e.type&&e.version===o}var o=e("./version");t.exports=r},{"./version":72}],71:[function(e,t,n){function r(e){return e&&"Widget"===e.type}t.exports=r},{}],72:[function(e,t,n){t.exports="2"},{}],73:[function(e,t,n){function r(e,t,n,r,o){this.tagName=e,this.properties=t||c,this.children=n||f,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var l,p=n&&n.length||0,d=0,v=!1,h=!1,m=!1;for(var y in t)if(t.hasOwnProperty(y)){var g=t[y];u(g)&&g.unhook&&(l||(l={}),l[y]=g)}for(var b=0;b<p;b++){var x=n[b];i(x)?(d+=x.count||0,!v&&x.hasWidgets&&(v=!0),!h&&x.hasThunks&&(h=!0),m||!x.hooks&&!x.descendantHooks||(m=!0)):!v&&a(x)?"function"==typeof x.destroy&&(v=!0):!h&&s(x)&&(h=!0)}this.count=p+d,this.hasWidgets=v,this.hasThunks=h,this.hooks=l,this.descendantHooks=m}var o=e("./version"),i=e("./is-vnode"),a=e("./is-widget"),s=e("./is-thunk"),u=e("./is-vhook");t.exports=r;var c={},f=[];r.prototype.version=o,r.prototype.type="VirtualNode"},{"./is-thunk":67,"./is-vhook":68,"./is-vnode":69,"./is-widget":71,"./version":72}],74:[function(e,t,n){function r(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}var o=e("./version");r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,t.exports=r,r.prototype.version=o,r.prototype.type="VirtualPatch"},{"./version":72}],75:[function(e,t,n){function r(e){this.text=String(e)}var o=e("./version");t.exports=r,r.prototype.version=o,r.prototype.type="VirtualText"},{"./version":72}],76:[function(e,t,n){function r(e,t){var n;for(var s in e){s in t||(n=n||{},n[s]=void 0);var u=e[s],c=t[s];if(u!==c)if(i(u)&&i(c))if(o(c)!==o(u))n=n||{},n[s]=c;else if(a(c))n=n||{},n[s]=c;else{var f=r(u,c);f&&(n=n||{},n[s]=f)}else n=n||{},n[s]=c}for(var l in t)l in e||(n=n||{},n[l]=t[l]);return n}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var i=e("is-object"),a=e("../vnode/is-vhook");t.exports=r},{"../vnode/is-vhook":68,"is-object":41}],77:[function(e,t,n){function r(e,t){var n={a:e};return o(e,t,n,0),n}function o(e,t,n,r){if(e!==t){var o=n[r],s=!1;if(w(e)||w(t))u(e,t,n,r);else if(null==t)x(e)||(a(e,n,r),o=n[r]),o=h(o,new y(y.REMOVE,e,t));else if(g(t))if(g(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=E(e.properties,t.properties);c&&(o=h(o,new y(y.PROPS,e,c))),o=i(e,t,n,o,r)}else o=h(o,new y(y.VNODE,e,t)),s=!0;else o=h(o,new y(y.VNODE,e,t)),s=!0;else b(t)?b(e)?e.text!==t.text&&(o=h(o,new y(y.VTEXT,e,t))):(o=h(o,new y(y.VTEXT,e,t)),s=!0):x(t)&&(x(e)||(s=!0),o=h(o,new y(y.WIDGET,e,t)));o&&(n[r]=o),s&&a(e,n,r)}}function i(e,t,n,r,i){for(var a=e.children,s=p(a,t.children),u=s.children,c=a.length,f=u.length,l=c>f?c:f,d=0;d<l;d++){var v=a[d],m=u[d];i+=1,v?o(v,m,n,i):m&&(r=h(r,new y(y.INSERT,null,m))),g(v)&&v.count&&(i+=v.count)}return s.moves&&(r=h(r,new y(y.ORDER,e,s.moves))),r}function a(e,t,n){f(e,t,n),s(e,t,n)}function s(e,t,n){if(x(e))"function"==typeof e.destroy&&(t[n]=h(t[n],new y(y.REMOVE,e,null)));else if(g(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,o=r.length,i=0;i<o;i++){var a=r[i];n+=1,s(a,t,n),g(a)&&a.count&&(n+=a.count)}else w(e)&&u(e,null,t,n)}function u(e,t,n,o){var i=k(e,t),a=r(i.a,i.b);c(a)&&(n[o]=new y(y.THUNK,null,a))}function c(e){for(var t in e)if("a"!==t)return!0;return!1}function f(e,t,n){if(g(e)){if(e.hooks&&(t[n]=h(t[n],new y(y.PROPS,e,l(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,o=r.length,i=0;i<o;i++){var a=r[i];n+=1,f(a,t,n),g(a)&&a.count&&(n+=a.count)}}else w(e)&&u(e,null,t,n)}function l(e){var t={};for(var n in e)t[n]=void 0;return t}function p(e,t){var n=v(t),r=n.keys,o=n.free;if(o.length===t.length)return{children:t,moves:null};var i=v(e),a=i.keys,s=i.free;if(s.length===e.length)return{children:t,moves:null};for(var u=[],c=0,f=o.length,l=0,p=0;p<e.length;p++){var h,m=e[p];m.key?r.hasOwnProperty(m.key)?(h=r[m.key],u.push(t[h])):(h=p-l++,u.push(null)):c<f?(h=o[c++],u.push(t[h])):(h=p-l++,u.push(null))}for(var y=c>=o.length?t.length:o[c],g=0;g<t.length;g++){var b=t[g];b.key?a.hasOwnProperty(b.key)||u.push(b):g>=y&&u.push(b)}for(var x,w=u.slice(),k=0,E=[],j=[],T=0;T<t.length;){var _=t[T];for(x=w[k];null===x&&w.length;)E.push(d(w,k,null)),x=w[k];x&&x.key===_.key?(k++,T++):_.key?(x&&x.key&&r[x.key]!==T+1?(E.push(d(w,k,x.key)),x=w[k],x&&x.key===_.key?k++:j.push({key:_.key,to:T})):j.push({key:_.key,to:T}),T++):x&&x.key&&E.push(d(w,k,x.key))}for(;k<w.length;)x=w[k],E.push(d(w,k,x&&x.key));return E.length!==l||j.length?{children:u,moves:{removes:E,inserts:j}}:{children:u,moves:null}}function d(e,t,n){return e.splice(t,1),{from:t,key:n}}function v(e){for(var t={},n=[],r=e.length,o=0;o<r;o++){var i=e[o];i.key?t[i.key]=o:n.push(o)}return{keys:t,free:n}}function h(e,t){return e?(m(e)?e.push(t):e=[e,t],e):t}var m=e("x-is-array"),y=e("../vnode/vpatch"),g=e("../vnode/is-vnode"),b=e("../vnode/is-vtext"),x=e("../vnode/is-widget"),w=e("../vnode/is-thunk"),k=e("../vnode/handle-thunk"),E=e("./diff-props");t.exports=r},{"../vnode/handle-thunk":66,"../vnode/is-thunk":67,"../vnode/is-vnode":69,"../vnode/is-vtext":70,"../vnode/is-widget":71,"../vnode/vpatch":74,"./diff-props":76,"x-is-array":79}],78:[function(e,t,n){function r(e,t){try{var n=[].slice.call(arguments,2),r=t.apply(t,n);e(null,r)}catch(t){e(t)}}function o(e){e.preventDefault(),e.stopPropagation()}var i=e("virtual-dom/h"),a=e("virtual-dom/diff"),s=e("virtual-dom/patch"),u=e("virtual-dom/create-element"),c=e("xtend"),f=e("events").EventEmitter;t.exports=function(e){function t(t,n){var r=e.stateIsActive(t,n);return r?"active":""}return{render:function(n,l){r(l,function(){function r(){var n=c(h.sharedState),r={makePath:e.makePath,isActive:e.stateIsActive,active:t,killEvent:o,emitter:h.emitter};return d(i,n,r)}function l(){h.emitter.emit("evaluating template");var e=r(),t=a(m,e);h.el=s(h.el,t),m=e}var p=n.element,d=n.template,v=n.content;"string"==typeof p&&(p=document.querySelector(p));var h={emitter:new f,sharedState:c(v),update:l,el:null},m=r();return h.el=u(m),p.appendChild(h.el),e.on("stateChangeEnd",h.update),h})},reset:function(e,t){r(t,function(){var t=e.domApi,n=e.content;t.sharedState=c(n),t.emitter.removeAllListeners(),t.update()})},destroy:function(t,n){t.el.outerHTML="",t.emitter.removeAllListeners(),e.removeListener("stateChangeEnd",t.update),n(null)},getChildElement:function(e,t){t(null,e.el.querySelector("ui-view"))}}}},{events:35,"virtual-dom/create-element":52,"virtual-dom/diff":53,"virtual-dom/h":54,"virtual-dom/patch":55,xtend:80}],79:[function(e,t,n){function r(e){return"[object Array]"===i.call(e)}var o=Array.isArray,i=Object.prototype.toString;t.exports=o||r},{}],80:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var o=Object.prototype.hasOwnProperty},{}]},{},[12]);
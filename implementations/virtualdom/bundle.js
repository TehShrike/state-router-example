!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(n){function r(e){setTimeout(function(){e(null,o())},b)}function o(){return JSON.parse(localStorage.getItem("topics"))}function i(e,t){setTimeout(function(){t(null,a(e))},b)}function a(e){return o().find(function(t){return t.id===e})}function s(e){var t={name:e,id:g()},n=o();return n.push(t),v(t.id,[]),d(n),t}function u(e){var t=o(),r=t.findIndex(function(t){return t.id===e});t.splice(r,1),d(t),n.nextTick(function(){localStorage.removeItem(e)})}function c(e,t){"function"==typeof e&&(t=e,e=null),setTimeout(function(){e?t(null,l(e)):t(null,f())},b)}function f(){var e=o();return e.reduce(function(e,t){var n=t.id;return e[n]=l(n),e},{})}function l(e){var t=localStorage.getItem(e);return t?JSON.parse(localStorage.getItem(e)):[]}function p(e,t){var n=l(e),r={name:t,done:!1};return n.push(r),v(e,n),r}function v(e,t){localStorage.setItem(e,JSON.stringify(t)),w.emit("tasks saved",e)}function d(e){localStorage.setItem("topics",JSON.stringify(e)),w.emit("topics saved")}function h(){return{name:localStorage.getItem("currentUserName")}}function m(e){e?localStorage.setItem("currentUserName",e):localStorage.removeItem("currentUserName")}function y(){console.log("Initializing dummy data");var e={name:"Important stuff",id:g()},t={name:"Not as important",id:g()};d([e,t]),v(e.id,[{name:"Put on pants",done:!1},{name:"Visit chat room to see if you still pass the Turing test",done:!1}]),v(t.id,[{name:"Make cupcakes",done:!0},{name:"Eat cupcakes",done:!0},{name:"Write forum post rant about how chocolate cupcakes are the only good kind of cupcake",done:!1}])}var g=e("random-uuid-v4"),x=e("events").EventEmitter,b=50,w=new x;t.exports=w,w.getTopics=r,w.getTopic=i,w.addTopic=s,w.removeTopic=u,w.getTasks=c,w.saveTasks=v,w.saveTopics=d,w.getCurrentUser=h,w.saveCurrentUser=m,w.saveTask=p,function(){localStorage.getItem("topics")||y()}()}).call(this,e("_process"))},{_process:22,events:27,"random-uuid-v4":41}],2:[function(e,t,n){t.exports=function(e,t){return e("div.container",[e("div.row",[e("div.col-sm-offset-2.col-sm-8",[e("div.jumbotron",[e("h1",["About this example"])])])]),e("div.row",[e("div.col-sm-offset-3.col-sm-6",[e("p",["Pretty sweet, isn't it?  Here, let me give some examples or something."])])])])}},{}],3:[function(e,t,n){t.exports=function(t){t.addState({name:"app.about",route:"/about",template:e("./about-template")})}},{"./about-template":2}],4:[function(e,t,n){t.exports=function(e,t,n){function r(e){n.emitter.emit("save tasks")}var o=t.username;return e("div",[e("nav.navbar.navbar-default",[e("div.container-fluid",[e("div.navbar-header",[e("ul.nav.navbar-nav",[e("li",{class:n.active("app.topics")},[e("a",{href:n.makePath("app.topics")},"Basic todo app!")]),e("li",{class:n.active("app.about")},[e("a",{href:n.makePath("app.about")},"About the state router")]),e("li",e("a",{href:n.makePath("login"),action:"",onclick:r},"Log out"))])]),e("div.nav.navbar-right",e("p.navbar-text",["Logged in as ",o]))])]),e("ui-view")])}},{}],5:[function(e,t,n){e("array.prototype.findindex");var r=e("model.js"),o=e("./about/about"),i=e("./topics/topics"),a=e("./app-template.js");t.exports=function(e){e.addState({name:"app",route:"/app",defaultChild:"topics",template:a,resolve:function(e,t,n){var o=r.getCurrentUser().name;o?n(null,{username:o}):n.redirect("login")},activate:function(e){e.domApi.emitter.on("save",function(){r.saveCurrentUser(null)})}}),o(e),i(e)}},{"./about/about":3,"./app-template.js":4,"./topics/topics":11,"array.prototype.findindex":16,"model.js":1}],6:[function(e,t,n){t.exports=function(e){return e("div",e("p","This is a very basic todo app\tto show off route states."),e("p","Click on one of the topics on the left, and watch both the url and this half of the screen change, without anything else in the dom changing!"))}},{}],7:[function(e,t,n){var r=String.fromCharCode(160);t.exports=function(e,t,n){function o(e,t){return function(){u[e].done=t,n.emitter.emit("saveTasks")}}function i(e){return function(){u.splice(e,1),n.emitter.emit("saveTasks")}}function a(e){var t=e.srcElement.value;13===e.keyCode&&t&&(e.srcElement.value="",n.emitter.emit("newTask",t),setTimeout(function(){document.querySelector(".add-new-task").focus()},0)),n.killEvent(e)}var s=t.topic,u=t.tasks;return e("div",[e("h1",[s.name]),e("table.table.table-striped",[e("thead",[e("tr",[e("th","Task name"),e("th",{style:{width:"100px"}},"Complete"),e("th",{style:{width:"87px"}},"Remove")])]),e("tbody",u.map(function(t,n){var a=t.done,s=t.name;return e("tr",[e("td.center-y"+(a?".text-muted":""),[e("span.center-y",[s].concat(a?[r,e("span.glyphicon.glyphicon-ok.text-success")]:null))]),e("td",e("button.full-width.btn.btn-"+(a?"primary":"success"),{onclick:o(n,!a)},a?"Restore":"Complete")),e("td",[e("button.full-width.btn.btn-danger",{onclick:i(n)},"Remove")])])}).concat(e("tr",[e("td",[e("input.form-control.add-new-task",{type:"text",placeholder:"New task",onkeyup:a})])])))])])}},{}],8:[function(e,t,n){var r=e("model.js"),o=e("./tasks-template"),i=e("./no-task-selected-template"),a=e("async-all"),s="[a-f0-9-]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}";t.exports=function(e){e.addState({name:"app.topics.tasks",route:"/:topicId("+s+")",template:o,resolve:function(e,t,n){var o=t.topicId;a({topicId:o,topic:r.getTopic.bind(null,o),tasks:r.getTasks.bind(null,o)},n)},activate:function(e){var t=e.domApi,n=t.el.querySelector(".add-new-task");n&&n.focus();var o=e.content.topicId;t.emitter.on("saveTasks",function(){r.saveTasks(o,t.sharedState.tasks),t.update()}),t.emitter.on("newTask",function(e){var n=r.saveTask(o,e);t.sharedState.tasks.push(n),t.update()})}}),e.addState({name:"app.topics.no-task",template:i})}},{"./no-task-selected-template":6,"./tasks-template":7,"async-all":17,"model.js":1}],9:[function(e,t,n){function r(e,t){function n(e,t){o.getTasks(e,function(n,r){var o=r.filter(function(e){return!e.done}).length,i=a.sharedState;i.tasksUndone=i.tasksUndone||{},i.tasksUndone[e]=o,t&&t()})}function r(e){n(e,function(){a.update(e)})}var a=t.domApi;a.emitter.on("new topic",function(t){var r=o.addTopic(t);a.sharedState.topics.push(r),n(r.id),e.go("app.topics.tasks",{topicId:r.id})}),a.emitter.on("refresh",a.update),o.on("tasks saved",r),t.on("destroy",function(){o.removeListener("tasks saved",r)}),a.sharedState.topics.forEach(function(e){n(e.id)});var s=a.sharedState.topics.map(function(e){return e.id});i(s,n,function(){a.update()})}var o=e("model.js"),i=e("async-each");t.exports=r},{"async-each":18,"model.js":1}],10:[function(e,t,n){var r=!1;t.exports=function(e,t,n){function o(e){var t=e.srcElement.querySelector("input"),o=t&&t.value;r&&o?(n.emitter.emit("new topic",o),t.value=""):r||setTimeout(function(){t.focus()},0),r=!r,n.killEvent(e),n.emitter.emit("refresh")}var i=t.topics,a=t.tasksUndone||{};return e("div.container",[e("div.row",[e("div.col-sm-4",[e("div.list-group",i.map(function(t){var r=a[t.id],o=n.active("app.topics.tasks",{topicId:t.id});return e("a.list-group-item."+o,{href:n.makePath("app.topics.tasks",{topicId:t.id})},[t.name,e("span.badge",r?r.toString():"0")])})),e("form",{action:"",onsubmit:o},[e("div.table",[e("div.table-row-group",[e("div.table-row",[e("div.table-cell",[e("input.form-control"+(r?"":".hidden"),{type:"text",id:"new-topic-name",placeholder:"Topic name"})]),e("div.table-cell",{style:{width:"60px","vertical-align":"top"}},e("button.btn.btn-default.pull-right",{type:"submit"},"Add"))])])])])]),e("div.col-sm-8",[e("ui-view")])])])}},{}],11:[function(e,t,n){var r=e("model.js"),o=e("./topics-template"),i=e("./topics-activate"),a=e("./tasks/tasks");t.exports=function(e){e.addState({name:"app.topics",route:"/topics",defaultChild:"no-task",template:o,resolve:function(e,t,n){r.getTopics(function(e,t){n(e,{topics:t})})},activate:i.bind(null,e)}),a(e)}},{"./tasks/tasks":8,"./topics-activate":9,"./topics-template":10,"model.js":1}],12:[function(e,t,n){var r=e("abstract-state-router"),o=e("virtualdom-state-renderer"),i=e("domready"),a=r(o,"body");e("./login/login")(a),e("./app/app")(a),i(function(){a.evaluateCurrentRoute("login")})},{"./app/app":5,"./login/login":14,"abstract-state-router":15,domready:24,"virtualdom-state-renderer":70}],13:[function(e,t,n){t.exports=function(e,t,n){function r(e){var t=e.srcElement.querySelector("input").value;t&&n.emitter.emit("login",t),n.killEvent(e)}t.model,t.stateRouter;return e("div.container-fluid",[e("div.row",[e("div.col-sm-offset-3.col-sm-6",[e("h1",["Welcome to the abstract-state-router demo!"])])]),e("div.row.margin-top-20",[e("div.col-sm-offset-3.col-sm-6",[e("div.well",[e("p.lead",["This is a demo webapp showing off basic usage of the ",e("a",{href:"https://github.com/TehShrike/abstract-state-router"},["abstract-state-router"])," library using a few different templating libraries."])])])]),e("div.row.margin-top-20",[e("div.col-sm-offset-4.col-sm-4",[e("div.form-group.panel",[e("form.panel-body",{onsubmit:r,action:""},[e("label",["Put in whatever username you feel like:",e("input.form-control",{type:"text",value:""})]),e("button.btn.btn-primary",{type:"submit"},['"Log in"'])])])])])])}},{}],14:[function(e,t,n){var r=(e("fs"),e("model.js")),o=e("./login-template");t.exports=function(e){e.addState({name:"login",route:"/login",template:o,resolve:function(t,n,o){o(null,{model:r,stateRouter:e})},activate:function(t){t.domApi.emitter.on("login",function(t){r.saveCurrentUser(t),e.go("app")})}})}},{"./login-template":13,fs:21,"model.js":1}],15:[function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function o(e,t){return t={exports:{}},e(t,t.exports),t.exports}function i(){var e={};return function(t){return t?(e[t]||(e[t]=p(t).keys.map(function(e){return e.name})),e[t]):[]}}function a(e){var t=e.stateState,n=e.getPathParameters,r=e.stateName,o=e.fromParameters,i=e.toParameters,a=t.get(r),s=a.querystringParameters||[],u=n(a.route).concat(s);return Array.isArray(u)&&u.some(function(e){return o[e]!==i[e]})}function s(e){var t=e.parametersChanged,n=e.original,r=e.destination,o=l({start:g(n.name),end:g(r.name)});return o.map(function(e){var o=e.start,i=e.end;return{nameBefore:o,nameAfter:i,stateNameChanged:o!==i,stateParametersChanged:o===i&&t({stateName:o,fromParameters:n.parameters,toParameters:r.parameters})}})}function u(e,t){var n=g(t);return n.filter(function(t){return e[t]}).reduce(function(t,n){return b(t,e[n])},{})}function c(e,t){return{redirectTo:{name:e,params:t}}}function f(e,t){var n=e.filter(A("resolve")),r=n.map(S("name")),o=Promise.all(n.map(function(e){return new Promise(function(n,r){var o=function(e,t){return e?r(e):n(t)};o.redirect=function(e,t){r(c(e,t))};var i=e.resolve(e.data,t,o);P(i)&&n(i)})}));return o.then(function(e){return l({stateName:r,resolveResult:e}).reduce(function(e,t){return e[t.stateName]=t.resolveResult,e},{})})}var l=r(e("combine-arrays")),p=r(e("path-to-regexp-with-reversible-keys")),v=r(e("then-denodeify")),d=r(e("eventemitter3")),h=r(e("hash-brown-router")),m=r(e("page-path-builder")),y=r(e("iso-next-tick")),g=o(function(e){e.exports=function(e){return e.split(".").reduce(function(e,t){return e.push(e.length?e[e.length-1]+"."+t:t),e},[])}}),x=function(){function e(e){var t=g(e);return t.map(function(e){if(!a[e])throw new Error("State "+e+" not found");return a[e]})}function t(e){var t=n(e);return t&&a[t]}function n(e){var t=g(e);if(t.length>1){var n=t.length-2;return t[n]}return null}function r(e){var t=g(e),n=t.filter(function(e){return!a[e]});if(n.length>0)throw new Error("State "+n[n.length-1]+" does not exist")}function o(t){return e(t).map(function(e){return"/"+(e.route||"")}).join("").replace(/\/{2,}/g,"/")}function i(e){var t=a[e],n=t&&("function"==typeof t.defaultChild?t.defaultChild():t.defaultChild);if(!n)return e;var r=e+"."+n;return i(r)}var a={};return{add:function(e,t){a[e]=t},get:function(e){return e&&a[e]},getHierarchy:e,getParent:t,getParentName:n,guaranteeAllStatesExist:r,buildFullStateRoute:o,applyDefaultChildStates:i}},b=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))},w=function(e){var t=i(),n=function(n){return a(b(n,{stateState:e,getPathParameters:t}))};return function(e){return s(b(e,{parametersChanged:n}))}},k=function(){var e={name:"",parameters:{}};return{get:function(){return e},set:function(t,n){e={name:t,parameters:n}}}},E=function(e){var t=!1,n=!1,r={destroy:[],change:[],create:[]};return e.forEach(function(e){t=t||e.stateParametersChanged,n=n||e.stateNameChanged,e.nameBefore&&(n?r.destroy.push(e.nameBefore):t&&r.change.push(e.nameBefore)),e.nameAfter&&n&&r.create.push(e.nameAfter)}),r},_=function(e){function t(){i=null,a&&n()}function n(){i=a,a=null,i.beginStateChange()}function r(){i.transition.cancelled=!0;var t=new Error("State transition cancelled by the state transition manager");t.wasCancelledBySomeoneElse=!0,e.emit("stateChangeCancelled",t)}function o(e){var t={cancelled:!1,cancellable:!0};return{transition:t,beginStateChange:function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(void 0,[t].concat(r))}}}var i=null,a=null,s=function(){return!!i};e.on("stateChangeAttempt",function(e){a=o(e),s()&&i.transition.cancellable?r():s()||n()}),e.on("stateChangeError",t),e.on("stateChangeCancelled",t),e.on("stateChangeEnd",t)},j={reverse:!1},O=function(e,t){var n=Promise.resolve();return Promise.all(e.map(function(r,o){return n=n.then(function(){return t(r,o,e)})}))},T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(e){return function(t){return t[e]}},C=function(e){return e.slice().reverse()},A=function(e){return function(t){return"function"==typeof t[e]}},P=function(e){return e&&("object"===("undefined"==typeof e?"undefined":T(e))||"function"==typeof e)&&"function"==typeof e.then},N=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(function(t){return t(e.apply(void 0,n))})},L=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"],I=function(e,t){function n(e,t){y(function(){if(D.emit(e,t),console.error(e+" - "+t.message),B)throw t})}function r(e){var t=R.get(e);return D.emit("beforeDestroyState",{state:t,domApi:Q[e]}),z[e].emit("destroy"),z[e].removeAllListeners(),delete z[e],delete X[e],W(Q[e]).then(function(){delete Q[e],D.emit("afterDestroyState",{state:t})})}function o(e,t){var n=Q[t],r=u(X,t),o=R.get(t);return D.emit("beforeResetState",{domApi:n,content:r,state:o,parameters:e}),z[t].emit("destroy"),delete z[t],K({domApi:n,content:r,template:o.template,parameters:e}).then(function(n){n&&(Q[t]=n),D.emit("afterResetState",{domApi:Q[t],content:r,state:o,parameters:e})})}function i(e){return new Promise(function(n){var r=R.getParent(e);if(r){var o=Q[r.name];n(G(o))}else n(t)})}function a(e,t){return i(t).then(function(n){var r=R.get(t),o=u(X,t);return D.emit("beforeCreateState",{state:r,content:o,parameters:e}),J({template:r.template,element:n,content:o,parameters:e}).then(function(n){return Q[t]=n,D.emit("afterCreateState",{state:r,domApi:n,content:o,parameters:e}),n})})}function s(e,t){return O(e,function(e){return a(t,e)})}function l(e,t){try{var r=R.applyDefaultChildStates(e.name);if(r===e.name)S(r,t);else{var o=P(r,t),i=$.location.get();o===i?S(r,t):D.go(r,t,{replace:!0})}}catch(e){n("stateError",e)}}function p(e){if("undefined"==typeof e)throw new Error("Expected 'state' to be passed in.");if("undefined"==typeof e.name)throw new Error("Expected the 'name' option to be passed in.");if("undefined"==typeof e.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(e).filter(function(e){return L.indexOf(e)===-1}).forEach(function(e){console.warn("Unexpected property passed to addState:",e)}),R.add(e.name,e);var t=R.buildFullStateRoute(e.name);$.add(t,function(t){return l(e,t)})}function T(e){return e.change.concat(e.create).map(R.get)}function S(e,t){D.emit("stateChangeAttempt",function(n){A(e,t,n)})}function A(e,t,i){function a(t){return function(){if(i.cancelled){var n=new Error("The transition to "+e+" was cancelled");throw n.wasCancelledBySomeoneElse=!0,n}return t.apply(void 0,arguments)}}return N(R.guaranteeAllStatesExist,e).then(function(){var n=R.get(e),r=n.defaultParameters||n.defaultQuerystringParameters||{},o=Object.keys(r).some(function(e){return"undefined"==typeof t[e]});if(o)throw c(e,b(r,t));return n}).then(a(function(e){D.emit("stateChangeStart",e,t,M(e.name)),V.set(e.name,t)})).then(function(){var n=q({original:U.get(),destination:{name:e,parameters:t}});return E(n)}).then(a(function(e){function n(e){return e.map(R.get).forEach(function(e){var n=new d,r=Object.create(n);r.domApi=Q[e.name],r.data=e.data,r.parameters=t,r.content=u(X,e.name),z[e.name]=n;try{e.activate&&e.activate(r)}catch(e){y(function(){throw e})}})}return f(T(e),b(t)).catch(function(e){throw e.stateChangeError=!0,e}).then(a(function(a){i.cancellable=!1;var u=function(){return n(e.change.concat(e.create))};return X=b(X,a),O(C(e.destroy),r).then(function(){return O(C(e.change),function(e){return o(b(t),e)})}).then(function(){return s(e.create,b(t)).then(u)})}))})).then(function(){U.set(e,t);try{D.emit("stateChangeEnd",R.get(e),t,M(e))}catch(e){n("stateError",e)}}).catch(a(function(e){return e&&e.redirectTo?(D.emit("stateChangeCancelled",e),D.go(e.redirectTo.name,e.redirectTo.params,{replace:!0})):void(e&&n("stateChangeError",e))})).catch(function(e){if(!e||!e.wasCancelledBySomeoneElse)throw new Error("This probably shouldn't happen, maybe file an issue or something "+e)})}function P(e,t,n){function r(){if(!V.get().name)throw new Error("makePath required a previous state to exist, and none was found");return V.get()}n&&n.inherit&&(t=b(r().parameters,t));var o=null===e?r().name:e,i=R.get(o)||{},a=i.defaultParameters||i.defaultQuerystringParameters;t=b(a,t),R.guaranteeAllStatesExist(o);var s=R.buildFullStateRoute(o);return m(s,t||{})}var I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},R=x(),U=k(),V=k(),D=new d,q=w(R),M=function(e){return g(e).map(R.get)};_(D);var F=b({throwOnError:!0,pathPrefix:"#"},I),B=F.throwOnError,H=F.pathPrefix,$=I.router||h(j);$.on("not found",function(e,t){D.emit("routeNotFound",e,t)});var W=null,G=null,J=null,K=null,X={},Q={},z={},Y={replace:!1};D.addState=p,D.go=function(e,t,r){r=b(Y,r);var o=r.replace?$.replace:$.go;return N(P,e,t,r).then(o,function(e){return n("stateChangeError",e)})},D.evaluateCurrentRoute=function(e,t){return N(P,e,t).then(function(e){$.evaluateCurrent(e)}).catch(function(e){return n("stateError",e)})},D.makePath=function(e,t,n){return H+P(e,t,n)},D.stateIsActive=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=U.get(),r=n.name===e||0===n.name.indexOf(e+"."),o=!t;return r&&(o||Object.keys(t).every(function(e){return t[e]===n.parameters[e]}))};var Z=e(D);return W=v(Z.destroy),G=v(Z.getChildElement),J=v(Z.render),K=v(Z.reset),D};t.exports=I},{"combine-arrays":23,eventemitter3:26,"hash-brown-router":30,"iso-next-tick":35,"page-path-builder":37,"path-to-regexp-with-reversible-keys":39,"then-denodeify":43}],16:[function(e,t,n){!function(e){if(!Array.prototype.findIndex){var t=function(e){var t=Object(this),n=Math.max(0,t.length)>>>0;if(0===n)return-1;if("function"!=typeof e||"[object Function]"!==Object.prototype.toString.call(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:void 0,o=0;o<n;o++)if(e.call(r,t[o],o,t))return o;return-1};if(Object.defineProperty)try{Object.defineProperty(Array.prototype,"findIndex",{value:t,configurable:!0,writable:!0})}catch(e){}Array.prototype.findIndex||(Array.prototype.findIndex=t)}}(this)},{}],17:[function(e,t,n){(function(e){t.exports=function(t,n){function r(){function t(){"function"==typeof n&&(c?n(c):n(null,u))}a?e.nextTick(t):t()}function o(){0!==s||i||(r(),i=!0)}var i=!1,a=!0,s=0,u={},c=null;if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("async-all requires you to pass in an object!");Object.keys(t).forEach(function(e){var n=!1;"function"==typeof t[e]?(s++,t[e](function(t,r){n||(n=!0,s--,c||(t?c=t:u[e]=r),o())})):u[e]=t[e]}),o(),a=!1}}).call(this,e("_process"))},{_process:22}],18:[function(e,t,n){!function(e){"use strict";var n=function(e,t,n){if(!Array.isArray(e))throw new TypeError("each() expects array as first argument");if("function"!=typeof t)throw new TypeError("each() expects function as second argument");if("function"!=typeof n&&(n=Function.prototype),0===e.length)return n(void 0,e);var r=new Array(e.length),o=0,i=!1;e.forEach(function(a,s){t(a,function(t,a){if(!i)return t?(i=!0,n(t)):(r[s]=a,o+=1,o===e.length?n(void 0,r):void 0)})})};"undefined"!=typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof t&&t.exports?t.exports=n:e.asyncEach=n}(this)},{}],19:[function(e,t,n){},{}],20:[function(e,t,n){t.exports=function(e){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return n.call(t,o,i);var a,s,u,c,f=[],l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),p=0,o=new RegExp(o.source,l+"g");for(t+="",r||(a=new RegExp("^"+o.source+"$(?!\\s)",l)),i=i===e?-1>>>0:i>>>0;(s=o.exec(t))&&(u=s.index+s[0].length,!(u>p&&(f.push(t.slice(p,s.index)),!r&&s.length>1&&s[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<t.length&&Array.prototype.push.apply(f,s.slice(1)),c=s[0].length,p=u,f.length>=i)));)o.lastIndex===s.index&&o.lastIndex++;return p===t.length?!c&&o.test("")||f.push(""):f.push(t.slice(p)),f.length>i?f.slice(0,i):f}}()},{}],21:[function(e,t,n){arguments[4][19][0].apply(n,arguments)},{dup:19}],22:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){m&&d&&(m=!1,d.length?h=d.concat(h):y=-1,h.length&&u())}function u(){if(!m){var e=i(s);m=!0;for(var t=h.length;t;){for(d=h,h=[];++y<t;)d&&d[y].run();y=-1,t=h.length}d=null,m=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function f(){}var l,p,v=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var d,h=[],m=!1,y=-1;v.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||i(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},v.title="browser",v.browser=!0,v.env={},v.argv=[],v.version="",v.versions={},v.on=f,v.addListener=f,v.once=f,v.off=f,v.removeListener=f,v.removeAllListeners=f,v.emit=f,v.prependListener=f,v.prependOnceListener=f,v.listeners=function(e){return[]},v.binding=function(e){throw new Error("process.binding is not supported")},v.cwd=function(){return"/"},v.chdir=function(e){throw new Error("process.chdir is not supported")},v.umask=function(){return 0}},{}],23:[function(e,t,n){t.exports=function(e){function t(t){var r={};return n.forEach(function(n){r[n]=e[n][t]}),r}var n=Object.keys(e);n.forEach(function(t){if(!Array.isArray(e[t]))throw new Error(t+" is not an array")});for(var r=n.reduce(function(t,n){var r=e[n].length;return t>r?t:r},0),o=[],i=0;i<r;++i)o.push(t(i));return o}},{}],24:[function(e,t,n){!function(e,n){"undefined"!=typeof t?t.exports=n():"function"==typeof define&&"object"==typeof define.amd?define(n):this[e]=n()}("domready",function(){var e,t=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(o,e=function(){for(n.removeEventListener(o,e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}})},{}],25:[function(e,t,n){"use strict";function r(e){var t=e[a];return t||(t=e[a]={}),t}var o=e("individual/one-version"),i="7";o("ev-store",i);var a="__EV_STORE_KEY@"+i;t.exports=r},{"individual/one-version":32}],26:[function(e,t,n){"use strict";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(){this._events=new r,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),i.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)a.call(e,t)&&n.push(s?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},i.prototype.listeners=function(e,t){var n=s?s+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},i.prototype.emit=function(e,t,n,r,o,i){var a=s?s+e:e;if(!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,o),!0;case 6:return f.fn.call(f.context,t,n,r,o,i),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var p,v=f.length;for(c=0;c<v;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;case 4:f[c].fn.call(f[c].context,t,n,r);break;default:if(!u)for(p=1,u=new Array(l-1);p<l;p++)u[p-1]=arguments[p];f[c].fn.apply(f[c].context,u)}}return!0},i.prototype.on=function(e,t,n){var r=new o(t,n||this),i=s?s+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),i=s?s+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},i.prototype.removeListener=function(e,t,n,o){var i=s?s+e:e;if(!this._events[i])return this;if(!t)return 0===--this._eventsCount?this._events=new r:delete this._events[i],this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[i]);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==t||o&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new r:delete this._events[i]}return this},i.prototype.removeAllListeners=function(e){var t;return e?(t=s?s+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=s,i.EventEmitter=i,"undefined"!=typeof t&&(t.exports=i)},{}],27:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,i=new Array(r-1),u=1;u<r;u++)i[u-1]=arguments[u];n.apply(this,i)}else if(a(n)){for(r=arguments.length,i=new Array(r-1),u=1;u<r;u++)i[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,i)}return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?o(e._events[t])?1:e._events[t].length:0}},{}],28:[function(e,t,n){(function(n){var r,o="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e("min-document");"undefined"!=typeof document?r=document:(r=o["__GLOBAL_DOCUMENT_CACHE@4"],r||(r=o["__GLOBAL_DOCUMENT_CACHE@4"]=i)),t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":19
}],29:[function(e,t,n){function r(e,t){e.location.replace(o(e.location.href)+"#"+t)}function o(e){var t=e.indexOf("#");return t===-1?e:e.substring(0,t)}function i(e,t){e.location.hash=t}function a(e,t){var n=s(e.location.hash);return t?decodeURI(n):n}function s(e){return e&&"#"===e[0]?e.substr(1):e}function u(){var e=document.createElement("a");return e.href="#x x",!/x x/.test(e.hash)}var c=e("eventemitter3");t.exports=function(e){function t(t){return function(n){n!==o&&t(e,n)}}var n=new c,o="",s=u();return e.addEventListener("hashchange",function(){o!==n.get()&&(o=n.get(),n.emit("hashchange"))}),n.go=t(i),n.replace=t(r),n.get=a.bind(null,e,s),n}},{eventemitter3:26}],30:[function(e,t,n){function r(e,t,n,r){i(e,t.get(),n,r)}function o(e){var t=e.split("?");return{path:t.shift(),queryString:v.parse(t.join(""))}}function i(e,t,n,r){var i=o(t);t=i.path;var u=i.queryString,c=l(n?a(e):e,t);if(c){var f=c.exec(t),p=s(c.keys,f),v=d(u,p);c.fn(v)}else r(t,u)}function a(e){return e.slice().reverse()}function s(e,t){return e.reduce(function(e,n,r){return e[n.name]=t[r+1],e},{})}function u(e,t,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var r=p(t);r.fn=n,e.push(r)}function c(e,t,n,o,i){var a=t.get(),s=a&&("/"!==a||"/"===i);if(s){var u=e.slice();r(u,t,n,o)}else t.go(i)}function f(e){return e&&e.go&&e.replace&&e.on}function l(e,t){for(var n=0;n<e.length;++n)if(t.match(e[n]))return e[n]}var p=e("path-to-regexp-with-reversible-keys"),v=e("query-string"),d=e("xtend"),h=e("./hash-location.js"),m=e("eventemitter3");t.exports=function(e,t){function n(e,t){i.emit("not found",e,t)}function o(){t.removeListener("hashchange",s)}var i=new m;f(e)&&(t=e,e=null),e=e||{},t||(t=h(window));var a=[],s=r.bind(null,a,t,!!e.reverse,n);return t.on("hashchange",s),i.add=u.bind(null,a),i.stop=o,i.evaluateCurrent=c.bind(null,a,t,!!e.reverse,n),i.replace=t.replace,i.go=t.go,i.location=t,i}},{"./hash-location.js":29,eventemitter3:26,"path-to-regexp-with-reversible-keys":39,"query-string":40,xtend:72}],31:[function(e,t,n){(function(e){"use strict";function n(e,t){return e in r?r[e]:(r[e]=t,t)}var r="undefined"!=typeof window?window:"undefined"!=typeof e?e:{};t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(e,t,n){"use strict";function r(e,t,n){var r="__INDIVIDUAL_ONE_VERSION_"+e,i=r+"_ENFORCE_SINGLETON",a=o(i,t);if(a!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+a+" installed.\nThis means you cannot install version "+t);return o(r,n)}var o=e("./index.js");t.exports=r},{"./index.js":31}],33:[function(e,t,n){"use strict";t.exports=function(e){return"object"==typeof e&&null!==e}},{}],34:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],35:[function(e,t,n){t.exports=function(e){"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)}},{}],36:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=o()?Object.assign:function(e,t){for(var n,o,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var f in n)a.call(n,f)&&(u[f]=n[f]);if(i){o=i(n);for(var l=0;l<o.length;l++)s.call(n,o[l])&&(u[o[l]]=n[o[l]])}}return u}},{}],37:[function(e,t,n){function r(e,t,n){var r=o(t,n);return 0===Object.keys(r).length?e:e+"?"+a(r)}function o(e,t){var n=t.reduce(function(e,t){return t.string||(e[t.name]=t),e},{});return Object.keys(e).filter(function(e){return!n[e]}).reduce(function(t,n){return t[n]=e[n],t},{})}var i=e("./path-parser"),a=e("query-string").stringify;t.exports=function(e,t){var n="string"==typeof e?i(e):e,o=n.allTokens,a=n.regex;if(t){var s=o.map(function(n){if(n.string)return n.string;var r="undefined"!=typeof t[n.name];if(!n.optional&&!r)throw new Error("Must supply argument "+n.name+" for path "+e);return r?n.delimiter+encodeURIComponent(t[n.name]):""}).join("");if(!a.test(s))throw new Error("Provided arguments do not match the original arguments");return r(s,t,o)}return n}},{"./path-parser":38,"query-string":40}],38:[function(e,t,n){var r=e("path-to-regexp-with-reversible-keys");t.exports=function(e){var t=r(e);return{regex:t,allTokens:t.allTokens}}},{"path-to-regexp-with-reversible-keys":39}],39:[function(e,t,n){function r(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function o(e,t,n){return e.keys=t,e.allTokens=n,e}function i(e){return e.sensitive?"":"i"}function a(e,t,n){var r=e.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)t.push({name:i,delimiter:null,optional:!1,repeat:!1});return o(e,t,n)}function s(e,t,n,r){for(var a=[],s=0;s<e.length;s++)a.push(c(e[s],t,n,r).source);var u=new RegExp("(?:"+a.join("|")+")",i(n));return o(u,t,r)}function u(e,t,n){function o(e){0===s&&"/"!==e[0]&&(e="/"+e),n.push({string:e})}function i(i,u,c,f,l,p,v,d,h){if(u)return u;if(d)return"\\"+d;var m="+"===v||"*"===v,y="?"===v||"*"===v;h>s&&o(e.substring(s,h)),s=h+i.length;var g={name:f||a++,delimiter:c||"/",optional:y,repeat:m};return t.push(g),n.push(g),c=c?"\\"+c:"",l=r(l||p||"[^"+(c||"\\/")+"]+?"),m&&(l=l+"(?:"+c+l+")*"),y?"(?:"+c+"("+l+"))?":c+"("+l+")"}var a=0,s=0,u=e.replace(l,i);return s<e.length&&o(e.substring(s)),u}function c(e,t,n,r){if(t=t||[],r=r||[],f(t)?n||(n={}):(n=t,t=[]),e instanceof RegExp)return a(e,t,n,r);if(f(e))return s(e,t,n,r);var c=n.strict,l=n.end!==!1,p=u(e,t,r),v="/"===e.charAt(e.length-1);return c||(p=(v?p.slice(0,-2):p)+"(?:\\/(?=$))?"),p+=l?"$":c&&v?"":"(?=\\/|$)",o(new RegExp("^"+p,i(n)),t,r)}var f=e("isarray");t.exports=c;var l=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g")},{isarray:34}],40:[function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function i(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=e("strict-uri-encode"),u=e("object-assign");n.extract=function(e){return e.split("?")[1]||""},n.parse=function(e,t){t=u({arrayFormat:"none"},t);var n=o(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=a(n):e[t]=n,e},Object.create(null))):r},n.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=u(n,t);var o=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return i(n,t);if(Array.isArray(r)){var a=[];return r.slice().forEach(function(e){void 0!==e&&a.push(o(n,e,a.length))}),a.join("&")}return i(n,t)+"="+i(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},{"object-assign":36,"strict-uri-encode":42}],41:[function(e,t,n){t.exports=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}},{}],42:[function(e,t,n){"use strict";t.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},{}],43:[function(e,t,n){t.exports=function(e){return function(){var t=this,n=Array.prototype.slice.call(arguments);return new Promise(function(r,o){n.push(function(e,t){e?o(e):r(t)});var i=e.apply(t,n),a=i&&("object"==typeof i||"function"==typeof i)&&"function"==typeof i.then;a&&r(i)})}}},{}],44:[function(e,t,n){var r=e("./vdom/create-element.js");t.exports=r},{"./vdom/create-element.js":49}],45:[function(e,t,n){var r=e("./vtree/diff.js");t.exports=r},{"./vtree/diff.js":69}],46:[function(e,t,n){var r=e("./virtual-hyperscript/index.js");t.exports=r},{"./virtual-hyperscript/index.js":56}],47:[function(e,t,n){var r=e("./vdom/patch.js");t.exports=r},{"./vdom/patch.js":52}],48:[function(e,t,n){function r(e,t,n){for(var r in t){var a=t[r];void 0===a?o(e,r,a,n):u(a)?(o(e,r,a,n),a.hook&&a.hook(e,r,n?n[r]:void 0)):s(a)?i(e,t,n,r,a):e[r]=a}}function o(e,t,n,r){if(r){var o=r[t];if(u(o))o.unhook&&o.unhook(e,t,n);else if("attributes"===t)for(var i in o)e.removeAttribute(i);else if("style"===t)for(var a in o)e.style[a]="";else"string"==typeof o?e[t]="":e[t]=null}}function i(e,t,n,r,o){var i=n?n[r]:void 0;if("attributes"!==r){if(i&&s(i)&&a(i)!==a(o))return void(e[r]=o);s(e[r])||(e[r]={});var u="style"===r?"":void 0;for(var c in o){var f=o[c];e[r][c]=void 0===f?u:f}}else for(var l in o){var p=o[l];void 0===p?e.removeAttribute(l):e.setAttribute(l,p)}}function a(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var s=e("is-object"),u=e("../vnode/is-vhook.js");t.exports=r},{"../vnode/is-vhook.js":60,"is-object":33}],49:[function(e,t,n){function r(e,t){var n=t?t.document||o:o,f=t?t.warn:null;if(e=c(e).a,u(e))return e.init();if(s(e))return n.createTextNode(e.text);if(!a(e))return f&&f("Item is not a valid virtual dom node",e),null;var l=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),p=e.properties;i(l,p);for(var v=e.children,d=0;d<v.length;d++){var h=r(v[d],t);h&&l.appendChild(h)}return l}var o=e("global/document"),i=e("./apply-properties"),a=e("../vnode/is-vnode.js"),s=e("../vnode/is-vtext.js"),u=e("../vnode/is-widget.js"),c=e("../vnode/handle-thunk.js");t.exports=r},{"../vnode/handle-thunk.js":58,"../vnode/is-vnode.js":61,"../vnode/is-vtext.js":62,"../vnode/is-widget.js":63,"./apply-properties":48,"global/document":28}],50:[function(e,t,n){function r(e,t,n,r){return n&&0!==n.length?(n.sort(a),o(e,t,n,r,0)):{}}function o(e,t,n,r,a){if(r=r||{},e){i(n,a,a)&&(r[a]=e);var u=t.children;if(u)for(var c=e.childNodes,f=0;f<t.children.length;f++){a+=1;var l=u[f]||s,p=a+(l.count||0);i(n,a,p)&&o(c[f],l,n,r,a),a=p}}return r}function i(e,t,n){if(0===e.length)return!1;for(var r,o,i=0,a=e.length-1;i<=a;){if(r=(a+i)/2>>0,o=e[r],i===a)return o>=t&&o<=n;if(o<t)i=r+1;else{if(!(o>n))return!0;a=r-1}}return!1}function a(e,t){return e>t?1:-1}var s={};t.exports=r},{}],51:[function(e,t,n){function r(e,t,n){var r=e.type,c=e.vNode,v=e.patch;switch(r){case d.REMOVE:return o(t,c);case d.INSERT:return i(t,v,n);case d.VTEXT:return a(t,c,v,n);case d.WIDGET:return s(t,c,v,n);case d.VNODE:return u(t,c,v,n);case d.ORDER:return f(t,v),t;case d.PROPS:return p(t,v,c.properties),t;case d.THUNK:return l(t,n.patch(t,v,n));default:return t}}function o(e,t){var n=e.parentNode;return n&&n.removeChild(e),c(e,t),null}function i(e,t,n){var r=n.render(t,n);return e&&e.appendChild(r),e}function a(e,t,n,r){var o;if(3===e.nodeType)e.replaceData(0,e.length,n.text),o=e;else{var i=e.parentNode;o=r.render(n,r),i&&o!==e&&i.replaceChild(o,e)}return o}function s(e,t,n,r){var o,i=h(t,n);o=i?n.update(t,e)||e:r.render(n,r);var a=e.parentNode;return a&&o!==e&&a.replaceChild(o,e),i||c(e,t),o}function u(e,t,n,r){var o=e.parentNode,i=r.render(n,r);return o&&i!==e&&o.replaceChild(i,e),i}function c(e,t){"function"==typeof t.destroy&&v(t)&&t.destroy(e)}function f(e,t){for(var n,r,o,i=e.childNodes,a={},s=0;s<t.removes.length;s++)r=t.removes[s],n=i[r.from],r.key&&(a[r.key]=n),e.removeChild(n);for(var u=i.length,c=0;c<t.inserts.length;c++)o=t.inserts[c],n=a[o.key],e.insertBefore(n,o.to>=u++?null:i[o.to])}function l(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var p=e("./apply-properties"),v=e("../vnode/is-widget.js"),d=e("../vnode/vpatch.js"),h=e("./update-widget");t.exports=r},{"../vnode/is-widget.js":63,"../vnode/vpatch.js":66,"./apply-properties":48,"./update-widget":53}],52:[function(e,t,n){function r(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==r?n.patch:o,n.render=n.render||c,n.patch(e,t,n)}function o(e,t,n){var r=a(t);if(0===r.length)return e;var o=f(e,t.a,r),u=e.ownerDocument;n.document||u===s||(n.document=u);for(var c=0;c<r.length;c++){var l=r[c];e=i(e,o[l],t[l],n)}return e}function i(e,t,n,r){if(!t)return e;var o;if(u(n))for(var i=0;i<n.length;i++)o=l(n[i],t,r),t===e&&(e=o);else o=l(n,t,r),t===e&&(e=o);return e}function a(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}var s=e("global/document"),u=e("x-is-array"),c=e("./create-element"),f=e("./dom-index"),l=e("./patch-op");t.exports=r},{"./create-element":49,"./dom-index":50,"./patch-op":51,"global/document":28,"x-is-array":71}],53:[function(e,t,n){function r(e,t){return!(!o(e)||!o(t))&&("name"in e&&"name"in t?e.id===t.id:e.init===t.init)}var o=e("../vnode/is-widget.js");t.exports=r},{"../vnode/is-widget.js":63}],54:[function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}var o=e("ev-store");t.exports=r,r.prototype.hook=function(e,t){var n=o(e),r=t.substr(3);n[r]=this.value},r.prototype.unhook=function(e,t){var n=o(e),r=t.substr(3);n[r]=void 0}},{"ev-store":25}],55:[function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}t.exports=r,r.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},{}],56:[function(e,t,n){"use strict";function r(e,t,n){var r,a,u,c,f=[];return!n&&s(t)&&(n=t,a={}),a=a||t||{},r=g(e,a),a.hasOwnProperty("key")&&(u=a.key,a.key=void 0),a.hasOwnProperty("namespace")&&(c=a.namespace,a.namespace=void 0),"INPUT"!==r||c||!a.hasOwnProperty("value")||void 0===a.value||m(a.value)||(a.value=x(a.value)),i(a),void 0!==n&&null!==n&&o(n,f,r,a),new l(r,a,f,u,c)}function o(e,t,n,r){if("string"==typeof e)t.push(new p(e));else if("number"==typeof e)t.push(new p(String(e)));else if(a(e))t.push(e);else{if(!f(e)){if(null===e||void 0===e)return;throw u({foreignObject:e,parentVnode:{tagName:n,properties:r}})}for(var i=0;i<e.length;i++)o(e[i],t,n,r)}}function i(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(m(n))continue;"ev-"===t.substr(0,3)&&(e[t]=b(n))}}function a(e){return v(e)||d(e)||h(e)||y(e)}function s(e){return"string"==typeof e||f(e)||a(e)}function u(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+c(e.foreignObject)+".\nThe parent vnode is:\n"+c(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function c(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var f=e("x-is-array"),l=e("../vnode/vnode.js"),p=e("../vnode/vtext.js"),v=e("../vnode/is-vnode"),d=e("../vnode/is-vtext"),h=e("../vnode/is-widget"),m=e("../vnode/is-vhook"),y=e("../vnode/is-thunk"),g=e("./parse-tag.js"),x=e("./hooks/soft-set-hook.js"),b=e("./hooks/ev-hook.js");t.exports=r},{"../vnode/is-thunk":59,"../vnode/is-vhook":60,"../vnode/is-vnode":61,"../vnode/is-vtext":62,"../vnode/is-widget":63,"../vnode/vnode.js":65,"../vnode/vtext.js":67,"./hooks/ev-hook.js":54,"./hooks/soft-set-hook.js":55,"./parse-tag.js":57,"x-is-array":71}],57:[function(e,t,n){"use strict";function r(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),r=o(e,i),s=null;a.test(r[1])&&(s="DIV");var u,c,f,l;for(l=0;l<r.length;l++)c=r[l],c&&(f=c.charAt(0),s?"."===f?(u=u||[],u.push(c.substring(1,c.length))):"#"===f&&n&&(t.id=c.substring(1,c.length)):s=c);return u&&(t.className&&u.push(t.className),t.className=u.join(" ")),t.namespace?s:s.toUpperCase()}var o=e("browser-split"),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,a=/^\.|#/;t.exports=r},{"browser-split":20}],58:[function(e,t,n){function r(e,t){var n=e,r=t;return u(t)&&(r=o(t,e)),u(e)&&(n=o(e,null)),{a:n,b:r}}function o(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(i(n)||a(n)||s(n)))throw new Error("thunk did not return a valid node");return n}var i=e("./is-vnode"),a=e("./is-vtext"),s=e("./is-widget"),u=e("./is-thunk");t.exports=r},{"./is-thunk":59,"./is-vnode":61,"./is-vtext":62,"./is-widget":63}],59:[function(e,t,n){function r(e){return e&&"Thunk"===e.type}t.exports=r},{}],60:[function(e,t,n){function r(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}t.exports=r},{}],61:[function(e,t,n){function r(e){return e&&"VirtualNode"===e.type&&e.version===o}var o=e("./version");t.exports=r},{"./version":64}],62:[function(e,t,n){function r(e){return e&&"VirtualText"===e.type&&e.version===o}var o=e("./version");t.exports=r},{"./version":64}],63:[function(e,t,n){function r(e){return e&&"Widget"===e.type}t.exports=r},{}],64:[function(e,t,n){t.exports="2"},{}],65:[function(e,t,n){function r(e,t,n,r,o){this.tagName=e,this.properties=t||c,this.children=n||f,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var l,p=n&&n.length||0,v=0,d=!1,h=!1,m=!1;for(var y in t)if(t.hasOwnProperty(y)){var g=t[y];u(g)&&g.unhook&&(l||(l={}),l[y]=g)}for(var x=0;x<p;x++){var b=n[x];i(b)?(v+=b.count||0,!d&&b.hasWidgets&&(d=!0),!h&&b.hasThunks&&(h=!0),m||!b.hooks&&!b.descendantHooks||(m=!0)):!d&&a(b)?"function"==typeof b.destroy&&(d=!0):!h&&s(b)&&(h=!0)}this.count=p+v,this.hasWidgets=d,this.hasThunks=h,this.hooks=l,this.descendantHooks=m}var o=e("./version"),i=e("./is-vnode"),a=e("./is-widget"),s=e("./is-thunk"),u=e("./is-vhook");t.exports=r;var c={},f=[];r.prototype.version=o,r.prototype.type="VirtualNode"},{"./is-thunk":59,"./is-vhook":60,"./is-vnode":61,"./is-widget":63,"./version":64}],66:[function(e,t,n){function r(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}var o=e("./version");r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,t.exports=r,r.prototype.version=o,r.prototype.type="VirtualPatch"},{"./version":64}],67:[function(e,t,n){function r(e){this.text=String(e)}var o=e("./version");t.exports=r,r.prototype.version=o,r.prototype.type="VirtualText"},{"./version":64}],68:[function(e,t,n){function r(e,t){var n;for(var s in e){s in t||(n=n||{},n[s]=void 0);var u=e[s],c=t[s];if(u!==c)if(i(u)&&i(c))if(o(c)!==o(u))n=n||{},n[s]=c;else if(a(c))n=n||{},n[s]=c;else{var f=r(u,c);f&&(n=n||{},n[s]=f)}else n=n||{},n[s]=c}for(var l in t)l in e||(n=n||{},n[l]=t[l]);return n}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var i=e("is-object"),a=e("../vnode/is-vhook");t.exports=r},{"../vnode/is-vhook":60,"is-object":33}],69:[function(e,t,n){function r(e,t){var n={a:e};return o(e,t,n,0),n}function o(e,t,n,r){if(e!==t){var o=n[r],s=!1;if(w(e)||w(t))u(e,t,n,r);else if(null==t)b(e)||(a(e,n,r),o=n[r]),o=h(o,new y(y.REMOVE,e,t));else if(g(t))if(g(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=E(e.properties,t.properties);c&&(o=h(o,new y(y.PROPS,e,c))),o=i(e,t,n,o,r)}else o=h(o,new y(y.VNODE,e,t)),s=!0;else o=h(o,new y(y.VNODE,e,t)),s=!0;else x(t)?x(e)?e.text!==t.text&&(o=h(o,new y(y.VTEXT,e,t))):(o=h(o,new y(y.VTEXT,e,t)),s=!0):b(t)&&(b(e)||(s=!0),o=h(o,new y(y.WIDGET,e,t)));o&&(n[r]=o),s&&a(e,n,r)}}function i(e,t,n,r,i){for(var a=e.children,s=p(a,t.children),u=s.children,c=a.length,f=u.length,l=c>f?c:f,v=0;v<l;v++){var d=a[v],m=u[v];i+=1,d?o(d,m,n,i):m&&(r=h(r,new y(y.INSERT,null,m))),g(d)&&d.count&&(i+=d.count)}return s.moves&&(r=h(r,new y(y.ORDER,e,s.moves))),r}function a(e,t,n){f(e,t,n),s(e,t,n)}function s(e,t,n){if(b(e))"function"==typeof e.destroy&&(t[n]=h(t[n],new y(y.REMOVE,e,null)));else if(g(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,o=r.length,i=0;i<o;i++){var a=r[i];n+=1,s(a,t,n),g(a)&&a.count&&(n+=a.count)}else w(e)&&u(e,null,t,n)}function u(e,t,n,o){var i=k(e,t),a=r(i.a,i.b);c(a)&&(n[o]=new y(y.THUNK,null,a))}function c(e){for(var t in e)if("a"!==t)return!0;return!1}function f(e,t,n){if(g(e)){if(e.hooks&&(t[n]=h(t[n],new y(y.PROPS,e,l(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,o=r.length,i=0;i<o;i++){var a=r[i];n+=1,f(a,t,n),g(a)&&a.count&&(n+=a.count)}}else w(e)&&u(e,null,t,n)}function l(e){var t={};for(var n in e)t[n]=void 0;return t}function p(e,t){var n=d(t),r=n.keys,o=n.free;if(o.length===t.length)return{children:t,moves:null};var i=d(e),a=i.keys,s=i.free;if(s.length===e.length)return{children:t,moves:null};for(var u=[],c=0,f=o.length,l=0,p=0;p<e.length;p++){var h,m=e[p];m.key?r.hasOwnProperty(m.key)?(h=r[m.key],u.push(t[h])):(h=p-l++,u.push(null)):c<f?(h=o[c++],u.push(t[h])):(h=p-l++,u.push(null))}for(var y=c>=o.length?t.length:o[c],g=0;g<t.length;g++){var x=t[g];x.key?a.hasOwnProperty(x.key)||u.push(x):g>=y&&u.push(x)}for(var b,w=u.slice(),k=0,E=[],_=[],j=0;j<t.length;){var O=t[j];for(b=w[k];null===b&&w.length;)E.push(v(w,k,null)),b=w[k];b&&b.key===O.key?(k++,j++):O.key?(b&&b.key&&r[b.key]!==j+1?(E.push(v(w,k,b.key)),b=w[k],b&&b.key===O.key?k++:_.push({key:O.key,to:j})):_.push({key:O.key,to:j}),j++):b&&b.key&&E.push(v(w,k,b.key))}for(;k<w.length;)b=w[k],E.push(v(w,k,b&&b.key));return E.length!==l||_.length?{children:u,moves:{removes:E,inserts:_}}:{children:u,moves:null}}function v(e,t,n){return e.splice(t,1),{from:t,key:n}}function d(e){for(var t={},n=[],r=e.length,o=0;o<r;o++){var i=e[o];i.key?t[i.key]=o:n.push(o)}return{keys:t,free:n}}function h(e,t){return e?(m(e)?e.push(t):e=[e,t],e):t}var m=e("x-is-array"),y=e("../vnode/vpatch"),g=e("../vnode/is-vnode"),x=e("../vnode/is-vtext"),b=e("../vnode/is-widget"),w=e("../vnode/is-thunk"),k=e("../vnode/handle-thunk"),E=e("./diff-props");t.exports=r},{"../vnode/handle-thunk":58,"../vnode/is-thunk":59,"../vnode/is-vnode":61,"../vnode/is-vtext":62,"../vnode/is-widget":63,"../vnode/vpatch":66,"./diff-props":68,"x-is-array":71}],70:[function(e,t,n){function r(e,t){try{var n=[].slice.call(arguments,2),r=t.apply(t,n);e(null,r)}catch(t){e(t)}}function o(e){e.preventDefault(),e.stopPropagation()}var i=e("virtual-dom/h"),a=e("virtual-dom/diff"),s=e("virtual-dom/patch"),u=e("virtual-dom/create-element"),c=e("xtend"),f=e("events").EventEmitter;t.exports=function(e){function t(t,n){var r=e.stateIsActive(t,n);return r?"active":""}return{render:function(n,l){r(l,function(){function r(){var n=c(h.sharedState),r={makePath:e.makePath,isActive:e.stateIsActive,active:t,killEvent:o,emitter:h.emitter};return v(i,n,r)}function l(){h.emitter.emit("evaluating template");var e=r(),t=a(m,e);h.el=s(h.el,t),m=e}var p=n.element,v=n.template,d=n.content;"string"==typeof p&&(p=document.querySelector(p));var h={emitter:new f,sharedState:c(d),update:l,el:null},m=r();return h.el=u(m),p.appendChild(h.el),e.on("stateChangeEnd",h.update),h})},reset:function(e,t){r(t,function(){var t=e.domApi,n=e.content;t.sharedState=c(n),t.emitter.removeAllListeners(),t.update()})},destroy:function(t,n){t.el.outerHTML="",t.emitter.removeAllListeners(),e.removeListener("stateChangeEnd",t.update),n(null)},getChildElement:function(e,t){t(null,e.el.querySelector("ui-view"))}}}},{events:27,"virtual-dom/create-element":44,"virtual-dom/diff":45,"virtual-dom/h":46,"virtual-dom/patch":47,xtend:72}],71:[function(e,t,n){function r(e){return"[object Array]"===i.call(e)}var o=Array.isArray,i=Object.prototype.toString;t.exports=o||r},{}],72:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var o=Object.prototype.hasOwnProperty},{}]},{},[12]);